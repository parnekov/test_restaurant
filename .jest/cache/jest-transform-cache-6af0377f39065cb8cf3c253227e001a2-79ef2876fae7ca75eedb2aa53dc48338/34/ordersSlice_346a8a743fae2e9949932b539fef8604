dfc64e835863ebe97479bd09abdf0d83
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setOrders = exports.selectRestaurantQrCodeName = exports.selectRestaurantName = exports.selectRestaurantId = exports.selectOrders = exports.selectMyOrder = exports.postOrdersThunk = exports.ordersSlice = exports.initialState = exports.getOrdersThunk = exports.default = exports.checkUncheckMyOrderItems = exports.checkUncheckAllOrderItemsByOrdersItem = exports.checkUncheckAllOrderItemsByOrder = exports.checkUncheckAllOrderItems = exports.changeAmountOrderItem = exports.changeAmountMyOrderItem = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("react-native");
var _toolkit = require("@reduxjs/toolkit");
var _orders = require("../../api/orders");
var initialState = exports.initialState = {
  order: {
    restaurantId: '',
    restaurantName: '',
    qrCodeName: '',
    myOrder: null,
    orders: null
  },
  loading: false,
  error: ''
};
var getOrdersThunk = exports.getOrdersThunk = (0, _toolkit.createAsyncThunk)('getOrdersThunk', (0, _asyncToGenerator2.default)(function* () {
  var response = yield (0, _orders.getOrders)();
  return response;
}));
var postOrdersThunk = exports.postOrdersThunk = (0, _toolkit.createAsyncThunk)('postOrdersThunk', function () {
  var _ref3 = (0, _asyncToGenerator2.default)(function* (_ref2) {
    var restaurantId = _ref2.restaurantId,
      qrCodeName = _ref2.qrCodeName,
      body = _ref2.body;
    var response = yield (0, _orders.payOrders)({
      restaurantId: restaurantId,
      qrCodeName: qrCodeName,
      body: body
    });
    return response;
  });
  return function (_x) {
    return _ref3.apply(this, arguments);
  };
}());
var ordersSlice = exports.ordersSlice = (0, _toolkit.createSlice)({
  name: 'order',
  initialState: initialState,
  reducers: {
    setOrders: function setOrders(state, action) {
      state.order.orders = action.payload;
    },
    checkUncheckMyOrderItems: function checkUncheckMyOrderItems(state, action) {
      var _state$order, _state$order3;
      if (((_state$order = state.order) == null ? void 0 : _state$order.myOrder) !== null && !action.payload.itemId) {
        var _state$order2;
        var updatedMyOrderItems = (_state$order2 = state.order) == null ? void 0 : _state$order2.myOrder.orderItems.map(function (item) {
          return Object.assign({}, item, {
            checked: action.payload.checked
          });
        });
        state.order.myOrder.orderItems = updatedMyOrderItems;
      } else if (((_state$order3 = state.order) == null ? void 0 : _state$order3.myOrder) !== null && action.payload.itemId) {
        var _state$order4;
        var _updatedMyOrderItems = (_state$order4 = state.order) == null ? void 0 : _state$order4.myOrder.orderItems.map(function (item) {
          if (item.id === action.payload.itemId) {
            return Object.assign({}, item, {
              checked: action.payload.checked
            });
          } else {
            return item;
          }
        });
        state.order.myOrder.orderItems = _updatedMyOrderItems;
      }
    },
    checkUncheckAllOrderItems: function checkUncheckAllOrderItems(state, action) {
      var _state$order5;
      if (((_state$order5 = state.order) == null ? void 0 : _state$order5.orders) !== null) {
        var updatedAllOrders = state.order.orders.map(function (item) {
          return Object.assign({}, item, {
            orderItems: item.orderItems.map(function (i) {
              return Object.assign({}, i, {
                checked: action.payload.checked
              });
            })
          });
        });
        state.order.orders = updatedAllOrders;
      }
    },
    checkUncheckAllOrderItemsByOrder: function checkUncheckAllOrderItemsByOrder(state, action) {
      var _state$order6, _state$order7;
      if (((_state$order6 = state.order) == null ? void 0 : _state$order6.orders) !== null && !action.payload.itemId) {
        var updatedAllOrders = state.order.orders.map(function (item) {
          return Object.assign({}, item, {
            checked: action.payload.checked
          });
        });
        state.order.orders = updatedAllOrders;
      } else if (((_state$order7 = state.order) == null ? void 0 : _state$order7.orders) !== null && action.payload.itemId) {
        var _updatedAllOrders = state.order.orders.map(function (item) {
          if (item.id === action.payload.itemId) {
            return Object.assign({}, item, {
              orderItems: item.orderItems.map(function (i) {
                return Object.assign({}, i, {
                  checked: action.payload.checked
                });
              })
            });
          } else {
            return item;
          }
        });
        state.order.orders = _updatedAllOrders;
      }
    },
    checkUncheckAllOrderItemsByOrdersItem: function checkUncheckAllOrderItemsByOrdersItem(state, action) {
      var _state$order8, _state$order9;
      if (((_state$order8 = state.order) == null ? void 0 : _state$order8.orders) !== null && !action.payload.itemId) {
        var updatedAllOrders = state.order.orders.map(function (item) {
          return Object.assign({}, item, {
            checked: action.payload.checked
          });
        });
        state.order.orders = updatedAllOrders;
      } else if (((_state$order9 = state.order) == null ? void 0 : _state$order9.orders) !== null && action.payload.itemId) {
        var _updatedAllOrders2 = state.order.orders.map(function (item) {
          return Object.assign({}, item, {
            orderItems: item.orderItems.map(function (i) {
              if (i.id === action.payload.itemId) {
                return Object.assign({}, i, {
                  checked: action.payload.checked
                });
              } else {
                return i;
              }
            })
          });
        });
        state.order.orders = _updatedAllOrders2;
      }
    },
    changeAmountMyOrderItem: function changeAmountMyOrderItem(state, action) {
      if (state.order.myOrder !== null) {
        var updatedMyOrderItems = state.order.myOrder.orderItems.map(function (item) {
          if (item.id === action.payload.itemId) {
            return Object.assign({}, item, {
              amount: action.payload.updatedAmount
            });
          } else {
            return item;
          }
        });
        state.order.myOrder.orderItems = updatedMyOrderItems;
      }
    },
    changeAmountOrderItem: function changeAmountOrderItem(state, action) {
      var _state$order10;
      if (((_state$order10 = state.order) == null ? void 0 : _state$order10.orders) !== null) {
        var updatedAllOrders = state.order.orders.map(function (item) {
          return Object.assign({}, item, {
            orderItems: item.orderItems.map(function (i) {
              if (i.id === action.payload.itemId) {
                return Object.assign({}, i, {
                  amount: action.payload.updatedAmount
                });
              } else {
                return i;
              }
            })
          });
        });
        state.order.orders = updatedAllOrders;
      }
    }
  },
  extraReducers: function extraReducers(builder) {
    builder.addCase(getOrdersThunk.pending, function (state) {
      state.loading = true;
    }).addCase(getOrdersThunk.fulfilled, function (state, action) {
      state.loading = false;
      var payload = action.payload;
      var updatedMyOrderItems = payload.myOrder.orderItems.map(function (item) {
        return Object.assign({}, item, {
          checked: true
        });
      });
      var updatedAllOrders = payload.orders.map(function (item) {
        return Object.assign({}, item, {
          orderItems: item.orderItems.map(function (i) {
            return Object.assign({}, i, {
              checked: true
            });
          })
        });
      });
      state.order = Object.assign({}, payload, {
        myOrder: Object.assign({}, payload.myOrder, {
          orderItems: updatedMyOrderItems
        }),
        orders: updatedAllOrders
      });
    }).addCase(getOrdersThunk.rejected, function (state, action) {
      state.loading = false;
      state.error = action.error.message;
    }).addCase(postOrdersThunk.pending, function (state) {
      state.loading = true;
    }).addCase(postOrdersThunk.fulfilled, function (state) {
      state.loading = false;
      _reactNative.Alert.alert('Order Paid!');
    }).addCase(postOrdersThunk.rejected, function (state, action) {
      state.loading = false;
      _reactNative.Alert.alert('Order Paid Error!');
      state.error = action.error.message;
    });
  }
});
var _ordersSlice$actions = ordersSlice.actions,
  setOrders = exports.setOrders = _ordersSlice$actions.setOrders,
  checkUncheckMyOrderItems = exports.checkUncheckMyOrderItems = _ordersSlice$actions.checkUncheckMyOrderItems,
  checkUncheckAllOrderItems = exports.checkUncheckAllOrderItems = _ordersSlice$actions.checkUncheckAllOrderItems,
  checkUncheckAllOrderItemsByOrder = exports.checkUncheckAllOrderItemsByOrder = _ordersSlice$actions.checkUncheckAllOrderItemsByOrder,
  checkUncheckAllOrderItemsByOrdersItem = exports.checkUncheckAllOrderItemsByOrdersItem = _ordersSlice$actions.checkUncheckAllOrderItemsByOrdersItem,
  changeAmountMyOrderItem = exports.changeAmountMyOrderItem = _ordersSlice$actions.changeAmountMyOrderItem,
  changeAmountOrderItem = exports.changeAmountOrderItem = _ordersSlice$actions.changeAmountOrderItem;
var selectOrders = exports.selectOrders = function selectOrders(state) {
  return state.order.order.orders;
};
var selectMyOrder = exports.selectMyOrder = function selectMyOrder(state) {
  return state.order.order.myOrder;
};
var selectRestaurantId = exports.selectRestaurantId = function selectRestaurantId(state) {
  return state.order.order.restaurantId;
};
var selectRestaurantName = exports.selectRestaurantName = function selectRestaurantName(state) {
  return state.order.order.restaurantName;
};
var selectRestaurantQrCodeName = exports.selectRestaurantQrCodeName = function selectRestaurantQrCodeName(state) {
  return state.order.order.qrCodeName;
};
var _default = exports.default = ordersSlice.reducer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX3Rvb2xraXQiLCJfb3JkZXJzIiwiaW5pdGlhbFN0YXRlIiwiZXhwb3J0cyIsIm9yZGVyIiwicmVzdGF1cmFudElkIiwicmVzdGF1cmFudE5hbWUiLCJxckNvZGVOYW1lIiwibXlPcmRlciIsIm9yZGVycyIsImxvYWRpbmciLCJlcnJvciIsImdldE9yZGVyc1RodW5rIiwiY3JlYXRlQXN5bmNUaHVuayIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJyZXNwb25zZSIsImdldE9yZGVycyIsInBvc3RPcmRlcnNUaHVuayIsIl9yZWYzIiwiX3JlZjIiLCJib2R5IiwicGF5T3JkZXJzIiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsIm9yZGVyc1NsaWNlIiwiY3JlYXRlU2xpY2UiLCJuYW1lIiwicmVkdWNlcnMiLCJzZXRPcmRlcnMiLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJjaGVja1VuY2hlY2tNeU9yZGVySXRlbXMiLCJfc3RhdGUkb3JkZXIiLCJfc3RhdGUkb3JkZXIzIiwiaXRlbUlkIiwiX3N0YXRlJG9yZGVyMiIsInVwZGF0ZWRNeU9yZGVySXRlbXMiLCJvcmRlckl0ZW1zIiwibWFwIiwiaXRlbSIsIk9iamVjdCIsImFzc2lnbiIsImNoZWNrZWQiLCJfc3RhdGUkb3JkZXI0IiwiaWQiLCJjaGVja1VuY2hlY2tBbGxPcmRlckl0ZW1zIiwiX3N0YXRlJG9yZGVyNSIsInVwZGF0ZWRBbGxPcmRlcnMiLCJpIiwiY2hlY2tVbmNoZWNrQWxsT3JkZXJJdGVtc0J5T3JkZXIiLCJfc3RhdGUkb3JkZXI2IiwiX3N0YXRlJG9yZGVyNyIsImNoZWNrVW5jaGVja0FsbE9yZGVySXRlbXNCeU9yZGVyc0l0ZW0iLCJfc3RhdGUkb3JkZXI4IiwiX3N0YXRlJG9yZGVyOSIsImNoYW5nZUFtb3VudE15T3JkZXJJdGVtIiwiYW1vdW50IiwidXBkYXRlZEFtb3VudCIsImNoYW5nZUFtb3VudE9yZGVySXRlbSIsIl9zdGF0ZSRvcmRlcjEwIiwiZXh0cmFSZWR1Y2VycyIsImJ1aWxkZXIiLCJhZGRDYXNlIiwicGVuZGluZyIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwibWVzc2FnZSIsIkFsZXJ0IiwiYWxlcnQiLCJfb3JkZXJzU2xpY2UkYWN0aW9ucyIsImFjdGlvbnMiLCJzZWxlY3RPcmRlcnMiLCJzZWxlY3RNeU9yZGVyIiwic2VsZWN0UmVzdGF1cmFudElkIiwic2VsZWN0UmVzdGF1cmFudE5hbWUiLCJzZWxlY3RSZXN0YXVyYW50UXJDb2RlTmFtZSIsIl9kZWZhdWx0IiwicmVkdWNlciJdLCJzb3VyY2VzIjpbIm9yZGVyc1NsaWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIFJFQUNUICovXG5pbXBvcnQge0FsZXJ0fSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuLyogTU9EVUxFUyAqL1xuaW1wb3J0IHtjcmVhdGVTbGljZSwgUGF5bG9hZEFjdGlvbiwgY3JlYXRlQXN5bmNUaHVua30gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG4vKiBUWVBFUyAqL1xuaW1wb3J0IHR5cGUge1Jvb3RTdGF0ZX0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHtPcmRlciwgR2xvYmFsT3JkZXJ9IGZyb20gJy4uLy4uL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7Z2V0T3JkZXJzLCBwYXlPcmRlcnN9IGZyb20gJy4uLy4uL2FwaS9vcmRlcnMnO1xuaW1wb3J0IHtQYXlPcmRlcnN9IGZyb20gJy4uLy4uL3V0aWxzL3R5cGVzJztcblxuLy8gRGVmaW5lIGEgdHlwZSBmb3IgdGhlIHNsaWNlIHN0YXRlXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyc1N0YXRlIHtcbiAgb3JkZXI6IHtcbiAgICByZXN0YXVyYW50SWQ6IHN0cmluZztcbiAgICByZXN0YXVyYW50TmFtZTogc3RyaW5nO1xuICAgIHFyQ29kZU5hbWU6IHN0cmluZztcbiAgICBteU9yZGVyOiBPcmRlciB8IG51bGw7XG4gICAgb3JkZXJzOiBBcnJheTxPcmRlcj4gfCBudWxsO1xuICB9O1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nO1xufVxuXG4vLyBEZWZpbmUgdGhlIGluaXRpYWwgc3RhdGUgdXNpbmcgdGhhdCB0eXBlXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBPcmRlcnNTdGF0ZSA9IHtcbiAgb3JkZXI6IHtcbiAgICByZXN0YXVyYW50SWQ6ICcnLFxuICAgIHJlc3RhdXJhbnROYW1lOiAnJyxcbiAgICBxckNvZGVOYW1lOiAnJyxcbiAgICBteU9yZGVyOiBudWxsLFxuICAgIG9yZGVyczogbnVsbCxcbiAgfSxcbiAgbG9hZGluZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlcnNUaHVuayA9IGNyZWF0ZUFzeW5jVGh1bmsoJ2dldE9yZGVyc1RodW5rJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldE9yZGVycygpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59KTtcblxuZXhwb3J0IGNvbnN0IHBvc3RPcmRlcnNUaHVuayA9IGNyZWF0ZUFzeW5jVGh1bmsoXG4gICdwb3N0T3JkZXJzVGh1bmsnLFxuICBhc3luYyAoe3Jlc3RhdXJhbnRJZCwgcXJDb2RlTmFtZSwgYm9keX06IFBheU9yZGVycykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGF5T3JkZXJzKHtyZXN0YXVyYW50SWQsIHFyQ29kZU5hbWUsIGJvZHl9KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sXG4pO1xuXG5leHBvcnQgY29uc3Qgb3JkZXJzU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICdvcmRlcicsXG4gIGluaXRpYWxTdGF0ZSxcbiAgcmVkdWNlcnM6IHtcbiAgICBzZXRPcmRlcnM6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPEFycmF5PE9yZGVyPiB8IG51bGw+KSA9PiB7XG4gICAgICBzdGF0ZS5vcmRlci5vcmRlcnMgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICB9LFxuICAgIGNoZWNrVW5jaGVja015T3JkZXJJdGVtczogKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e2NoZWNrZWQ6IGJvb2xlYW47IGl0ZW1JZD86IHN0cmluZ30+LFxuICAgICkgPT4ge1xuICAgICAgaWYgKHN0YXRlLm9yZGVyPy5teU9yZGVyICE9PSBudWxsICYmICFhY3Rpb24ucGF5bG9hZC5pdGVtSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZE15T3JkZXJJdGVtcyA9IHN0YXRlLm9yZGVyPy5teU9yZGVyLm9yZGVySXRlbXMubWFwKFxuICAgICAgICAgIGl0ZW0gPT4gKHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBjaGVja2VkOiBhY3Rpb24ucGF5bG9hZC5jaGVja2VkLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5vcmRlci5teU9yZGVyLm9yZGVySXRlbXMgPSB1cGRhdGVkTXlPcmRlckl0ZW1zO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5vcmRlcj8ubXlPcmRlciAhPT0gbnVsbCAmJiBhY3Rpb24ucGF5bG9hZC5pdGVtSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZE15T3JkZXJJdGVtcyA9IHN0YXRlLm9yZGVyPy5teU9yZGVyLm9yZGVySXRlbXMubWFwKFxuICAgICAgICAgIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi5wYXlsb2FkLml0ZW1JZCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogYWN0aW9uLnBheWxvYWQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgc3RhdGUub3JkZXIubXlPcmRlci5vcmRlckl0ZW1zID0gdXBkYXRlZE15T3JkZXJJdGVtcztcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoZWNrVW5jaGVja0FsbE9yZGVySXRlbXM6IChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtjaGVja2VkOiBib29sZWFufT4sXG4gICAgKSA9PiB7XG4gICAgICBpZiAoc3RhdGUub3JkZXI/Lm9yZGVycyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkQWxsT3JkZXJzID0gc3RhdGUub3JkZXIub3JkZXJzLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBvcmRlckl0ZW1zOiBpdGVtLm9yZGVySXRlbXMubWFwKGkgPT4gKHtcbiAgICAgICAgICAgIC4uLmksXG4gICAgICAgICAgICBjaGVja2VkOiBhY3Rpb24ucGF5bG9hZC5jaGVja2VkLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBzdGF0ZS5vcmRlci5vcmRlcnMgPSB1cGRhdGVkQWxsT3JkZXJzO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2hlY2tVbmNoZWNrQWxsT3JkZXJJdGVtc0J5T3JkZXI6IChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtjaGVja2VkOiBib29sZWFuOyBpdGVtSWQ/OiBzdHJpbmd9PixcbiAgICApID0+IHtcbiAgICAgIGlmIChzdGF0ZS5vcmRlcj8ub3JkZXJzICE9PSBudWxsICYmICFhY3Rpb24ucGF5bG9hZC5pdGVtSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEFsbE9yZGVycyA9IHN0YXRlLm9yZGVyLm9yZGVycy5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgY2hlY2tlZDogYWN0aW9uLnBheWxvYWQuY2hlY2tlZCxcbiAgICAgICAgfSkpO1xuICAgICAgICBzdGF0ZS5vcmRlci5vcmRlcnMgPSB1cGRhdGVkQWxsT3JkZXJzO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5vcmRlcj8ub3JkZXJzICE9PSBudWxsICYmIGFjdGlvbi5wYXlsb2FkLml0ZW1JZCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkQWxsT3JkZXJzID0gc3RhdGUub3JkZXIub3JkZXJzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaXRlbUlkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICBvcmRlckl0ZW1zOiBpdGVtLm9yZGVySXRlbXMubWFwKGkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5pLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGFjdGlvbi5wYXlsb2FkLmNoZWNrZWQsXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLm9yZGVyLm9yZGVycyA9IHVwZGF0ZWRBbGxPcmRlcnM7XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGVja1VuY2hlY2tBbGxPcmRlckl0ZW1zQnlPcmRlcnNJdGVtOiAoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7Y2hlY2tlZDogYm9vbGVhbjsgaXRlbUlkPzogc3RyaW5nfT4sXG4gICAgKSA9PiB7XG4gICAgICBpZiAoc3RhdGUub3JkZXI/Lm9yZGVycyAhPT0gbnVsbCAmJiAhYWN0aW9uLnBheWxvYWQuaXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBbGxPcmRlcnMgPSBzdGF0ZS5vcmRlci5vcmRlcnMubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIGNoZWNrZWQ6IGFjdGlvbi5wYXlsb2FkLmNoZWNrZWQsXG4gICAgICAgIH0pKTtcbiAgICAgICAgc3RhdGUub3JkZXIub3JkZXJzID0gdXBkYXRlZEFsbE9yZGVycztcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUub3JkZXI/Lm9yZGVycyAhPT0gbnVsbCAmJiBhY3Rpb24ucGF5bG9hZC5pdGVtSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEFsbE9yZGVycyA9IHN0YXRlLm9yZGVyLm9yZGVycy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBvcmRlckl0ZW1zOiBpdGVtLm9yZGVySXRlbXMubWFwKGkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaS5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaXRlbUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmksXG4gICAgICAgICAgICAgICAgICBjaGVja2VkOiBhY3Rpb24ucGF5bG9hZC5jaGVja2VkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZS5vcmRlci5vcmRlcnMgPSB1cGRhdGVkQWxsT3JkZXJzO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2hhbmdlQW1vdW50TXlPcmRlckl0ZW06IChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHt1cGRhdGVkQW1vdW50OiBudW1iZXI7IGl0ZW1JZDogc3RyaW5nfT4sXG4gICAgKSA9PiB7XG4gICAgICBpZiAoc3RhdGUub3JkZXIubXlPcmRlciAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkTXlPcmRlckl0ZW1zID0gc3RhdGUub3JkZXIubXlPcmRlci5vcmRlckl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaXRlbUlkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICBhbW91bnQ6IGFjdGlvbi5wYXlsb2FkLnVwZGF0ZWRBbW91bnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YXRlLm9yZGVyLm15T3JkZXIub3JkZXJJdGVtcyA9IHVwZGF0ZWRNeU9yZGVySXRlbXM7XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGFuZ2VBbW91bnRPcmRlckl0ZW06IChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHt1cGRhdGVkQW1vdW50OiBudW1iZXI7IGl0ZW1JZDogc3RyaW5nfT4sXG4gICAgKSA9PiB7XG4gICAgICBpZiAoc3RhdGUub3JkZXI/Lm9yZGVycyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkQWxsT3JkZXJzID0gc3RhdGUub3JkZXIub3JkZXJzLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBvcmRlckl0ZW1zOiBpdGVtLm9yZGVySXRlbXMubWFwKGkgPT4ge1xuICAgICAgICAgICAgaWYgKGkuaWQgPT09IGFjdGlvbi5wYXlsb2FkLml0ZW1JZCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBhY3Rpb24ucGF5bG9hZC51cGRhdGVkQW1vdW50LFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pKTtcbiAgICAgICAgc3RhdGUub3JkZXIub3JkZXJzID0gdXBkYXRlZEFsbE9yZGVycztcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBleHRyYVJlZHVjZXJzOiBidWlsZGVyID0+IHtcbiAgICBidWlsZGVyXG4gICAgICAuYWRkQ2FzZShnZXRPcmRlcnNUaHVuay5wZW5kaW5nLCBzdGF0ZSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSlcbiAgICAgIC5hZGRDYXNlKGdldE9yZGVyc1RodW5rLmZ1bGZpbGxlZCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQgYXMgR2xvYmFsT3JkZXI7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNeU9yZGVySXRlbXMgPSBwYXlsb2FkLm15T3JkZXIub3JkZXJJdGVtcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCB1cGRhdGVkQWxsT3JkZXJzID0gcGF5bG9hZC5vcmRlcnMubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIG9yZGVySXRlbXM6IGl0ZW0ub3JkZXJJdGVtcy5tYXAoaSA9PiAoey4uLmksIGNoZWNrZWQ6IHRydWV9KSksXG4gICAgICAgIH0pKTtcbiAgICAgICAgc3RhdGUub3JkZXIgPSB7XG4gICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICBteU9yZGVyOiB7Li4ucGF5bG9hZC5teU9yZGVyLCBvcmRlckl0ZW1zOiB1cGRhdGVkTXlPcmRlckl0ZW1zfSxcbiAgICAgICAgICBvcmRlcnM6IHVwZGF0ZWRBbGxPcmRlcnMsXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLmFkZENhc2UoZ2V0T3JkZXJzVGh1bmsucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24uZXJyb3IubWVzc2FnZSBhcyBzdHJpbmc7XG4gICAgICB9KVxuXG4gICAgICAuYWRkQ2FzZShwb3N0T3JkZXJzVGh1bmsucGVuZGluZywgc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2FzZShwb3N0T3JkZXJzVGh1bmsuZnVsZmlsbGVkLCBzdGF0ZSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgQWxlcnQuYWxlcnQoJ09yZGVyIFBhaWQhJyk7XG4gICAgICB9KVxuICAgICAgLmFkZENhc2UocG9zdE9yZGVyc1RodW5rLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIEFsZXJ0LmFsZXJ0KCdPcmRlciBQYWlkIEVycm9yIScpO1xuICAgICAgICBzdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvci5tZXNzYWdlIGFzIHN0cmluZztcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCB7XG4gIHNldE9yZGVycyxcbiAgY2hlY2tVbmNoZWNrTXlPcmRlckl0ZW1zLFxuICBjaGVja1VuY2hlY2tBbGxPcmRlckl0ZW1zLFxuICBjaGVja1VuY2hlY2tBbGxPcmRlckl0ZW1zQnlPcmRlcixcbiAgY2hlY2tVbmNoZWNrQWxsT3JkZXJJdGVtc0J5T3JkZXJzSXRlbSxcbiAgY2hhbmdlQW1vdW50TXlPcmRlckl0ZW0sXG4gIGNoYW5nZUFtb3VudE9yZGVySXRlbSxcbn0gPSBvcmRlcnNTbGljZS5hY3Rpb25zO1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0T3JkZXJzID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLm9yZGVyLm9yZGVyLm9yZGVycztcbmV4cG9ydCBjb25zdCBzZWxlY3RNeU9yZGVyID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLm9yZGVyLm9yZGVyLm15T3JkZXI7XG5leHBvcnQgY29uc3Qgc2VsZWN0UmVzdGF1cmFudElkID0gKHN0YXRlOiBSb290U3RhdGUpID0+XG4gIHN0YXRlLm9yZGVyLm9yZGVyLnJlc3RhdXJhbnRJZDtcbmV4cG9ydCBjb25zdCBzZWxlY3RSZXN0YXVyYW50TmFtZSA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PlxuICBzdGF0ZS5vcmRlci5vcmRlci5yZXN0YXVyYW50TmFtZTtcbmV4cG9ydCBjb25zdCBzZWxlY3RSZXN0YXVyYW50UXJDb2RlTmFtZSA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PlxuICBzdGF0ZS5vcmRlci5vcmRlci5xckNvZGVOYW1lO1xuXG5leHBvcnQgZGVmYXVsdCBvcmRlcnNTbGljZS5yZWR1Y2VyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFJQSxJQUFBRSxPQUFBLEdBQUFGLE9BQUE7QUFpQk8sSUFBTUcsWUFBeUIsR0FBQUMsT0FBQSxDQUFBRCxZQUFBLEdBQUc7RUFDdkNFLEtBQUssRUFBRTtJQUNMQyxZQUFZLEVBQUUsRUFBRTtJQUNoQkMsY0FBYyxFQUFFLEVBQUU7SUFDbEJDLFVBQVUsRUFBRSxFQUFFO0lBQ2RDLE9BQU8sRUFBRSxJQUFJO0lBQ2JDLE1BQU0sRUFBRTtFQUNWLENBQUM7RUFDREMsT0FBTyxFQUFFLEtBQUs7RUFDZEMsS0FBSyxFQUFFO0FBQ1QsQ0FBQztBQUVNLElBQU1DLGNBQWMsR0FBQVQsT0FBQSxDQUFBUyxjQUFBLEdBQUcsSUFBQUMseUJBQWdCLEVBQUMsZ0JBQWdCLE1BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO0VBQzNFLElBQU1DLFFBQVEsU0FBUyxJQUFBQyxpQkFBUyxFQUFDLENBQUM7RUFDbEMsT0FBT0QsUUFBUTtBQUNqQixDQUFDLEVBQUM7QUFFSyxJQUFNRSxlQUFl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QUN4QmMseUJBQXlCLEdBQUE3QyxPQUFBLENBQUE2Qyx5QkFBQSxHQUFBd0Isb0JBQUEsQ0FBekJ4Qix5QkFBeUI7RUFDekJJLGdDQUFnQyxHQUFBakQsT0FBQSxDQUFBaUQsZ0NBQUEsR0FBQW9CLG9CQUFBLENBQWhDcEIsZ0NBQWdDO0VBQ2hDRyxxQ0FBcUMsR0FBQXBELE9BQUEsQ0FBQW9ELHFDQUFBLEdBQUFpQixvQkFBQSxDQUFyQ2pCLHFDQUFxQztFQUNyQ0csdUJBQXVCLEdBQUF2RCxPQUFBLENBQUF1RCx1QkFBQSxHQUFBYyxvQkFBQSxDQUF2QmQsdUJBQXVCO0VBQ3ZCRyxxQkFBcUIsR0FBQTFELE9BQUEsQ0FBQTBELHFCQUFBLEdBQUFXLG9CQUFBLENBQXJCWCxxQkFBcUI7QUFHaEIsSUFBTWEsWUFBWSxHQUFBdkUsT0FBQSxDQUFBdUUsWUFBQSxHQUFHLFNBQWZBLFlBQVlBLENBQUkzQyxLQUFnQjtFQUFBLE9BQUtBLEtBQUssQ0FBQzNCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDSyxNQUFNO0FBQUE7QUFDbkUsSUFBTWtFLGFBQWEsR0FBQXhFLE9BQUEsQ0FBQXdFLGFBQUEsR0FBRyxTQUFoQkEsYUFBYUEsQ0FBSTVDLEtBQWdCO0VBQUEsT0FBS0EsS0FBSyxDQUFDM0IsS0FBSyxDQUFDQSxLQUFLLENBQUNJLE9BQU87QUFBQTtBQUNyRSxJQUFNb0Usa0JBQWtCLEdBQUF6RSxPQUFBLENBQUF5RSxrQkFBQSxHQUFHLFNBQXJCQSxrQkFBa0JBLENBQUk3QyxLQUFnQjtFQUFBLE9BQ2pEQSxLQUFLLENBQUMzQixLQUFLLENBQUNBLEtBQUssQ0FBQ0MsWUFBWTtBQUFBO0FBQ3pCLElBQU13RSxvQkFBb0IsR0FBQTFFLE9BQUEsQ0FBQTBFLG9CQUFBLEdBQUcsU0FBdkJBLG9CQUFvQkEsQ0FBSTlDLEtBQWdCO0VBQUEsT0FDbkRBLEtBQUssQ0FBQzNCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDRSxjQUFjO0FBQUE7QUFDM0IsSUFBTXdFLDBCQUEwQixHQUFBM0UsT0FBQSxDQUFBMkUsMEJBQUEsR0FBRyxTQUE3QkEsMEJBQTBCQSxDQUFJL0MsS0FBZ0I7RUFBQSxPQUN6REEsS0FBSyxDQUFDM0IsS0FBSyxDQUFDQSxLQUFLLENBQUNHLFVBQVU7QUFBQTtBQUFDLElBQUF3RSxRQUFBLEdBQUE1RSxPQUFBLENBQUFZLE9BQUEsR0FFaEJXLFdBQVcsQ0FBQ3NELE9BQU8iLCJpZ25vcmVMaXN0IjpbXX0=