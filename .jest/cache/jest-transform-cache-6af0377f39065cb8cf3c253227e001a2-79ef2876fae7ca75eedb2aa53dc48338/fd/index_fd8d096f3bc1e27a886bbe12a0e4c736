a7c10af0864a7d2544ec293fc2f063ad
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = diffSequence;
var pkg = 'diff-sequences';
var NOT_YET_SET = 0;
var countCommonItemsF = function countCommonItemsF(aIndex, aEnd, bIndex, bEnd, isCommon) {
  var nCommon = 0;
  while (aIndex < aEnd && bIndex < bEnd && isCommon(aIndex, bIndex)) {
    aIndex += 1;
    bIndex += 1;
    nCommon += 1;
  }
  return nCommon;
};
var countCommonItemsR = function countCommonItemsR(aStart, aIndex, bStart, bIndex, isCommon) {
  var nCommon = 0;
  while (aStart <= aIndex && bStart <= bIndex && isCommon(aIndex, bIndex)) {
    aIndex -= 1;
    bIndex -= 1;
    nCommon += 1;
  }
  return nCommon;
};
var extendPathsF = function extendPathsF(d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF) {
  var iF = 0;
  var kF = -d;
  var aFirst = aIndexesF[iF];
  var aIndexPrev1 = aFirst;
  aIndexesF[iF] += countCommonItemsF(aFirst + 1, aEnd, bF + aFirst - kF + 1, bEnd, isCommon);
  var nF = d < iMaxF ? d : iMaxF;
  for (iF += 1, kF += 2; iF <= nF; iF += 1, kF += 2) {
    if (iF !== d && aIndexPrev1 < aIndexesF[iF]) {
      aFirst = aIndexesF[iF];
    } else {
      aFirst = aIndexPrev1 + 1;
      if (aEnd <= aFirst) {
        return iF - 1;
      }
    }
    aIndexPrev1 = aIndexesF[iF];
    aIndexesF[iF] = aFirst + countCommonItemsF(aFirst + 1, aEnd, bF + aFirst - kF + 1, bEnd, isCommon);
  }
  return iMaxF;
};
var extendPathsR = function extendPathsR(d, aStart, bStart, bR, isCommon, aIndexesR, iMaxR) {
  var iR = 0;
  var kR = d;
  var aFirst = aIndexesR[iR];
  var aIndexPrev1 = aFirst;
  aIndexesR[iR] -= countCommonItemsR(aStart, aFirst - 1, bStart, bR + aFirst - kR - 1, isCommon);
  var nR = d < iMaxR ? d : iMaxR;
  for (iR += 1, kR -= 2; iR <= nR; iR += 1, kR -= 2) {
    if (iR !== d && aIndexesR[iR] < aIndexPrev1) {
      aFirst = aIndexesR[iR];
    } else {
      aFirst = aIndexPrev1 - 1;
      if (aFirst < aStart) {
        return iR - 1;
      }
    }
    aIndexPrev1 = aIndexesR[iR];
    aIndexesR[iR] = aFirst - countCommonItemsR(aStart, aFirst - 1, bStart, bR + aFirst - kR - 1, isCommon);
  }
  return iMaxR;
};
var extendOverlappablePathsF = function extendOverlappablePathsF(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division) {
  var bF = bStart - aStart;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var kMinOverlapF = -baDeltaLength - (d - 1);
  var kMaxOverlapF = -baDeltaLength + (d - 1);
  var aIndexPrev1 = NOT_YET_SET;
  var nF = d < iMaxF ? d : iMaxF;
  for (var iF = 0, kF = -d; iF <= nF; iF += 1, kF += 2) {
    var insert = iF === 0 || iF !== d && aIndexPrev1 < aIndexesF[iF];
    var aLastPrev = insert ? aIndexesF[iF] : aIndexPrev1;
    var aFirst = insert ? aLastPrev : aLastPrev + 1;
    var bFirst = bF + aFirst - kF;
    var nCommonF = countCommonItemsF(aFirst + 1, aEnd, bFirst + 1, bEnd, isCommon);
    var aLast = aFirst + nCommonF;
    aIndexPrev1 = aIndexesF[iF];
    aIndexesF[iF] = aLast;
    if (kMinOverlapF <= kF && kF <= kMaxOverlapF) {
      var iR = (d - 1 - (kF + baDeltaLength)) / 2;
      if (iR <= iMaxR && aIndexesR[iR] - 1 <= aLast) {
        var bLastPrev = bF + aLastPrev - (insert ? kF + 1 : kF - 1);
        var nCommonR = countCommonItemsR(aStart, aLastPrev, bStart, bLastPrev, isCommon);
        var aIndexPrevFirst = aLastPrev - nCommonR;
        var bIndexPrevFirst = bLastPrev - nCommonR;
        var aEndPreceding = aIndexPrevFirst + 1;
        var bEndPreceding = bIndexPrevFirst + 1;
        division.nChangePreceding = d - 1;
        if (d - 1 === aEndPreceding + bEndPreceding - aStart - bStart) {
          division.aEndPreceding = aStart;
          division.bEndPreceding = bStart;
        } else {
          division.aEndPreceding = aEndPreceding;
          division.bEndPreceding = bEndPreceding;
        }
        division.nCommonPreceding = nCommonR;
        if (nCommonR !== 0) {
          division.aCommonPreceding = aEndPreceding;
          division.bCommonPreceding = bEndPreceding;
        }
        division.nCommonFollowing = nCommonF;
        if (nCommonF !== 0) {
          division.aCommonFollowing = aFirst + 1;
          division.bCommonFollowing = bFirst + 1;
        }
        var aStartFollowing = aLast + 1;
        var bStartFollowing = bFirst + nCommonF + 1;
        division.nChangeFollowing = d - 1;
        if (d - 1 === aEnd + bEnd - aStartFollowing - bStartFollowing) {
          division.aStartFollowing = aEnd;
          division.bStartFollowing = bEnd;
        } else {
          division.aStartFollowing = aStartFollowing;
          division.bStartFollowing = bStartFollowing;
        }
        return true;
      }
    }
  }
  return false;
};
var extendOverlappablePathsR = function extendOverlappablePathsR(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division) {
  var bR = bEnd - aEnd;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var kMinOverlapR = baDeltaLength - d;
  var kMaxOverlapR = baDeltaLength + d;
  var aIndexPrev1 = NOT_YET_SET;
  var nR = d < iMaxR ? d : iMaxR;
  for (var iR = 0, kR = d; iR <= nR; iR += 1, kR -= 2) {
    var insert = iR === 0 || iR !== d && aIndexesR[iR] < aIndexPrev1;
    var aLastPrev = insert ? aIndexesR[iR] : aIndexPrev1;
    var aFirst = insert ? aLastPrev : aLastPrev - 1;
    var bFirst = bR + aFirst - kR;
    var nCommonR = countCommonItemsR(aStart, aFirst - 1, bStart, bFirst - 1, isCommon);
    var aLast = aFirst - nCommonR;
    aIndexPrev1 = aIndexesR[iR];
    aIndexesR[iR] = aLast;
    if (kMinOverlapR <= kR && kR <= kMaxOverlapR) {
      var iF = (d + (kR - baDeltaLength)) / 2;
      if (iF <= iMaxF && aLast - 1 <= aIndexesF[iF]) {
        var bLast = bFirst - nCommonR;
        division.nChangePreceding = d;
        if (d === aLast + bLast - aStart - bStart) {
          division.aEndPreceding = aStart;
          division.bEndPreceding = bStart;
        } else {
          division.aEndPreceding = aLast;
          division.bEndPreceding = bLast;
        }
        division.nCommonPreceding = nCommonR;
        if (nCommonR !== 0) {
          division.aCommonPreceding = aLast;
          division.bCommonPreceding = bLast;
        }
        division.nChangeFollowing = d - 1;
        if (d === 1) {
          division.nCommonFollowing = 0;
          division.aStartFollowing = aEnd;
          division.bStartFollowing = bEnd;
        } else {
          var bLastPrev = bR + aLastPrev - (insert ? kR - 1 : kR + 1);
          var nCommonF = countCommonItemsF(aLastPrev, aEnd, bLastPrev, bEnd, isCommon);
          division.nCommonFollowing = nCommonF;
          if (nCommonF !== 0) {
            division.aCommonFollowing = aLastPrev;
            division.bCommonFollowing = bLastPrev;
          }
          var aStartFollowing = aLastPrev + nCommonF;
          var bStartFollowing = bLastPrev + nCommonF;
          if (d - 1 === aEnd + bEnd - aStartFollowing - bStartFollowing) {
            division.aStartFollowing = aEnd;
            division.bStartFollowing = bEnd;
          } else {
            division.aStartFollowing = aStartFollowing;
            division.bStartFollowing = bStartFollowing;
          }
        }
        return true;
      }
    }
  }
  return false;
};
var divide = function divide(nChange, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, aIndexesR, division) {
  var bF = bStart - aStart;
  var bR = bEnd - aEnd;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var iMaxF = aLength;
  var iMaxR = aLength;
  aIndexesF[0] = aStart - 1;
  aIndexesR[0] = aEnd;
  if (baDeltaLength % 2 === 0) {
    var dMin = (nChange || baDeltaLength) / 2;
    var dMax = (aLength + bLength) / 2;
    for (var d = 1; d <= dMax; d += 1) {
      iMaxF = extendPathsF(d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
      if (d < dMin) {
        iMaxR = extendPathsR(d, aStart, bStart, bR, isCommon, aIndexesR, iMaxR);
      } else if (extendOverlappablePathsR(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division)) {
        return;
      }
    }
  } else {
    var _dMin = ((nChange || baDeltaLength) + 1) / 2;
    var _dMax = (aLength + bLength + 1) / 2;
    var _d = 1;
    iMaxF = extendPathsF(_d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
    for (_d += 1; _d <= _dMax; _d += 1) {
      iMaxR = extendPathsR(_d - 1, aStart, bStart, bR, isCommon, aIndexesR, iMaxR);
      if (_d < _dMin) {
        iMaxF = extendPathsF(_d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
      } else if (extendOverlappablePathsF(_d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division)) {
        return;
      }
    }
  }
  throw new Error(`${pkg}: no overlap aStart=${aStart} aEnd=${aEnd} bStart=${bStart} bEnd=${bEnd}`);
};
var findSubsequences = function findSubsequences(nChange, aStart, aEnd, bStart, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division) {
  if (bEnd - bStart < aEnd - aStart) {
    transposed = !transposed;
    if (transposed && callbacks.length === 1) {
      var _callbacks$ = callbacks[0],
        _foundSubsequence = _callbacks$.foundSubsequence,
        _isCommon = _callbacks$.isCommon;
      callbacks[1] = {
        foundSubsequence: function foundSubsequence(nCommon, bCommon, aCommon) {
          _foundSubsequence(nCommon, aCommon, bCommon);
        },
        isCommon: function isCommon(bIndex, aIndex) {
          return _isCommon(aIndex, bIndex);
        }
      };
    }
    var tStart = aStart;
    var tEnd = aEnd;
    aStart = bStart;
    aEnd = bEnd;
    bStart = tStart;
    bEnd = tEnd;
  }
  var _callbacks = callbacks[transposed ? 1 : 0],
    foundSubsequence = _callbacks.foundSubsequence,
    isCommon = _callbacks.isCommon;
  divide(nChange, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, aIndexesR, division);
  var nChangePreceding = division.nChangePreceding,
    aEndPreceding = division.aEndPreceding,
    bEndPreceding = division.bEndPreceding,
    nCommonPreceding = division.nCommonPreceding,
    aCommonPreceding = division.aCommonPreceding,
    bCommonPreceding = division.bCommonPreceding,
    nCommonFollowing = division.nCommonFollowing,
    aCommonFollowing = division.aCommonFollowing,
    bCommonFollowing = division.bCommonFollowing,
    nChangeFollowing = division.nChangeFollowing,
    aStartFollowing = division.aStartFollowing,
    bStartFollowing = division.bStartFollowing;
  if (aStart < aEndPreceding && bStart < bEndPreceding) {
    findSubsequences(nChangePreceding, aStart, aEndPreceding, bStart, bEndPreceding, transposed, callbacks, aIndexesF, aIndexesR, division);
  }
  if (nCommonPreceding !== 0) {
    foundSubsequence(nCommonPreceding, aCommonPreceding, bCommonPreceding);
  }
  if (nCommonFollowing !== 0) {
    foundSubsequence(nCommonFollowing, aCommonFollowing, bCommonFollowing);
  }
  if (aStartFollowing < aEnd && bStartFollowing < bEnd) {
    findSubsequences(nChangeFollowing, aStartFollowing, aEnd, bStartFollowing, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division);
  }
};
var validateLength = function validateLength(name, arg) {
  if (typeof arg !== 'number') {
    throw new TypeError(`${pkg}: ${name} typeof ${typeof arg} is not a number`);
  }
  if (!Number.isSafeInteger(arg)) {
    throw new RangeError(`${pkg}: ${name} value ${arg} is not a safe integer`);
  }
  if (arg < 0) {
    throw new RangeError(`${pkg}: ${name} value ${arg} is a negative integer`);
  }
};
var validateCallback = function validateCallback(name, arg) {
  var type = typeof arg;
  if (type !== 'function') {
    throw new TypeError(`${pkg}: ${name} typeof ${type} is not a function`);
  }
};
function diffSequence(aLength, bLength, isCommon, foundSubsequence) {
  validateLength('aLength', aLength);
  validateLength('bLength', bLength);
  validateCallback('isCommon', isCommon);
  validateCallback('foundSubsequence', foundSubsequence);
  var nCommonF = countCommonItemsF(0, aLength, 0, bLength, isCommon);
  if (nCommonF !== 0) {
    foundSubsequence(nCommonF, 0, 0);
  }
  if (aLength !== nCommonF || bLength !== nCommonF) {
    var aStart = nCommonF;
    var bStart = nCommonF;
    var nCommonR = countCommonItemsR(aStart, aLength - 1, bStart, bLength - 1, isCommon);
    var aEnd = aLength - nCommonR;
    var bEnd = bLength - nCommonR;
    var nCommonFR = nCommonF + nCommonR;
    if (aLength !== nCommonFR && bLength !== nCommonFR) {
      var nChange = 0;
      var transposed = false;
      var callbacks = [{
        foundSubsequence: foundSubsequence,
        isCommon: isCommon
      }];
      var aIndexesF = [NOT_YET_SET];
      var aIndexesR = [NOT_YET_SET];
      var division = {
        aCommonFollowing: NOT_YET_SET,
        aCommonPreceding: NOT_YET_SET,
        aEndPreceding: NOT_YET_SET,
        aStartFollowing: NOT_YET_SET,
        bCommonFollowing: NOT_YET_SET,
        bCommonPreceding: NOT_YET_SET,
        bEndPreceding: NOT_YET_SET,
        bStartFollowing: NOT_YET_SET,
        nChangeFollowing: NOT_YET_SET,
        nChangePreceding: NOT_YET_SET,
        nCommonFollowing: NOT_YET_SET,
        nCommonPreceding: NOT_YET_SET
      };
      findSubsequences(nChange, aStart, aEnd, bStart, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division);
    }
    if (nCommonR !== 0) {
      foundSubsequence(nCommonR, aEnd, bEnd);
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJkaWZmU2VxdWVuY2UiLCJwa2ciLCJOT1RfWUVUX1NFVCIsImNvdW50Q29tbW9uSXRlbXNGIiwiYUluZGV4IiwiYUVuZCIsImJJbmRleCIsImJFbmQiLCJpc0NvbW1vbiIsIm5Db21tb24iLCJjb3VudENvbW1vbkl0ZW1zUiIsImFTdGFydCIsImJTdGFydCIsImV4dGVuZFBhdGhzRiIsImQiLCJiRiIsImFJbmRleGVzRiIsImlNYXhGIiwiaUYiLCJrRiIsImFGaXJzdCIsImFJbmRleFByZXYxIiwibkYiLCJleHRlbmRQYXRoc1IiLCJiUiIsImFJbmRleGVzUiIsImlNYXhSIiwiaVIiLCJrUiIsIm5SIiwiZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNGIiwiZGl2aXNpb24iLCJhTGVuZ3RoIiwiYkxlbmd0aCIsImJhRGVsdGFMZW5ndGgiLCJrTWluT3ZlcmxhcEYiLCJrTWF4T3ZlcmxhcEYiLCJpbnNlcnQiLCJhTGFzdFByZXYiLCJiRmlyc3QiLCJuQ29tbW9uRiIsImFMYXN0IiwiYkxhc3RQcmV2IiwibkNvbW1vblIiLCJhSW5kZXhQcmV2Rmlyc3QiLCJiSW5kZXhQcmV2Rmlyc3QiLCJhRW5kUHJlY2VkaW5nIiwiYkVuZFByZWNlZGluZyIsIm5DaGFuZ2VQcmVjZWRpbmciLCJuQ29tbW9uUHJlY2VkaW5nIiwiYUNvbW1vblByZWNlZGluZyIsImJDb21tb25QcmVjZWRpbmciLCJuQ29tbW9uRm9sbG93aW5nIiwiYUNvbW1vbkZvbGxvd2luZyIsImJDb21tb25Gb2xsb3dpbmciLCJhU3RhcnRGb2xsb3dpbmciLCJiU3RhcnRGb2xsb3dpbmciLCJuQ2hhbmdlRm9sbG93aW5nIiwiZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNSIiwia01pbk92ZXJsYXBSIiwia01heE92ZXJsYXBSIiwiYkxhc3QiLCJkaXZpZGUiLCJuQ2hhbmdlIiwiZE1pbiIsImRNYXgiLCJFcnJvciIsImZpbmRTdWJzZXF1ZW5jZXMiLCJ0cmFuc3Bvc2VkIiwiY2FsbGJhY2tzIiwibGVuZ3RoIiwiX2NhbGxiYWNrcyQiLCJmb3VuZFN1YnNlcXVlbmNlIiwiYkNvbW1vbiIsImFDb21tb24iLCJ0U3RhcnQiLCJ0RW5kIiwiX2NhbGxiYWNrcyIsInZhbGlkYXRlTGVuZ3RoIiwibmFtZSIsImFyZyIsIlR5cGVFcnJvciIsIk51bWJlciIsImlzU2FmZUludGVnZXIiLCJSYW5nZUVycm9yIiwidmFsaWRhdGVDYWxsYmFjayIsInR5cGUiLCJuQ29tbW9uRlIiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGlmZlNlcXVlbmNlO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4vLyBUaGlzIGRpZmYtc2VxdWVuY2VzIHBhY2thZ2UgaW1wbGVtZW50cyB0aGUgbGluZWFyIHNwYWNlIHZhcmlhdGlvbiBpblxuLy8gQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zIGJ5IEV1Z2VuZSBXLiBNeWVyc1xuXG4vLyBSZWxhdGlvbnNoaXAgaW4gbm90YXRpb24gYmV0d2VlbiBNeWVycyBwYXBlciBhbmQgdGhpcyBwYWNrYWdlOlxuLy8gQSBpcyBhXG4vLyBOIGlzIGFMZW5ndGgsIGFFbmQgLSBhU3RhcnQsIGFuZCBzbyBvblxuLy8geCBpcyBhSW5kZXgsIGFGaXJzdCwgYUxhc3QsIGFuZCBzbyBvblxuLy8gQiBpcyBiXG4vLyBNIGlzIGJMZW5ndGgsIGJFbmQgLSBiU3RhcnQsIGFuZCBzbyBvblxuLy8geSBpcyBiSW5kZXgsIGJGaXJzdCwgYkxhc3QsIGFuZCBzbyBvblxuLy8gzpQgPSBOIC0gTSBpcyBuZWdhdGl2ZSBvZiBiYURlbHRhTGVuZ3RoID0gYkxlbmd0aCAtIGFMZW5ndGhcbi8vIEQgaXMgZFxuLy8gayBpcyBrRlxuLy8gayArIM6UIGlzIGtGID0ga1IgLSBiYURlbHRhTGVuZ3RoXG4vLyBWIGlzIGFJbmRleGVzRiBvciBhSW5kZXhlc1IgKHNlZSBjb21tZW50IGJlbG93IGFib3V0IEluZGV4ZXMgdHlwZSlcbi8vIGluZGV4IGludGVydmFscyBbMSwgTl0gYW5kIFsxLCBNXSBhcmUgWzAsIGFMZW5ndGgpIGFuZCBbMCwgYkxlbmd0aClcbi8vIHN0YXJ0aW5nIHBvaW50IGluIGZvcndhcmQgZGlyZWN0aW9uICgwLCAwKSBpcyAoLTEsIC0xKVxuLy8gc3RhcnRpbmcgcG9pbnQgaW4gcmV2ZXJzZSBkaXJlY3Rpb24gKE4gKyAxLCBNICsgMSkgaXMgKGFMZW5ndGgsIGJMZW5ndGgpXG5cbi8vIFRoZSDigJxlZGl0IGdyYXBo4oCdIGZvciBzZXF1ZW5jZXMgYSBhbmQgYiBjb3JyZXNwb25kcyB0byBpdGVtczpcbi8vIGluIGEgb24gdGhlIGhvcml6b250YWwgYXhpc1xuLy8gaW4gYiBvbiB0aGUgdmVydGljYWwgYXhpc1xuLy9cbi8vIEdpdmVuIGEtY29vcmRpbmF0ZSBvZiBhIHBvaW50IGluIGEgZGlhZ29uYWwsIHlvdSBjYW4gY29tcHV0ZSBiLWNvb3JkaW5hdGUuXG4vL1xuLy8gRm9yd2FyZCBkaWFnb25hbHMga0Y6XG4vLyB6ZXJvIGRpYWdvbmFsIGludGVyc2VjdHMgdG9wIGxlZnQgY29ybmVyXG4vLyBwb3NpdGl2ZSBkaWFnb25hbHMgaW50ZXJzZWN0IHRvcCBlZGdlXG4vLyBuZWdhdGl2ZSBkaWFnb25hbHMgaW5zZXJzZWN0IGxlZnQgZWRnZVxuLy9cbi8vIFJldmVyc2UgZGlhZ29uYWxzIGtSOlxuLy8gemVybyBkaWFnb25hbCBpbnRlcnNlY3RzIGJvdHRvbSByaWdodCBjb3JuZXJcbi8vIHBvc2l0aXZlIGRpYWdvbmFscyBpbnRlcnNlY3QgcmlnaHQgZWRnZVxuLy8gbmVnYXRpdmUgZGlhZ29uYWxzIGludGVyc2VjdCBib3R0b20gZWRnZVxuXG4vLyBUaGUgZ3JhcGggY29udGFpbnMgYSBkaXJlY3RlZCBhY3ljbGljIGdyYXBoIG9mIGVkZ2VzOlxuLy8gaG9yaXpvbnRhbDogZGVsZXRlIGFuIGl0ZW0gZnJvbSBhXG4vLyB2ZXJ0aWNhbDogaW5zZXJ0IGFuIGl0ZW0gZnJvbSBiXG4vLyBkaWFnb25hbDogY29tbW9uIGl0ZW0gaW4gYSBhbmQgYlxuLy9cbi8vIFRoZSBhbGdvcml0aG0gc29sdmVzIGR1YWwgcHJvYmxlbXMgaW4gdGhlIGdyYXBoIGFuYWxvZ3k6XG4vLyBGaW5kIGxvbmdlc3QgY29tbW9uIHN1YnNlcXVlbmNlOiBwYXRoIHdpdGggbWF4aW11bSBudW1iZXIgb2YgZGlhZ29uYWwgZWRnZXNcbi8vIEZpbmQgc2hvcnRlc3QgZWRpdCBzY3JpcHQ6IHBhdGggd2l0aCBtaW5pbXVtIG51bWJlciBvZiBub24tZGlhZ29uYWwgZWRnZXNcblxuLy8gSW5wdXQgY2FsbGJhY2sgZnVuY3Rpb24gY29tcGFyZXMgaXRlbXMgYXQgaW5kZXhlcyBpbiB0aGUgc2VxdWVuY2VzLlxuXG4vLyBPdXRwdXQgY2FsbGJhY2sgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIG51bWJlciBvZiBhZGphY2VudCBpdGVtc1xuLy8gYW5kIHN0YXJ0aW5nIGluZGV4ZXMgb2YgZWFjaCBjb21tb24gc3Vic2VxdWVuY2UuXG4vLyBFaXRoZXIgb3JpZ2luYWwgZnVuY3Rpb25zIG9yIHdyYXBwZWQgdG8gc3dhcCBpbmRleGVzIGlmIGdyYXBoIGlzIHRyYW5zcG9zZWQuXG4vLyBJbmRleGVzIGluIHNlcXVlbmNlIGEgb2YgbGFzdCBwb2ludCBvZiBmb3J3YXJkIG9yIHJldmVyc2UgcGF0aHMgaW4gZ3JhcGguXG4vLyBNeWVycyBhbGdvcml0aG0gaW5kZXhlcyBieSBkaWFnb25hbCBrIHdoaWNoIGZvciBuZWdhdGl2ZSBpcyBiYWQgZGVvcHQgaW4gVjguXG4vLyBUaGlzIHBhY2thZ2UgaW5kZXhlcyBieSBpRiBhbmQgaVIgd2hpY2ggYXJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB6ZXJvLlxuLy8gYW5kIGFsc28gdXBkYXRlcyB0aGUgaW5kZXggYXJyYXlzIGluIHBsYWNlIHRvIGN1dCBtZW1vcnkgaW4gaGFsZi5cbi8vIGtGID0gMiAqIGlGIC0gZFxuLy8ga1IgPSBkIC0gMiAqIGlSXG4vLyBEaXZpc2lvbiBvZiBpbmRleCBpbnRlcnZhbHMgaW4gc2VxdWVuY2VzIGEgYW5kIGIgYXQgdGhlIG1pZGRsZSBjaGFuZ2UuXG4vLyBJbnZhcmlhbnQ6IGludGVydmFscyBkbyBub3QgaGF2ZSBjb21tb24gaXRlbXMgYXQgdGhlIHN0YXJ0IG9yIGVuZC5cbmNvbnN0IHBrZyA9ICdkaWZmLXNlcXVlbmNlcyc7IC8vIGZvciBlcnJvciBtZXNzYWdlc1xuY29uc3QgTk9UX1lFVF9TRVQgPSAwOyAvLyBzbWFsbCBpbnQgaW5zdGVhZCBvZiB1bmRlZmluZWQgdG8gYXZvaWQgZGVvcHQgaW4gVjhcblxuLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgY29tbW9uIGl0ZW1zIHRoYXQgZm9sbG93IGluIGZvcndhcmQgZGlyZWN0aW9uLlxuLy8gVGhlIGxlbmd0aCBvZiB3aGF0IE15ZXJzIHBhcGVyIGNhbGxzIGEg4oCcc25ha2XigJ0gaW4gYSBmb3J3YXJkIHBhdGguXG5jb25zdCBjb3VudENvbW1vbkl0ZW1zRiA9IChhSW5kZXgsIGFFbmQsIGJJbmRleCwgYkVuZCwgaXNDb21tb24pID0+IHtcbiAgbGV0IG5Db21tb24gPSAwO1xuICB3aGlsZSAoYUluZGV4IDwgYUVuZCAmJiBiSW5kZXggPCBiRW5kICYmIGlzQ29tbW9uKGFJbmRleCwgYkluZGV4KSkge1xuICAgIGFJbmRleCArPSAxO1xuICAgIGJJbmRleCArPSAxO1xuICAgIG5Db21tb24gKz0gMTtcbiAgfVxuICByZXR1cm4gbkNvbW1vbjtcbn07XG5cbi8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGNvbW1vbiBpdGVtcyB0aGF0IHByZWNlZGUgaW4gcmV2ZXJzZSBkaXJlY3Rpb24uXG4vLyBUaGUgbGVuZ3RoIG9mIHdoYXQgTXllcnMgcGFwZXIgY2FsbHMgYSDigJxzbmFrZeKAnSBpbiBhIHJldmVyc2UgcGF0aC5cbmNvbnN0IGNvdW50Q29tbW9uSXRlbXNSID0gKGFTdGFydCwgYUluZGV4LCBiU3RhcnQsIGJJbmRleCwgaXNDb21tb24pID0+IHtcbiAgbGV0IG5Db21tb24gPSAwO1xuICB3aGlsZSAoYVN0YXJ0IDw9IGFJbmRleCAmJiBiU3RhcnQgPD0gYkluZGV4ICYmIGlzQ29tbW9uKGFJbmRleCwgYkluZGV4KSkge1xuICAgIGFJbmRleCAtPSAxO1xuICAgIGJJbmRleCAtPSAxO1xuICAgIG5Db21tb24gKz0gMTtcbiAgfVxuICByZXR1cm4gbkNvbW1vbjtcbn07XG5cbi8vIEEgc2ltcGxlIGZ1bmN0aW9uIHRvIGV4dGVuZCBmb3J3YXJkIHBhdGhzIGZyb20gKGQgLSAxKSB0byBkIGNoYW5nZXNcbi8vIHdoZW4gZm9yd2FyZCBhbmQgcmV2ZXJzZSBwYXRocyBjYW5ub3QgeWV0IG92ZXJsYXAuXG5jb25zdCBleHRlbmRQYXRoc0YgPSAoXG4gIGQsXG4gIGFFbmQsXG4gIGJFbmQsXG4gIGJGLFxuICBpc0NvbW1vbixcbiAgYUluZGV4ZXNGLFxuICBpTWF4RiAvLyByZXR1cm4gdGhlIHZhbHVlIGJlY2F1c2Ugb3B0aW1pemF0aW9uIG1pZ2h0IGRlY3JlYXNlIGl0XG4pID0+IHtcbiAgLy8gVW5yb2xsIHRoZSBmaXJzdCBpdGVyYXRpb24uXG4gIGxldCBpRiA9IDA7XG4gIGxldCBrRiA9IC1kOyAvLyBrRiA9IDIgKiBpRiAtIGRcbiAgbGV0IGFGaXJzdCA9IGFJbmRleGVzRltpRl07IC8vIGluIGZpcnN0IGl0ZXJhdGlvbiBhbHdheXMgaW5zZXJ0XG4gIGxldCBhSW5kZXhQcmV2MSA9IGFGaXJzdDsgLy8gcHJldiB2YWx1ZSBvZiBbaUYgLSAxXSBpbiBuZXh0IGl0ZXJhdGlvblxuICBhSW5kZXhlc0ZbaUZdICs9IGNvdW50Q29tbW9uSXRlbXNGKFxuICAgIGFGaXJzdCArIDEsXG4gICAgYUVuZCxcbiAgICBiRiArIGFGaXJzdCAtIGtGICsgMSxcbiAgICBiRW5kLFxuICAgIGlzQ29tbW9uXG4gICk7XG5cbiAgLy8gT3B0aW1pemF0aW9uOiBza2lwIGRpYWdvbmFscyBpbiB3aGljaCBwYXRocyBjYW5ub3QgZXZlciBvdmVybGFwLlxuICBjb25zdCBuRiA9IGQgPCBpTWF4RiA/IGQgOiBpTWF4RjtcblxuICAvLyBUaGUgZGlhZ29uYWxzIGtGIGFyZSBvZGQgd2hlbiBkIGlzIG9kZCBhbmQgZXZlbiB3aGVuIGQgaXMgZXZlbi5cbiAgZm9yIChpRiArPSAxLCBrRiArPSAyOyBpRiA8PSBuRjsgaUYgKz0gMSwga0YgKz0gMikge1xuICAgIC8vIFRvIGdldCBmaXJzdCBwb2ludCBvZiBwYXRoIHNlZ21lbnQsIG1vdmUgb25lIGNoYW5nZSBpbiBmb3J3YXJkIGRpcmVjdGlvblxuICAgIC8vIGZyb20gbGFzdCBwb2ludCBvZiBwcmV2aW91cyBwYXRoIHNlZ21lbnQgaW4gYW4gYWRqYWNlbnQgZGlhZ29uYWwuXG4gICAgLy8gSW4gbGFzdCBwb3NzaWJsZSBpdGVyYXRpb24gd2hlbiBpRiA9PT0gZCBhbmQga0YgPT09IGQgYWx3YXlzIGRlbGV0ZS5cbiAgICBpZiAoaUYgIT09IGQgJiYgYUluZGV4UHJldjEgPCBhSW5kZXhlc0ZbaUZdKSB7XG4gICAgICBhRmlyc3QgPSBhSW5kZXhlc0ZbaUZdOyAvLyB2ZXJ0aWNhbCB0byBpbnNlcnQgZnJvbSBiXG4gICAgfSBlbHNlIHtcbiAgICAgIGFGaXJzdCA9IGFJbmRleFByZXYxICsgMTsgLy8gaG9yaXpvbnRhbCB0byBkZWxldGUgZnJvbSBhXG5cbiAgICAgIGlmIChhRW5kIDw9IGFGaXJzdCkge1xuICAgICAgICAvLyBPcHRpbWl6YXRpb246IGRlbGV0ZSBtb3ZlZCBwYXN0IHJpZ2h0IG9mIGdyYXBoLlxuICAgICAgICByZXR1cm4gaUYgLSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRvIGdldCBsYXN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBhbG9uZyBkaWFnb25hbCBvZiBjb21tb24gaXRlbXMuXG4gICAgYUluZGV4UHJldjEgPSBhSW5kZXhlc0ZbaUZdO1xuICAgIGFJbmRleGVzRltpRl0gPVxuICAgICAgYUZpcnN0ICtcbiAgICAgIGNvdW50Q29tbW9uSXRlbXNGKGFGaXJzdCArIDEsIGFFbmQsIGJGICsgYUZpcnN0IC0ga0YgKyAxLCBiRW5kLCBpc0NvbW1vbik7XG4gIH1cbiAgcmV0dXJuIGlNYXhGO1xufTtcblxuLy8gQSBzaW1wbGUgZnVuY3Rpb24gdG8gZXh0ZW5kIHJldmVyc2UgcGF0aHMgZnJvbSAoZCAtIDEpIHRvIGQgY2hhbmdlc1xuLy8gd2hlbiByZXZlcnNlIGFuZCBmb3J3YXJkIHBhdGhzIGNhbm5vdCB5ZXQgb3ZlcmxhcC5cbmNvbnN0IGV4dGVuZFBhdGhzUiA9IChcbiAgZCxcbiAgYVN0YXJ0LFxuICBiU3RhcnQsXG4gIGJSLFxuICBpc0NvbW1vbixcbiAgYUluZGV4ZXNSLFxuICBpTWF4UiAvLyByZXR1cm4gdGhlIHZhbHVlIGJlY2F1c2Ugb3B0aW1pemF0aW9uIG1pZ2h0IGRlY3JlYXNlIGl0XG4pID0+IHtcbiAgLy8gVW5yb2xsIHRoZSBmaXJzdCBpdGVyYXRpb24uXG4gIGxldCBpUiA9IDA7XG4gIGxldCBrUiA9IGQ7IC8vIGtSID0gZCAtIDIgKiBpUlxuICBsZXQgYUZpcnN0ID0gYUluZGV4ZXNSW2lSXTsgLy8gaW4gZmlyc3QgaXRlcmF0aW9uIGFsd2F5cyBpbnNlcnRcbiAgbGV0IGFJbmRleFByZXYxID0gYUZpcnN0OyAvLyBwcmV2IHZhbHVlIG9mIFtpUiAtIDFdIGluIG5leHQgaXRlcmF0aW9uXG4gIGFJbmRleGVzUltpUl0gLT0gY291bnRDb21tb25JdGVtc1IoXG4gICAgYVN0YXJ0LFxuICAgIGFGaXJzdCAtIDEsXG4gICAgYlN0YXJ0LFxuICAgIGJSICsgYUZpcnN0IC0ga1IgLSAxLFxuICAgIGlzQ29tbW9uXG4gICk7XG5cbiAgLy8gT3B0aW1pemF0aW9uOiBza2lwIGRpYWdvbmFscyBpbiB3aGljaCBwYXRocyBjYW5ub3QgZXZlciBvdmVybGFwLlxuICBjb25zdCBuUiA9IGQgPCBpTWF4UiA/IGQgOiBpTWF4UjtcblxuICAvLyBUaGUgZGlhZ29uYWxzIGtSIGFyZSBvZGQgd2hlbiBkIGlzIG9kZCBhbmQgZXZlbiB3aGVuIGQgaXMgZXZlbi5cbiAgZm9yIChpUiArPSAxLCBrUiAtPSAyOyBpUiA8PSBuUjsgaVIgKz0gMSwga1IgLT0gMikge1xuICAgIC8vIFRvIGdldCBmaXJzdCBwb2ludCBvZiBwYXRoIHNlZ21lbnQsIG1vdmUgb25lIGNoYW5nZSBpbiByZXZlcnNlIGRpcmVjdGlvblxuICAgIC8vIGZyb20gbGFzdCBwb2ludCBvZiBwcmV2aW91cyBwYXRoIHNlZ21lbnQgaW4gYW4gYWRqYWNlbnQgZGlhZ29uYWwuXG4gICAgLy8gSW4gbGFzdCBwb3NzaWJsZSBpdGVyYXRpb24gd2hlbiBpUiA9PT0gZCBhbmQga1IgPT09IC1kIGFsd2F5cyBkZWxldGUuXG4gICAgaWYgKGlSICE9PSBkICYmIGFJbmRleGVzUltpUl0gPCBhSW5kZXhQcmV2MSkge1xuICAgICAgYUZpcnN0ID0gYUluZGV4ZXNSW2lSXTsgLy8gdmVydGljYWwgdG8gaW5zZXJ0IGZyb20gYlxuICAgIH0gZWxzZSB7XG4gICAgICBhRmlyc3QgPSBhSW5kZXhQcmV2MSAtIDE7IC8vIGhvcml6b250YWwgdG8gZGVsZXRlIGZyb20gYVxuXG4gICAgICBpZiAoYUZpcnN0IDwgYVN0YXJ0KSB7XG4gICAgICAgIC8vIE9wdGltaXphdGlvbjogZGVsZXRlIG1vdmVkIHBhc3QgbGVmdCBvZiBncmFwaC5cbiAgICAgICAgcmV0dXJuIGlSIC0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUbyBnZXQgbGFzdCBwb2ludCBvZiBwYXRoIHNlZ21lbnQsIG1vdmUgYWxvbmcgZGlhZ29uYWwgb2YgY29tbW9uIGl0ZW1zLlxuICAgIGFJbmRleFByZXYxID0gYUluZGV4ZXNSW2lSXTtcbiAgICBhSW5kZXhlc1JbaVJdID1cbiAgICAgIGFGaXJzdCAtXG4gICAgICBjb3VudENvbW1vbkl0ZW1zUihcbiAgICAgICAgYVN0YXJ0LFxuICAgICAgICBhRmlyc3QgLSAxLFxuICAgICAgICBiU3RhcnQsXG4gICAgICAgIGJSICsgYUZpcnN0IC0ga1IgLSAxLFxuICAgICAgICBpc0NvbW1vblxuICAgICAgKTtcbiAgfVxuICByZXR1cm4gaU1heFI7XG59O1xuXG4vLyBBIGNvbXBsZXRlIGZ1bmN0aW9uIHRvIGV4dGVuZCBmb3J3YXJkIHBhdGhzIGZyb20gKGQgLSAxKSB0byBkIGNoYW5nZXMuXG4vLyBSZXR1cm4gdHJ1ZSBpZiBhIHBhdGggb3ZlcmxhcHMgcmV2ZXJzZSBwYXRoIG9mIChkIC0gMSkgY2hhbmdlcyBpbiBpdHMgZGlhZ29uYWwuXG5jb25zdCBleHRlbmRPdmVybGFwcGFibGVQYXRoc0YgPSAoXG4gIGQsXG4gIGFTdGFydCxcbiAgYUVuZCxcbiAgYlN0YXJ0LFxuICBiRW5kLFxuICBpc0NvbW1vbixcbiAgYUluZGV4ZXNGLFxuICBpTWF4RixcbiAgYUluZGV4ZXNSLFxuICBpTWF4UixcbiAgZGl2aXNpb24gLy8gdXBkYXRlIHByb3AgdmFsdWVzIGlmIHJldHVybiB0cnVlXG4pID0+IHtcbiAgY29uc3QgYkYgPSBiU3RhcnQgLSBhU3RhcnQ7IC8vIGJJbmRleCA9IGJGICsgYUluZGV4IC0ga0ZcbiAgY29uc3QgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQ7XG4gIGNvbnN0IGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0O1xuICBjb25zdCBiYURlbHRhTGVuZ3RoID0gYkxlbmd0aCAtIGFMZW5ndGg7IC8vIGtGID0ga1IgLSBiYURlbHRhTGVuZ3RoXG5cbiAgLy8gUmFuZ2Ugb2YgZGlhZ29uYWxzIGluIHdoaWNoIGZvcndhcmQgYW5kIHJldmVyc2UgcGF0aHMgbWlnaHQgb3ZlcmxhcC5cbiAgY29uc3Qga01pbk92ZXJsYXBGID0gLWJhRGVsdGFMZW5ndGggLSAoZCAtIDEpOyAvLyAtKGQgLSAxKSA8PSBrUlxuICBjb25zdCBrTWF4T3ZlcmxhcEYgPSAtYmFEZWx0YUxlbmd0aCArIChkIC0gMSk7IC8vIGtSIDw9IChkIC0gMSlcblxuICBsZXQgYUluZGV4UHJldjEgPSBOT1RfWUVUX1NFVDsgLy8gcHJldiB2YWx1ZSBvZiBbaUYgLSAxXSBpbiBuZXh0IGl0ZXJhdGlvblxuXG4gIC8vIE9wdGltaXphdGlvbjogc2tpcCBkaWFnb25hbHMgaW4gd2hpY2ggcGF0aHMgY2Fubm90IGV2ZXIgb3ZlcmxhcC5cbiAgY29uc3QgbkYgPSBkIDwgaU1heEYgPyBkIDogaU1heEY7XG5cbiAgLy8gVGhlIGRpYWdvbmFscyBrRiA9IDIgKiBpRiAtIGQgYXJlIG9kZCB3aGVuIGQgaXMgb2RkIGFuZCBldmVuIHdoZW4gZCBpcyBldmVuLlxuICBmb3IgKGxldCBpRiA9IDAsIGtGID0gLWQ7IGlGIDw9IG5GOyBpRiArPSAxLCBrRiArPSAyKSB7XG4gICAgLy8gVG8gZ2V0IGZpcnN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBvbmUgY2hhbmdlIGluIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgLy8gZnJvbSBsYXN0IHBvaW50IG9mIHByZXZpb3VzIHBhdGggc2VnbWVudCBpbiBhbiBhZGphY2VudCBkaWFnb25hbC5cbiAgICAvLyBJbiBmaXJzdCBpdGVyYXRpb24gd2hlbiBpRiA9PT0gMCBhbmQga0YgPT09IC1kIGFsd2F5cyBpbnNlcnQuXG4gICAgLy8gSW4gbGFzdCBwb3NzaWJsZSBpdGVyYXRpb24gd2hlbiBpRiA9PT0gZCBhbmQga0YgPT09IGQgYWx3YXlzIGRlbGV0ZS5cbiAgICBjb25zdCBpbnNlcnQgPSBpRiA9PT0gMCB8fCAoaUYgIT09IGQgJiYgYUluZGV4UHJldjEgPCBhSW5kZXhlc0ZbaUZdKTtcbiAgICBjb25zdCBhTGFzdFByZXYgPSBpbnNlcnQgPyBhSW5kZXhlc0ZbaUZdIDogYUluZGV4UHJldjE7XG4gICAgY29uc3QgYUZpcnN0ID0gaW5zZXJ0XG4gICAgICA/IGFMYXN0UHJldiAvLyB2ZXJ0aWNhbCB0byBpbnNlcnQgZnJvbSBiXG4gICAgICA6IGFMYXN0UHJldiArIDE7IC8vIGhvcml6b250YWwgdG8gZGVsZXRlIGZyb20gYVxuXG4gICAgLy8gVG8gZ2V0IGxhc3QgcG9pbnQgb2YgcGF0aCBzZWdtZW50LCBtb3ZlIGFsb25nIGRpYWdvbmFsIG9mIGNvbW1vbiBpdGVtcy5cbiAgICBjb25zdCBiRmlyc3QgPSBiRiArIGFGaXJzdCAtIGtGO1xuICAgIGNvbnN0IG5Db21tb25GID0gY291bnRDb21tb25JdGVtc0YoXG4gICAgICBhRmlyc3QgKyAxLFxuICAgICAgYUVuZCxcbiAgICAgIGJGaXJzdCArIDEsXG4gICAgICBiRW5kLFxuICAgICAgaXNDb21tb25cbiAgICApO1xuICAgIGNvbnN0IGFMYXN0ID0gYUZpcnN0ICsgbkNvbW1vbkY7XG4gICAgYUluZGV4UHJldjEgPSBhSW5kZXhlc0ZbaUZdO1xuICAgIGFJbmRleGVzRltpRl0gPSBhTGFzdDtcbiAgICBpZiAoa01pbk92ZXJsYXBGIDw9IGtGICYmIGtGIDw9IGtNYXhPdmVybGFwRikge1xuICAgICAgLy8gU29sdmUgZm9yIGlSIG9mIHJldmVyc2UgcGF0aCB3aXRoIChkIC0gMSkgY2hhbmdlcyBpbiBkaWFnb25hbCBrRjpcbiAgICAgIC8vIGtSID0ga0YgKyBiYURlbHRhTGVuZ3RoXG4gICAgICAvLyBrUiA9IChkIC0gMSkgLSAyICogaVJcbiAgICAgIGNvbnN0IGlSID0gKGQgLSAxIC0gKGtGICsgYmFEZWx0YUxlbmd0aCkpIC8gMjtcblxuICAgICAgLy8gSWYgdGhpcyBmb3J3YXJkIHBhdGggb3ZlcmxhcHMgdGhlIHJldmVyc2UgcGF0aCBpbiB0aGlzIGRpYWdvbmFsLFxuICAgICAgLy8gdGhlbiB0aGlzIGlzIHRoZSBtaWRkbGUgY2hhbmdlIG9mIHRoZSBpbmRleCBpbnRlcnZhbHMuXG4gICAgICBpZiAoaVIgPD0gaU1heFIgJiYgYUluZGV4ZXNSW2lSXSAtIDEgPD0gYUxhc3QpIHtcbiAgICAgICAgLy8gVW5saWtlIHRoZSBNeWVycyBhbGdvcml0aG0gd2hpY2ggZmluZHMgb25seSB0aGUgbWlkZGxlIOKAnHNuYWtl4oCdXG4gICAgICAgIC8vIHRoaXMgcGFja2FnZSBjYW4gZmluZCB0d28gY29tbW9uIHN1YnNlcXVlbmNlcyBwZXIgZGl2aXNpb24uXG4gICAgICAgIC8vIExhc3QgcG9pbnQgb2YgcHJldmlvdXMgcGF0aCBzZWdtZW50IGlzIG9uIGFuIGFkamFjZW50IGRpYWdvbmFsLlxuICAgICAgICBjb25zdCBiTGFzdFByZXYgPSBiRiArIGFMYXN0UHJldiAtIChpbnNlcnQgPyBrRiArIDEgOiBrRiAtIDEpO1xuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgaW52YXJpYW50IHRoYXQgaW50ZXJ2YWxzIHByZWNlZGluZyB0aGUgbWlkZGxlIGNoYW5nZVxuICAgICAgICAvLyBjYW5ub3QgaGF2ZSBjb21tb24gaXRlbXMgYXQgdGhlIGVuZCxcbiAgICAgICAgLy8gbW92ZSBpbiByZXZlcnNlIGRpcmVjdGlvbiBhbG9uZyBhIGRpYWdvbmFsIG9mIGNvbW1vbiBpdGVtcy5cbiAgICAgICAgY29uc3QgbkNvbW1vblIgPSBjb3VudENvbW1vbkl0ZW1zUihcbiAgICAgICAgICBhU3RhcnQsXG4gICAgICAgICAgYUxhc3RQcmV2LFxuICAgICAgICAgIGJTdGFydCxcbiAgICAgICAgICBiTGFzdFByZXYsXG4gICAgICAgICAgaXNDb21tb25cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYUluZGV4UHJldkZpcnN0ID0gYUxhc3RQcmV2IC0gbkNvbW1vblI7XG4gICAgICAgIGNvbnN0IGJJbmRleFByZXZGaXJzdCA9IGJMYXN0UHJldiAtIG5Db21tb25SO1xuICAgICAgICBjb25zdCBhRW5kUHJlY2VkaW5nID0gYUluZGV4UHJldkZpcnN0ICsgMTtcbiAgICAgICAgY29uc3QgYkVuZFByZWNlZGluZyA9IGJJbmRleFByZXZGaXJzdCArIDE7XG4gICAgICAgIGRpdmlzaW9uLm5DaGFuZ2VQcmVjZWRpbmcgPSBkIC0gMTtcbiAgICAgICAgaWYgKGQgLSAxID09PSBhRW5kUHJlY2VkaW5nICsgYkVuZFByZWNlZGluZyAtIGFTdGFydCAtIGJTdGFydCkge1xuICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogbnVtYmVyIG9mIHByZWNlZGluZyBjaGFuZ2VzIGluIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgLy8gaXMgZXF1YWwgdG8gbnVtYmVyIG9mIGl0ZW1zIGluIHByZWNlZGluZyBpbnRlcnZhbCxcbiAgICAgICAgICAvLyB0aGVyZWZvcmUgaXQgY2Fubm90IGNvbnRhaW4gYW55IGNvbW1vbiBpdGVtcy5cbiAgICAgICAgICBkaXZpc2lvbi5hRW5kUHJlY2VkaW5nID0gYVN0YXJ0O1xuICAgICAgICAgIGRpdmlzaW9uLmJFbmRQcmVjZWRpbmcgPSBiU3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGl2aXNpb24uYUVuZFByZWNlZGluZyA9IGFFbmRQcmVjZWRpbmc7XG4gICAgICAgICAgZGl2aXNpb24uYkVuZFByZWNlZGluZyA9IGJFbmRQcmVjZWRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZGl2aXNpb24ubkNvbW1vblByZWNlZGluZyA9IG5Db21tb25SO1xuICAgICAgICBpZiAobkNvbW1vblIgIT09IDApIHtcbiAgICAgICAgICBkaXZpc2lvbi5hQ29tbW9uUHJlY2VkaW5nID0gYUVuZFByZWNlZGluZztcbiAgICAgICAgICBkaXZpc2lvbi5iQ29tbW9uUHJlY2VkaW5nID0gYkVuZFByZWNlZGluZztcbiAgICAgICAgfVxuICAgICAgICBkaXZpc2lvbi5uQ29tbW9uRm9sbG93aW5nID0gbkNvbW1vbkY7XG4gICAgICAgIGlmIChuQ29tbW9uRiAhPT0gMCkge1xuICAgICAgICAgIGRpdmlzaW9uLmFDb21tb25Gb2xsb3dpbmcgPSBhRmlyc3QgKyAxO1xuICAgICAgICAgIGRpdmlzaW9uLmJDb21tb25Gb2xsb3dpbmcgPSBiRmlyc3QgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFTdGFydEZvbGxvd2luZyA9IGFMYXN0ICsgMTtcbiAgICAgICAgY29uc3QgYlN0YXJ0Rm9sbG93aW5nID0gYkZpcnN0ICsgbkNvbW1vbkYgKyAxO1xuICAgICAgICBkaXZpc2lvbi5uQ2hhbmdlRm9sbG93aW5nID0gZCAtIDE7XG4gICAgICAgIGlmIChkIC0gMSA9PT0gYUVuZCArIGJFbmQgLSBhU3RhcnRGb2xsb3dpbmcgLSBiU3RhcnRGb2xsb3dpbmcpIHtcbiAgICAgICAgICAvLyBPcHRpbWl6YXRpb246IG51bWJlciBvZiBjaGFuZ2VzIGluIHJldmVyc2UgZGlyZWN0aW9uXG4gICAgICAgICAgLy8gaXMgZXF1YWwgdG8gbnVtYmVyIG9mIGl0ZW1zIGluIGZvbGxvd2luZyBpbnRlcnZhbCxcbiAgICAgICAgICAvLyB0aGVyZWZvcmUgaXQgY2Fubm90IGNvbnRhaW4gYW55IGNvbW1vbiBpdGVtcy5cbiAgICAgICAgICBkaXZpc2lvbi5hU3RhcnRGb2xsb3dpbmcgPSBhRW5kO1xuICAgICAgICAgIGRpdmlzaW9uLmJTdGFydEZvbGxvd2luZyA9IGJFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGl2aXNpb24uYVN0YXJ0Rm9sbG93aW5nID0gYVN0YXJ0Rm9sbG93aW5nO1xuICAgICAgICAgIGRpdmlzaW9uLmJTdGFydEZvbGxvd2luZyA9IGJTdGFydEZvbGxvd2luZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gQSBjb21wbGV0ZSBmdW5jdGlvbiB0byBleHRlbmQgcmV2ZXJzZSBwYXRocyBmcm9tIChkIC0gMSkgdG8gZCBjaGFuZ2VzLlxuLy8gUmV0dXJuIHRydWUgaWYgYSBwYXRoIG92ZXJsYXBzIGZvcndhcmQgcGF0aCBvZiBkIGNoYW5nZXMgaW4gaXRzIGRpYWdvbmFsLlxuY29uc3QgZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNSID0gKFxuICBkLFxuICBhU3RhcnQsXG4gIGFFbmQsXG4gIGJTdGFydCxcbiAgYkVuZCxcbiAgaXNDb21tb24sXG4gIGFJbmRleGVzRixcbiAgaU1heEYsXG4gIGFJbmRleGVzUixcbiAgaU1heFIsXG4gIGRpdmlzaW9uIC8vIHVwZGF0ZSBwcm9wIHZhbHVlcyBpZiByZXR1cm4gdHJ1ZVxuKSA9PiB7XG4gIGNvbnN0IGJSID0gYkVuZCAtIGFFbmQ7IC8vIGJJbmRleCA9IGJSICsgYUluZGV4IC0ga1JcbiAgY29uc3QgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQ7XG4gIGNvbnN0IGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0O1xuICBjb25zdCBiYURlbHRhTGVuZ3RoID0gYkxlbmd0aCAtIGFMZW5ndGg7IC8vIGtSID0ga0YgKyBiYURlbHRhTGVuZ3RoXG5cbiAgLy8gUmFuZ2Ugb2YgZGlhZ29uYWxzIGluIHdoaWNoIGZvcndhcmQgYW5kIHJldmVyc2UgcGF0aHMgbWlnaHQgb3ZlcmxhcC5cbiAgY29uc3Qga01pbk92ZXJsYXBSID0gYmFEZWx0YUxlbmd0aCAtIGQ7IC8vIC1kIDw9IGtGXG4gIGNvbnN0IGtNYXhPdmVybGFwUiA9IGJhRGVsdGFMZW5ndGggKyBkOyAvLyBrRiA8PSBkXG5cbiAgbGV0IGFJbmRleFByZXYxID0gTk9UX1lFVF9TRVQ7IC8vIHByZXYgdmFsdWUgb2YgW2lSIC0gMV0gaW4gbmV4dCBpdGVyYXRpb25cblxuICAvLyBPcHRpbWl6YXRpb246IHNraXAgZGlhZ29uYWxzIGluIHdoaWNoIHBhdGhzIGNhbm5vdCBldmVyIG92ZXJsYXAuXG4gIGNvbnN0IG5SID0gZCA8IGlNYXhSID8gZCA6IGlNYXhSO1xuXG4gIC8vIFRoZSBkaWFnb25hbHMga1IgPSBkIC0gMiAqIGlSIGFyZSBvZGQgd2hlbiBkIGlzIG9kZCBhbmQgZXZlbiB3aGVuIGQgaXMgZXZlbi5cbiAgZm9yIChsZXQgaVIgPSAwLCBrUiA9IGQ7IGlSIDw9IG5SOyBpUiArPSAxLCBrUiAtPSAyKSB7XG4gICAgLy8gVG8gZ2V0IGZpcnN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBvbmUgY2hhbmdlIGluIHJldmVyc2UgZGlyZWN0aW9uXG4gICAgLy8gZnJvbSBsYXN0IHBvaW50IG9mIHByZXZpb3VzIHBhdGggc2VnbWVudCBpbiBhbiBhZGphY2VudCBkaWFnb25hbC5cbiAgICAvLyBJbiBmaXJzdCBpdGVyYXRpb24gd2hlbiBpUiA9PT0gMCBhbmQga1IgPT09IGQgYWx3YXlzIGluc2VydC5cbiAgICAvLyBJbiBsYXN0IHBvc3NpYmxlIGl0ZXJhdGlvbiB3aGVuIGlSID09PSBkIGFuZCBrUiA9PT0gLWQgYWx3YXlzIGRlbGV0ZS5cbiAgICBjb25zdCBpbnNlcnQgPSBpUiA9PT0gMCB8fCAoaVIgIT09IGQgJiYgYUluZGV4ZXNSW2lSXSA8IGFJbmRleFByZXYxKTtcbiAgICBjb25zdCBhTGFzdFByZXYgPSBpbnNlcnQgPyBhSW5kZXhlc1JbaVJdIDogYUluZGV4UHJldjE7XG4gICAgY29uc3QgYUZpcnN0ID0gaW5zZXJ0XG4gICAgICA/IGFMYXN0UHJldiAvLyB2ZXJ0aWNhbCB0byBpbnNlcnQgZnJvbSBiXG4gICAgICA6IGFMYXN0UHJldiAtIDE7IC8vIGhvcml6b250YWwgdG8gZGVsZXRlIGZyb20gYVxuXG4gICAgLy8gVG8gZ2V0IGxhc3QgcG9pbnQgb2YgcGF0aCBzZWdtZW50LCBtb3ZlIGFsb25nIGRpYWdvbmFsIG9mIGNvbW1vbiBpdGVtcy5cbiAgICBjb25zdCBiRmlyc3QgPSBiUiArIGFGaXJzdCAtIGtSO1xuICAgIGNvbnN0IG5Db21tb25SID0gY291bnRDb21tb25JdGVtc1IoXG4gICAgICBhU3RhcnQsXG4gICAgICBhRmlyc3QgLSAxLFxuICAgICAgYlN0YXJ0LFxuICAgICAgYkZpcnN0IC0gMSxcbiAgICAgIGlzQ29tbW9uXG4gICAgKTtcbiAgICBjb25zdCBhTGFzdCA9IGFGaXJzdCAtIG5Db21tb25SO1xuICAgIGFJbmRleFByZXYxID0gYUluZGV4ZXNSW2lSXTtcbiAgICBhSW5kZXhlc1JbaVJdID0gYUxhc3Q7XG4gICAgaWYgKGtNaW5PdmVybGFwUiA8PSBrUiAmJiBrUiA8PSBrTWF4T3ZlcmxhcFIpIHtcbiAgICAgIC8vIFNvbHZlIGZvciBpRiBvZiBmb3J3YXJkIHBhdGggd2l0aCBkIGNoYW5nZXMgaW4gZGlhZ29uYWwga1I6XG4gICAgICAvLyBrRiA9IGtSIC0gYmFEZWx0YUxlbmd0aFxuICAgICAgLy8ga0YgPSAyICogaUYgLSBkXG4gICAgICBjb25zdCBpRiA9IChkICsgKGtSIC0gYmFEZWx0YUxlbmd0aCkpIC8gMjtcblxuICAgICAgLy8gSWYgdGhpcyByZXZlcnNlIHBhdGggb3ZlcmxhcHMgdGhlIGZvcndhcmQgcGF0aCBpbiB0aGlzIGRpYWdvbmFsLFxuICAgICAgLy8gdGhlbiB0aGlzIGlzIGEgbWlkZGxlIGNoYW5nZSBvZiB0aGUgaW5kZXggaW50ZXJ2YWxzLlxuICAgICAgaWYgKGlGIDw9IGlNYXhGICYmIGFMYXN0IC0gMSA8PSBhSW5kZXhlc0ZbaUZdKSB7XG4gICAgICAgIGNvbnN0IGJMYXN0ID0gYkZpcnN0IC0gbkNvbW1vblI7XG4gICAgICAgIGRpdmlzaW9uLm5DaGFuZ2VQcmVjZWRpbmcgPSBkO1xuICAgICAgICBpZiAoZCA9PT0gYUxhc3QgKyBiTGFzdCAtIGFTdGFydCAtIGJTdGFydCkge1xuICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogbnVtYmVyIG9mIGNoYW5nZXMgaW4gcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBpcyBlcXVhbCB0byBudW1iZXIgb2YgaXRlbXMgaW4gcHJlY2VkaW5nIGludGVydmFsLFxuICAgICAgICAgIC8vIHRoZXJlZm9yZSBpdCBjYW5ub3QgY29udGFpbiBhbnkgY29tbW9uIGl0ZW1zLlxuICAgICAgICAgIGRpdmlzaW9uLmFFbmRQcmVjZWRpbmcgPSBhU3RhcnQ7XG4gICAgICAgICAgZGl2aXNpb24uYkVuZFByZWNlZGluZyA9IGJTdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXZpc2lvbi5hRW5kUHJlY2VkaW5nID0gYUxhc3Q7XG4gICAgICAgICAgZGl2aXNpb24uYkVuZFByZWNlZGluZyA9IGJMYXN0O1xuICAgICAgICB9XG4gICAgICAgIGRpdmlzaW9uLm5Db21tb25QcmVjZWRpbmcgPSBuQ29tbW9uUjtcbiAgICAgICAgaWYgKG5Db21tb25SICE9PSAwKSB7XG4gICAgICAgICAgLy8gVGhlIGxhc3QgcG9pbnQgb2YgcmV2ZXJzZSBwYXRoIHNlZ21lbnQgaXMgc3RhcnQgb2YgY29tbW9uIHN1YnNlcXVlbmNlLlxuICAgICAgICAgIGRpdmlzaW9uLmFDb21tb25QcmVjZWRpbmcgPSBhTGFzdDtcbiAgICAgICAgICBkaXZpc2lvbi5iQ29tbW9uUHJlY2VkaW5nID0gYkxhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZGl2aXNpb24ubkNoYW5nZUZvbGxvd2luZyA9IGQgLSAxO1xuICAgICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHByZXZpb3VzIHBhdGggc2VnbWVudC5cbiAgICAgICAgICBkaXZpc2lvbi5uQ29tbW9uRm9sbG93aW5nID0gMDtcbiAgICAgICAgICBkaXZpc2lvbi5hU3RhcnRGb2xsb3dpbmcgPSBhRW5kO1xuICAgICAgICAgIGRpdmlzaW9uLmJTdGFydEZvbGxvd2luZyA9IGJFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVW5saWtlIHRoZSBNeWVycyBhbGdvcml0aG0gd2hpY2ggZmluZHMgb25seSB0aGUgbWlkZGxlIOKAnHNuYWtl4oCdXG4gICAgICAgICAgLy8gdGhpcyBwYWNrYWdlIGNhbiBmaW5kIHR3byBjb21tb24gc3Vic2VxdWVuY2VzIHBlciBkaXZpc2lvbi5cbiAgICAgICAgICAvLyBMYXN0IHBvaW50IG9mIHByZXZpb3VzIHBhdGggc2VnbWVudCBpcyBvbiBhbiBhZGphY2VudCBkaWFnb25hbC5cbiAgICAgICAgICBjb25zdCBiTGFzdFByZXYgPSBiUiArIGFMYXN0UHJldiAtIChpbnNlcnQgPyBrUiAtIDEgOiBrUiArIDEpO1xuXG4gICAgICAgICAgLy8gQmVjYXVzZSBvZiBpbnZhcmlhbnQgdGhhdCBpbnRlcnZhbHMgZm9sbG93aW5nIHRoZSBtaWRkbGUgY2hhbmdlXG4gICAgICAgICAgLy8gY2Fubm90IGhhdmUgY29tbW9uIGl0ZW1zIGF0IHRoZSBzdGFydCxcbiAgICAgICAgICAvLyBtb3ZlIGluIGZvcndhcmQgZGlyZWN0aW9uIGFsb25nIGEgZGlhZ29uYWwgb2YgY29tbW9uIGl0ZW1zLlxuICAgICAgICAgIGNvbnN0IG5Db21tb25GID0gY291bnRDb21tb25JdGVtc0YoXG4gICAgICAgICAgICBhTGFzdFByZXYsXG4gICAgICAgICAgICBhRW5kLFxuICAgICAgICAgICAgYkxhc3RQcmV2LFxuICAgICAgICAgICAgYkVuZCxcbiAgICAgICAgICAgIGlzQ29tbW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaXZpc2lvbi5uQ29tbW9uRm9sbG93aW5nID0gbkNvbW1vbkY7XG4gICAgICAgICAgaWYgKG5Db21tb25GICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBUaGUgbGFzdCBwb2ludCBvZiByZXZlcnNlIHBhdGggc2VnbWVudCBpcyBzdGFydCBvZiBjb21tb24gc3Vic2VxdWVuY2UuXG4gICAgICAgICAgICBkaXZpc2lvbi5hQ29tbW9uRm9sbG93aW5nID0gYUxhc3RQcmV2O1xuICAgICAgICAgICAgZGl2aXNpb24uYkNvbW1vbkZvbGxvd2luZyA9IGJMYXN0UHJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYVN0YXJ0Rm9sbG93aW5nID0gYUxhc3RQcmV2ICsgbkNvbW1vbkY7IC8vIGFGaXJzdFByZXZcbiAgICAgICAgICBjb25zdCBiU3RhcnRGb2xsb3dpbmcgPSBiTGFzdFByZXYgKyBuQ29tbW9uRjsgLy8gYkZpcnN0UHJldlxuXG4gICAgICAgICAgaWYgKGQgLSAxID09PSBhRW5kICsgYkVuZCAtIGFTdGFydEZvbGxvd2luZyAtIGJTdGFydEZvbGxvd2luZykge1xuICAgICAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBudW1iZXIgb2YgY2hhbmdlcyBpbiBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgLy8gaXMgZXF1YWwgdG8gbnVtYmVyIG9mIGl0ZW1zIGluIGZvbGxvd2luZyBpbnRlcnZhbCxcbiAgICAgICAgICAgIC8vIHRoZXJlZm9yZSBpdCBjYW5ub3QgY29udGFpbiBhbnkgY29tbW9uIGl0ZW1zLlxuICAgICAgICAgICAgZGl2aXNpb24uYVN0YXJ0Rm9sbG93aW5nID0gYUVuZDtcbiAgICAgICAgICAgIGRpdmlzaW9uLmJTdGFydEZvbGxvd2luZyA9IGJFbmQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpdmlzaW9uLmFTdGFydEZvbGxvd2luZyA9IGFTdGFydEZvbGxvd2luZztcbiAgICAgICAgICAgIGRpdmlzaW9uLmJTdGFydEZvbGxvd2luZyA9IGJTdGFydEZvbGxvd2luZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vIEdpdmVuIGluZGV4IGludGVydmFscyBhbmQgaW5wdXQgZnVuY3Rpb24gdG8gY29tcGFyZSBpdGVtcyBhdCBpbmRleGVzLFxuLy8gZGl2aWRlIGF0IHRoZSBtaWRkbGUgY2hhbmdlLlxuLy9cbi8vIERPIE5PVCBDQUxMIGlmIHN0YXJ0ID09PSBlbmQsIGJlY2F1c2UgaW50ZXJ2YWwgY2Fubm90IGNvbnRhaW4gY29tbW9uIGl0ZW1zXG4vLyBhbmQgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgdGhlIOKAnG5vIG92ZXJsYXDigJ0gZXJyb3IuXG5jb25zdCBkaXZpZGUgPSAoXG4gIG5DaGFuZ2UsXG4gIGFTdGFydCxcbiAgYUVuZCxcbiAgYlN0YXJ0LFxuICBiRW5kLFxuICBpc0NvbW1vbixcbiAgYUluZGV4ZXNGLFxuICBhSW5kZXhlc1IsXG4gIGRpdmlzaW9uIC8vIG91dHB1dFxuKSA9PiB7XG4gIGNvbnN0IGJGID0gYlN0YXJ0IC0gYVN0YXJ0OyAvLyBiSW5kZXggPSBiRiArIGFJbmRleCAtIGtGXG4gIGNvbnN0IGJSID0gYkVuZCAtIGFFbmQ7IC8vIGJJbmRleCA9IGJSICsgYUluZGV4IC0ga1JcbiAgY29uc3QgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQ7XG4gIGNvbnN0IGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0O1xuXG4gIC8vIEJlY2F1c2UgZ3JhcGggaGFzIHNxdWFyZSBvciBwb3J0cmFpdCBvcmllbnRhdGlvbixcbiAgLy8gbGVuZ3RoIGRpZmZlcmVuY2UgaXMgbWluaW11bSBudW1iZXIgb2YgaXRlbXMgdG8gaW5zZXJ0IGZyb20gYi5cbiAgLy8gQ29ycmVzcG9uZGluZyBmb3J3YXJkIGFuZCByZXZlcnNlIGRpYWdvbmFscyBpbiBncmFwaFxuICAvLyBkZXBlbmQgb24gbGVuZ3RoIGRpZmZlcmVuY2Ugb2YgdGhlIHNlcXVlbmNlczpcbiAgLy8ga0YgPSBrUiAtIGJhRGVsdGFMZW5ndGhcbiAgLy8ga1IgPSBrRiArIGJhRGVsdGFMZW5ndGhcbiAgY29uc3QgYmFEZWx0YUxlbmd0aCA9IGJMZW5ndGggLSBhTGVuZ3RoO1xuXG4gIC8vIE9wdGltaXphdGlvbjogbWF4IGRpYWdvbmFsIGluIGdyYXBoIGludGVyc2VjdHMgY29ybmVyIG9mIHNob3J0ZXIgc2lkZS5cbiAgbGV0IGlNYXhGID0gYUxlbmd0aDtcbiAgbGV0IGlNYXhSID0gYUxlbmd0aDtcblxuICAvLyBJbml0aWFsaXplIG5vIGNoYW5nZXMgeWV0IGluIGZvcndhcmQgb3IgcmV2ZXJzZSBkaXJlY3Rpb246XG4gIGFJbmRleGVzRlswXSA9IGFTdGFydCAtIDE7IC8vIGF0IG9wZW4gc3RhcnQgb2YgaW50ZXJ2YWwsIG91dHNpZGUgY2xvc2VkIHN0YXJ0XG4gIGFJbmRleGVzUlswXSA9IGFFbmQ7IC8vIGF0IG9wZW4gZW5kIG9mIGludGVydmFsXG5cbiAgaWYgKGJhRGVsdGFMZW5ndGggJSAyID09PSAwKSB7XG4gICAgLy8gVGhlIG51bWJlciBvZiBjaGFuZ2VzIGluIHBhdGhzIGlzIDIgKiBkIGlmIGxlbmd0aCBkaWZmZXJlbmNlIGlzIGV2ZW4uXG4gICAgY29uc3QgZE1pbiA9IChuQ2hhbmdlIHx8IGJhRGVsdGFMZW5ndGgpIC8gMjtcbiAgICBjb25zdCBkTWF4ID0gKGFMZW5ndGggKyBiTGVuZ3RoKSAvIDI7XG4gICAgZm9yIChsZXQgZCA9IDE7IGQgPD0gZE1heDsgZCArPSAxKSB7XG4gICAgICBpTWF4RiA9IGV4dGVuZFBhdGhzRihkLCBhRW5kLCBiRW5kLCBiRiwgaXNDb21tb24sIGFJbmRleGVzRiwgaU1heEYpO1xuICAgICAgaWYgKGQgPCBkTWluKSB7XG4gICAgICAgIGlNYXhSID0gZXh0ZW5kUGF0aHNSKGQsIGFTdGFydCwgYlN0YXJ0LCBiUiwgaXNDb21tb24sIGFJbmRleGVzUiwgaU1heFIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gSWYgYSByZXZlcnNlIHBhdGggb3ZlcmxhcHMgYSBmb3J3YXJkIHBhdGggaW4gdGhlIHNhbWUgZGlhZ29uYWwsXG4gICAgICAgIC8vIHJldHVybiBhIGRpdmlzaW9uIG9mIHRoZSBpbmRleCBpbnRlcnZhbHMgYXQgdGhlIG1pZGRsZSBjaGFuZ2UuXG4gICAgICAgIGV4dGVuZE92ZXJsYXBwYWJsZVBhdGhzUihcbiAgICAgICAgICBkLFxuICAgICAgICAgIGFTdGFydCxcbiAgICAgICAgICBhRW5kLFxuICAgICAgICAgIGJTdGFydCxcbiAgICAgICAgICBiRW5kLFxuICAgICAgICAgIGlzQ29tbW9uLFxuICAgICAgICAgIGFJbmRleGVzRixcbiAgICAgICAgICBpTWF4RixcbiAgICAgICAgICBhSW5kZXhlc1IsXG4gICAgICAgICAgaU1heFIsXG4gICAgICAgICAgZGl2aXNpb25cbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIG51bWJlciBvZiBjaGFuZ2VzIGluIHBhdGhzIGlzIDIgKiBkIC0gMSBpZiBsZW5ndGggZGlmZmVyZW5jZSBpcyBvZGQuXG4gICAgY29uc3QgZE1pbiA9ICgobkNoYW5nZSB8fCBiYURlbHRhTGVuZ3RoKSArIDEpIC8gMjtcbiAgICBjb25zdCBkTWF4ID0gKGFMZW5ndGggKyBiTGVuZ3RoICsgMSkgLyAyO1xuXG4gICAgLy8gVW5yb2xsIGZpcnN0IGhhbGYgaXRlcmF0aW9uIHNvIGxvb3AgZXh0ZW5kcyB0aGUgcmVsZXZhbnQgcGFpcnMgb2YgcGF0aHMuXG4gICAgLy8gQmVjYXVzZSBvZiBpbnZhcmlhbnQgdGhhdCBpbnRlcnZhbHMgaGF2ZSBubyBjb21tb24gaXRlbXMgYXQgc3RhcnQgb3IgZW5kLFxuICAgIC8vIGFuZCBsaW1pdGF0aW9uIG5vdCB0byBjYWxsIGRpdmlkZSB3aXRoIGVtcHR5IGludGVydmFscyxcbiAgICAvLyB0aGVyZWZvcmUgaXQgY2Fubm90IGJlIGNhbGxlZCBpZiBhIGZvcndhcmQgcGF0aCB3aXRoIG9uZSBjaGFuZ2VcbiAgICAvLyB3b3VsZCBvdmVybGFwIGEgcmV2ZXJzZSBwYXRoIHdpdGggbm8gY2hhbmdlcywgZXZlbiBpZiBkTWluID09PSAxLlxuICAgIGxldCBkID0gMTtcbiAgICBpTWF4RiA9IGV4dGVuZFBhdGhzRihkLCBhRW5kLCBiRW5kLCBiRiwgaXNDb21tb24sIGFJbmRleGVzRiwgaU1heEYpO1xuICAgIGZvciAoZCArPSAxOyBkIDw9IGRNYXg7IGQgKz0gMSkge1xuICAgICAgaU1heFIgPSBleHRlbmRQYXRoc1IoXG4gICAgICAgIGQgLSAxLFxuICAgICAgICBhU3RhcnQsXG4gICAgICAgIGJTdGFydCxcbiAgICAgICAgYlIsXG4gICAgICAgIGlzQ29tbW9uLFxuICAgICAgICBhSW5kZXhlc1IsXG4gICAgICAgIGlNYXhSXG4gICAgICApO1xuICAgICAgaWYgKGQgPCBkTWluKSB7XG4gICAgICAgIGlNYXhGID0gZXh0ZW5kUGF0aHNGKGQsIGFFbmQsIGJFbmQsIGJGLCBpc0NvbW1vbiwgYUluZGV4ZXNGLCBpTWF4Rik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBJZiBhIGZvcndhcmQgcGF0aCBvdmVybGFwcyBhIHJldmVyc2UgcGF0aCBpbiB0aGUgc2FtZSBkaWFnb25hbCxcbiAgICAgICAgLy8gcmV0dXJuIGEgZGl2aXNpb24gb2YgdGhlIGluZGV4IGludGVydmFscyBhdCB0aGUgbWlkZGxlIGNoYW5nZS5cbiAgICAgICAgZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNGKFxuICAgICAgICAgIGQsXG4gICAgICAgICAgYVN0YXJ0LFxuICAgICAgICAgIGFFbmQsXG4gICAgICAgICAgYlN0YXJ0LFxuICAgICAgICAgIGJFbmQsXG4gICAgICAgICAgaXNDb21tb24sXG4gICAgICAgICAgYUluZGV4ZXNGLFxuICAgICAgICAgIGlNYXhGLFxuICAgICAgICAgIGFJbmRleGVzUixcbiAgICAgICAgICBpTWF4UixcbiAgICAgICAgICBkaXZpc2lvblxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBgJHtwa2d9OiBubyBvdmVybGFwIGFTdGFydD0ke2FTdGFydH0gYUVuZD0ke2FFbmR9IGJTdGFydD0ke2JTdGFydH0gYkVuZD0ke2JFbmR9YFxuICApO1xufTtcblxuLy8gR2l2ZW4gaW5kZXggaW50ZXJ2YWxzIGFuZCBpbnB1dCBmdW5jdGlvbiB0byBjb21wYXJlIGl0ZW1zIGF0IGluZGV4ZXMsXG4vLyByZXR1cm4gYnkgb3V0cHV0IGZ1bmN0aW9uIHRoZSBudW1iZXIgb2YgYWRqYWNlbnQgaXRlbXMgYW5kIHN0YXJ0aW5nIGluZGV4ZXNcbi8vIG9mIGVhY2ggY29tbW9uIHN1YnNlcXVlbmNlLiBEaXZpZGUgYW5kIGNvbnF1ZXIgd2l0aCBvbmx5IGxpbmVhciBzcGFjZS5cbi8vXG4vLyBUaGUgaW5kZXggaW50ZXJ2YWxzIGFyZSBoYWxmIG9wZW4gW3N0YXJ0LCBlbmQpIGxpa2UgYXJyYXkgc2xpY2UgbWV0aG9kLlxuLy8gRE8gTk9UIENBTEwgaWYgc3RhcnQgPT09IGVuZCwgYmVjYXVzZSBpbnRlcnZhbCBjYW5ub3QgY29udGFpbiBjb21tb24gaXRlbXNcbi8vIGFuZCBiZWNhdXNlIGRpdmlkZSBmdW5jdGlvbiB3aWxsIHRocm93IHRoZSDigJxubyBvdmVybGFw4oCdIGVycm9yLlxuY29uc3QgZmluZFN1YnNlcXVlbmNlcyA9IChcbiAgbkNoYW5nZSxcbiAgYVN0YXJ0LFxuICBhRW5kLFxuICBiU3RhcnQsXG4gIGJFbmQsXG4gIHRyYW5zcG9zZWQsXG4gIGNhbGxiYWNrcyxcbiAgYUluZGV4ZXNGLFxuICBhSW5kZXhlc1IsXG4gIGRpdmlzaW9uIC8vIHRlbXBvcmFyeSBtZW1vcnksIG5vdCBpbnB1dCBub3Igb3V0cHV0XG4pID0+IHtcbiAgaWYgKGJFbmQgLSBiU3RhcnQgPCBhRW5kIC0gYVN0YXJ0KSB7XG4gICAgLy8gVHJhbnNwb3NlIGdyYXBoIHNvIGl0IGhhcyBwb3J0cmFpdCBpbnN0ZWFkIG9mIGxhbmRzY2FwZSBvcmllbnRhdGlvbi5cbiAgICAvLyBBbHdheXMgY29tcGFyZSBzaG9ydGVyIHRvIGxvbmdlciBzZXF1ZW5jZSBmb3IgY29uc2lzdGVuY3kgYW5kIG9wdGltaXphdGlvbi5cbiAgICB0cmFuc3Bvc2VkID0gIXRyYW5zcG9zZWQ7XG4gICAgaWYgKHRyYW5zcG9zZWQgJiYgY2FsbGJhY2tzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gTGF6aWx5IHdyYXAgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIHN3YXAgYXJncyBpZiBncmFwaCBpcyB0cmFuc3Bvc2VkLlxuICAgICAgY29uc3Qge2ZvdW5kU3Vic2VxdWVuY2UsIGlzQ29tbW9ufSA9IGNhbGxiYWNrc1swXTtcbiAgICAgIGNhbGxiYWNrc1sxXSA9IHtcbiAgICAgICAgZm91bmRTdWJzZXF1ZW5jZTogKG5Db21tb24sIGJDb21tb24sIGFDb21tb24pID0+IHtcbiAgICAgICAgICBmb3VuZFN1YnNlcXVlbmNlKG5Db21tb24sIGFDb21tb24sIGJDb21tb24pO1xuICAgICAgICB9LFxuICAgICAgICBpc0NvbW1vbjogKGJJbmRleCwgYUluZGV4KSA9PiBpc0NvbW1vbihhSW5kZXgsIGJJbmRleClcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHRTdGFydCA9IGFTdGFydDtcbiAgICBjb25zdCB0RW5kID0gYUVuZDtcbiAgICBhU3RhcnQgPSBiU3RhcnQ7XG4gICAgYUVuZCA9IGJFbmQ7XG4gICAgYlN0YXJ0ID0gdFN0YXJ0O1xuICAgIGJFbmQgPSB0RW5kO1xuICB9XG4gIGNvbnN0IHtmb3VuZFN1YnNlcXVlbmNlLCBpc0NvbW1vbn0gPSBjYWxsYmFja3NbdHJhbnNwb3NlZCA/IDEgOiAwXTtcblxuICAvLyBEaXZpZGUgdGhlIGluZGV4IGludGVydmFscyBhdCB0aGUgbWlkZGxlIGNoYW5nZS5cbiAgZGl2aWRlKFxuICAgIG5DaGFuZ2UsXG4gICAgYVN0YXJ0LFxuICAgIGFFbmQsXG4gICAgYlN0YXJ0LFxuICAgIGJFbmQsXG4gICAgaXNDb21tb24sXG4gICAgYUluZGV4ZXNGLFxuICAgIGFJbmRleGVzUixcbiAgICBkaXZpc2lvblxuICApO1xuICBjb25zdCB7XG4gICAgbkNoYW5nZVByZWNlZGluZyxcbiAgICBhRW5kUHJlY2VkaW5nLFxuICAgIGJFbmRQcmVjZWRpbmcsXG4gICAgbkNvbW1vblByZWNlZGluZyxcbiAgICBhQ29tbW9uUHJlY2VkaW5nLFxuICAgIGJDb21tb25QcmVjZWRpbmcsXG4gICAgbkNvbW1vbkZvbGxvd2luZyxcbiAgICBhQ29tbW9uRm9sbG93aW5nLFxuICAgIGJDb21tb25Gb2xsb3dpbmcsXG4gICAgbkNoYW5nZUZvbGxvd2luZyxcbiAgICBhU3RhcnRGb2xsb3dpbmcsXG4gICAgYlN0YXJ0Rm9sbG93aW5nXG4gIH0gPSBkaXZpc2lvbjtcblxuICAvLyBVbmxlc3MgZWl0aGVyIGluZGV4IGludGVydmFsIGlzIGVtcHR5LCB0aGV5IG1pZ2h0IGNvbnRhaW4gY29tbW9uIGl0ZW1zLlxuICBpZiAoYVN0YXJ0IDwgYUVuZFByZWNlZGluZyAmJiBiU3RhcnQgPCBiRW5kUHJlY2VkaW5nKSB7XG4gICAgLy8gUmVjdXJzZWx5IGZpbmQgYW5kIHJldHVybiBjb21tb24gc3Vic2VxdWVuY2VzIHByZWNlZGluZyB0aGUgZGl2aXNpb24uXG4gICAgZmluZFN1YnNlcXVlbmNlcyhcbiAgICAgIG5DaGFuZ2VQcmVjZWRpbmcsXG4gICAgICBhU3RhcnQsXG4gICAgICBhRW5kUHJlY2VkaW5nLFxuICAgICAgYlN0YXJ0LFxuICAgICAgYkVuZFByZWNlZGluZyxcbiAgICAgIHRyYW5zcG9zZWQsXG4gICAgICBjYWxsYmFja3MsXG4gICAgICBhSW5kZXhlc0YsXG4gICAgICBhSW5kZXhlc1IsXG4gICAgICBkaXZpc2lvblxuICAgICk7XG4gIH1cblxuICAvLyBSZXR1cm4gY29tbW9uIHN1YnNlcXVlbmNlcyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGUgbWlkZGxlIGNoYW5nZS5cbiAgaWYgKG5Db21tb25QcmVjZWRpbmcgIT09IDApIHtcbiAgICBmb3VuZFN1YnNlcXVlbmNlKG5Db21tb25QcmVjZWRpbmcsIGFDb21tb25QcmVjZWRpbmcsIGJDb21tb25QcmVjZWRpbmcpO1xuICB9XG4gIGlmIChuQ29tbW9uRm9sbG93aW5nICE9PSAwKSB7XG4gICAgZm91bmRTdWJzZXF1ZW5jZShuQ29tbW9uRm9sbG93aW5nLCBhQ29tbW9uRm9sbG93aW5nLCBiQ29tbW9uRm9sbG93aW5nKTtcbiAgfVxuXG4gIC8vIFVubGVzcyBlaXRoZXIgaW5kZXggaW50ZXJ2YWwgaXMgZW1wdHksIHRoZXkgbWlnaHQgY29udGFpbiBjb21tb24gaXRlbXMuXG4gIGlmIChhU3RhcnRGb2xsb3dpbmcgPCBhRW5kICYmIGJTdGFydEZvbGxvd2luZyA8IGJFbmQpIHtcbiAgICAvLyBSZWN1cnNlbHkgZmluZCBhbmQgcmV0dXJuIGNvbW1vbiBzdWJzZXF1ZW5jZXMgZm9sbG93aW5nIHRoZSBkaXZpc2lvbi5cbiAgICBmaW5kU3Vic2VxdWVuY2VzKFxuICAgICAgbkNoYW5nZUZvbGxvd2luZyxcbiAgICAgIGFTdGFydEZvbGxvd2luZyxcbiAgICAgIGFFbmQsXG4gICAgICBiU3RhcnRGb2xsb3dpbmcsXG4gICAgICBiRW5kLFxuICAgICAgdHJhbnNwb3NlZCxcbiAgICAgIGNhbGxiYWNrcyxcbiAgICAgIGFJbmRleGVzRixcbiAgICAgIGFJbmRleGVzUixcbiAgICAgIGRpdmlzaW9uXG4gICAgKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlTGVuZ3RoID0gKG5hbWUsIGFyZykgPT4ge1xuICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3BrZ306ICR7bmFtZX0gdHlwZW9mICR7dHlwZW9mIGFyZ30gaXMgbm90IGEgbnVtYmVyYCk7XG4gIH1cbiAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihhcmcpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCR7cGtnfTogJHtuYW1lfSB2YWx1ZSAke2FyZ30gaXMgbm90IGEgc2FmZSBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKGFyZyA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJHtwa2d9OiAke25hbWV9IHZhbHVlICR7YXJnfSBpcyBhIG5lZ2F0aXZlIGludGVnZXJgKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQ2FsbGJhY2sgPSAobmFtZSwgYXJnKSA9PiB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJnO1xuICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7cGtnfTogJHtuYW1lfSB0eXBlb2YgJHt0eXBlfSBpcyBub3QgYSBmdW5jdGlvbmApO1xuICB9XG59O1xuXG4vLyBDb21wYXJlIGl0ZW1zIGluIHR3byBzZXF1ZW5jZXMgdG8gZmluZCBhIGxvbmdlc3QgY29tbW9uIHN1YnNlcXVlbmNlLlxuLy8gR2l2ZW4gbGVuZ3RocyBvZiBzZXF1ZW5jZXMgYW5kIGlucHV0IGZ1bmN0aW9uIHRvIGNvbXBhcmUgaXRlbXMgYXQgaW5kZXhlcyxcbi8vIHJldHVybiBieSBvdXRwdXQgZnVuY3Rpb24gdGhlIG51bWJlciBvZiBhZGphY2VudCBpdGVtcyBhbmQgc3RhcnRpbmcgaW5kZXhlc1xuLy8gb2YgZWFjaCBjb21tb24gc3Vic2VxdWVuY2UuXG5mdW5jdGlvbiBkaWZmU2VxdWVuY2UoYUxlbmd0aCwgYkxlbmd0aCwgaXNDb21tb24sIGZvdW5kU3Vic2VxdWVuY2UpIHtcbiAgdmFsaWRhdGVMZW5ndGgoJ2FMZW5ndGgnLCBhTGVuZ3RoKTtcbiAgdmFsaWRhdGVMZW5ndGgoJ2JMZW5ndGgnLCBiTGVuZ3RoKTtcbiAgdmFsaWRhdGVDYWxsYmFjaygnaXNDb21tb24nLCBpc0NvbW1vbik7XG4gIHZhbGlkYXRlQ2FsbGJhY2soJ2ZvdW5kU3Vic2VxdWVuY2UnLCBmb3VuZFN1YnNlcXVlbmNlKTtcblxuICAvLyBDb3VudCBjb21tb24gaXRlbXMgZnJvbSB0aGUgc3RhcnQgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLlxuICBjb25zdCBuQ29tbW9uRiA9IGNvdW50Q29tbW9uSXRlbXNGKDAsIGFMZW5ndGgsIDAsIGJMZW5ndGgsIGlzQ29tbW9uKTtcbiAgaWYgKG5Db21tb25GICE9PSAwKSB7XG4gICAgZm91bmRTdWJzZXF1ZW5jZShuQ29tbW9uRiwgMCwgMCk7XG4gIH1cblxuICAvLyBVbmxlc3MgYm90aCBzZXF1ZW5jZXMgY29uc2lzdCBvZiBjb21tb24gaXRlbXMgb25seSxcbiAgLy8gZmluZCBjb21tb24gaXRlbXMgaW4gdGhlIGhhbGYtdHJpbW1lZCBpbmRleCBpbnRlcnZhbHMuXG4gIGlmIChhTGVuZ3RoICE9PSBuQ29tbW9uRiB8fCBiTGVuZ3RoICE9PSBuQ29tbW9uRikge1xuICAgIC8vIEludmFyaWFudDogaW50ZXJ2YWxzIGRvIG5vdCBoYXZlIGNvbW1vbiBpdGVtcyBhdCB0aGUgc3RhcnQuXG4gICAgLy8gVGhlIHN0YXJ0IG9mIGFuIGluZGV4IGludGVydmFsIGlzIGNsb3NlZCBsaWtlIGFycmF5IHNsaWNlIG1ldGhvZC5cbiAgICBjb25zdCBhU3RhcnQgPSBuQ29tbW9uRjtcbiAgICBjb25zdCBiU3RhcnQgPSBuQ29tbW9uRjtcblxuICAgIC8vIENvdW50IGNvbW1vbiBpdGVtcyBmcm9tIHRoZSBlbmQgaW4gdGhlIHJldmVyc2UgZGlyZWN0aW9uLlxuICAgIGNvbnN0IG5Db21tb25SID0gY291bnRDb21tb25JdGVtc1IoXG4gICAgICBhU3RhcnQsXG4gICAgICBhTGVuZ3RoIC0gMSxcbiAgICAgIGJTdGFydCxcbiAgICAgIGJMZW5ndGggLSAxLFxuICAgICAgaXNDb21tb25cbiAgICApO1xuXG4gICAgLy8gSW52YXJpYW50OiBpbnRlcnZhbHMgZG8gbm90IGhhdmUgY29tbW9uIGl0ZW1zIGF0IHRoZSBlbmQuXG4gICAgLy8gVGhlIGVuZCBvZiBhbiBpbmRleCBpbnRlcnZhbCBpcyBvcGVuIGxpa2UgYXJyYXkgc2xpY2UgbWV0aG9kLlxuICAgIGNvbnN0IGFFbmQgPSBhTGVuZ3RoIC0gbkNvbW1vblI7XG4gICAgY29uc3QgYkVuZCA9IGJMZW5ndGggLSBuQ29tbW9uUjtcblxuICAgIC8vIFVubGVzcyBvbmUgc2VxdWVuY2UgY29uc2lzdHMgb2YgY29tbW9uIGl0ZW1zIG9ubHksXG4gICAgLy8gdGhlcmVmb3JlIHRoZSBvdGhlciB0cmltbWVkIGluZGV4IGludGVydmFsIGNvbnNpc3RzIG9mIGNoYW5nZXMgb25seSxcbiAgICAvLyBmaW5kIGNvbW1vbiBpdGVtcyBpbiB0aGUgdHJpbW1lZCBpbmRleCBpbnRlcnZhbHMuXG4gICAgY29uc3QgbkNvbW1vbkZSID0gbkNvbW1vbkYgKyBuQ29tbW9uUjtcbiAgICBpZiAoYUxlbmd0aCAhPT0gbkNvbW1vbkZSICYmIGJMZW5ndGggIT09IG5Db21tb25GUikge1xuICAgICAgY29uc3QgbkNoYW5nZSA9IDA7IC8vIG51bWJlciBvZiBjaGFuZ2UgaXRlbXMgaXMgbm90IHlldCBrbm93blxuICAgICAgY29uc3QgdHJhbnNwb3NlZCA9IGZhbHNlOyAvLyBjYWxsIHRoZSBvcmlnaW5hbCB1bndyYXBwZWQgZnVuY3Rpb25zXG4gICAgICBjb25zdCBjYWxsYmFja3MgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBmb3VuZFN1YnNlcXVlbmNlLFxuICAgICAgICAgIGlzQ29tbW9uXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIC8vIEluZGV4ZXMgaW4gc2VxdWVuY2UgYSBvZiBsYXN0IHBvaW50cyBpbiBmdXJ0aGVzdCByZWFjaGluZyBwYXRoc1xuICAgICAgLy8gZnJvbSBvdXRzaWRlIHRoZSBzdGFydCBhdCB0b3AgbGVmdCBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb246XG4gICAgICBjb25zdCBhSW5kZXhlc0YgPSBbTk9UX1lFVF9TRVRdO1xuICAgICAgLy8gZnJvbSB0aGUgZW5kIGF0IGJvdHRvbSByaWdodCBpbiB0aGUgcmV2ZXJzZSBkaXJlY3Rpb246XG4gICAgICBjb25zdCBhSW5kZXhlc1IgPSBbTk9UX1lFVF9TRVRdO1xuXG4gICAgICAvLyBJbml0aWFsaXplIG9uZSBvYmplY3QgYXMgb3V0cHV0IG9mIGFsbCBjYWxscyB0byBkaXZpZGUgZnVuY3Rpb24uXG4gICAgICBjb25zdCBkaXZpc2lvbiA9IHtcbiAgICAgICAgYUNvbW1vbkZvbGxvd2luZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIGFDb21tb25QcmVjZWRpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBhRW5kUHJlY2VkaW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgYVN0YXJ0Rm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgYkNvbW1vbkZvbGxvd2luZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIGJDb21tb25QcmVjZWRpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBiRW5kUHJlY2VkaW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgYlN0YXJ0Rm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgbkNoYW5nZUZvbGxvd2luZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIG5DaGFuZ2VQcmVjZWRpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBuQ29tbW9uRm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgbkNvbW1vblByZWNlZGluZzogTk9UX1lFVF9TRVRcbiAgICAgIH07XG5cbiAgICAgIC8vIEZpbmQgYW5kIHJldHVybiBjb21tb24gc3Vic2VxdWVuY2VzIGluIHRoZSB0cmltbWVkIGluZGV4IGludGVydmFscy5cbiAgICAgIGZpbmRTdWJzZXF1ZW5jZXMoXG4gICAgICAgIG5DaGFuZ2UsXG4gICAgICAgIGFTdGFydCxcbiAgICAgICAgYUVuZCxcbiAgICAgICAgYlN0YXJ0LFxuICAgICAgICBiRW5kLFxuICAgICAgICB0cmFuc3Bvc2VkLFxuICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgIGFJbmRleGVzRixcbiAgICAgICAgYUluZGV4ZXNSLFxuICAgICAgICBkaXZpc2lvblxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG5Db21tb25SICE9PSAwKSB7XG4gICAgICBmb3VuZFN1YnNlcXVlbmNlKG5Db21tb25SLCBhRW5kLCBiRW5kKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLE9BQU8sR0FBR0MsWUFBWTtBQWtFOUIsSUFBTUMsR0FBRyxHQUFHLGdCQUFnQjtBQUM1QixJQUFNQyxXQUFXLEdBQUcsQ0FBQztBQUlyQixJQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQWlCQSxDQUFJQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFB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