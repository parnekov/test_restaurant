{"version":3,"names":["_matches","require","_accessiblity","_findAll","_matchTextContent","matchLabelText","root","element","expectedText","options","arguments","length","undefined","matchAccessibilityLabel","matchAccessibilityLabelledBy","getAccessibilityLabelledBy","extpectedLabel","matches","getAccessibilityLabel","normalizer","exact","nativeId","text","findAll","node","props","nativeID","matchTextContent"],"sources":["../../../src/helpers/matchers/match-label-text.ts"],"sourcesContent":["import { ReactTestInstance } from 'react-test-renderer';\nimport { matches, TextMatch, TextMatchOptions } from '../../matches';\nimport { getAccessibilityLabel, getAccessibilityLabelledBy } from '../accessiblity';\nimport { findAll } from '../find-all';\nimport { matchTextContent } from './match-text-content';\n\nexport function matchLabelText(\n  root: ReactTestInstance,\n  element: ReactTestInstance,\n  expectedText: TextMatch,\n  options: TextMatchOptions = {},\n) {\n  return (\n    matchAccessibilityLabel(element, expectedText, options) ||\n    matchAccessibilityLabelledBy(root, getAccessibilityLabelledBy(element), expectedText, options)\n  );\n}\n\nfunction matchAccessibilityLabel(\n  element: ReactTestInstance,\n  extpectedLabel: TextMatch,\n  options: TextMatchOptions,\n) {\n  return matches(extpectedLabel, getAccessibilityLabel(element), options.normalizer, options.exact);\n}\n\nfunction matchAccessibilityLabelledBy(\n  root: ReactTestInstance,\n  nativeId: string | undefined,\n  text: TextMatch,\n  options: TextMatchOptions,\n) {\n  if (!nativeId) {\n    return false;\n  }\n\n  return (\n    findAll(\n      root,\n      (node) => node.props.nativeID === nativeId && matchTextContent(node, text, options),\n    ).length > 0\n  );\n}\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,iBAAA,GAAAH,OAAA;AAEO,SAASI,cAAcA,CAC5BC,IAAuB,EACvBC,OAA0B,EAC1BC,YAAuB,EAEvB;EAAA,IADAC,OAAyB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAE9B,OACEG,uBAAuB,CAACN,OAAO,EAAEC,YAAY,EAAEC,OAAO,CAAC,IACvDK,4BAA4B,CAACR,IAAI,EAAE,IAAAJ,aAAA,CAAAa,0BAA0B,EAACR,OAAO,CAAC,EAAEC,YAAY,EAAEC,OAAO,CAAC;AAElG;AAEA,SAASI,uBAAuBA,CAC9BN,OAA0B,EAC1BS,cAAyB,EACzBP,OAAyB,EACzB;EACA,OAAO,IAAAT,QAAA,CAAAiB,OAAO,EAACD,cAAc,EAAE,IAAAd,aAAA,CAAAgB,qBAAqB,EAACX,OAAO,CAAC,EAAEE,OAAO,CAACU,UAAU,EAAEV,OAAO,CAACW,KAAK,CAAC;AACnG;AAEA,SAASN,4BAA4BA,CACnCR,IAAuB,EACvBe,QAA4B,EAC5BC,IAAe,EACfb,OAAyB,EACzB;EACA,IAAI,CAACY,QAAQ,EAAE;IACb,OAAO,KAAK;EACd;EAEA,OACE,IAAAlB,QAAA,CAAAoB,OAAO,EACLjB,IAAI,EACH,UAAAkB,IAAI;IAAA,OAAKA,IAAI,CAACC,KAAK,CAACC,QAAQ,KAAKL,QAAQ,IAAI,IAAAjB,iBAAA,CAAAuB,gBAAgB,EAACH,IAAI,EAAEF,IAAI,EAAEb,OAAO,CACpF;EAAA,EAAC,CAACE,MAAM,GAAG,CAAC;AAEhB","ignoreList":[]}