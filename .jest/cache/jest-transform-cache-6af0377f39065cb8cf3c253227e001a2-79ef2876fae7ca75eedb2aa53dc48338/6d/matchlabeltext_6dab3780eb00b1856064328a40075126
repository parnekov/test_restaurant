fd44c843be8e3c1dc8972b966ee29c3f
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.matchLabelText = matchLabelText;
var _matches = require("../../matches");
var _accessiblity = require("../accessiblity");
var _findAll = require("../find-all");
var _matchTextContent = require("./match-text-content");
function matchLabelText(root, element, expectedText) {
  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  return matchAccessibilityLabel(element, expectedText, options) || matchAccessibilityLabelledBy(root, (0, _accessiblity.getAccessibilityLabelledBy)(element), expectedText, options);
}
function matchAccessibilityLabel(element, extpectedLabel, options) {
  return (0, _matches.matches)(extpectedLabel, (0, _accessiblity.getAccessibilityLabel)(element), options.normalizer, options.exact);
}
function matchAccessibilityLabelledBy(root, nativeId, text, options) {
  if (!nativeId) {
    return false;
  }
  return (0, _findAll.findAll)(root, function (node) {
    return node.props.nativeID === nativeId && (0, _matchTextContent.matchTextContent)(node, text, options);
  }).length > 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWF0Y2hlcyIsInJlcXVpcmUiLCJfYWNjZXNzaWJsaXR5IiwiX2ZpbmRBbGwiLCJfbWF0Y2hUZXh0Q29udGVudCIsIm1hdGNoTGFiZWxUZXh0Iiwicm9vdCIsImVsZW1lbnQiLCJleHBlY3RlZFRleHQiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibWF0Y2hBY2Nlc3NpYmlsaXR5TGFiZWwiLCJtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5IiwiZ2V0QWNjZXNzaWJpbGl0eUxhYmVsbGVkQnkiLCJleHRwZWN0ZWRMYWJlbCIsIm1hdGNoZXMiLCJnZXRBY2Nlc3NpYmlsaXR5TGFiZWwiLCJub3JtYWxpemVyIiwiZXhhY3QiLCJuYXRpdmVJZCIsInRleHQiLCJmaW5kQWxsIiwibm9kZSIsInByb3BzIiwibmF0aXZlSUQiLCJtYXRjaFRleHRDb250ZW50Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hlbHBlcnMvbWF0Y2hlcnMvbWF0Y2gtbGFiZWwtdGV4dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdFRlc3RJbnN0YW5jZSB9IGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xuaW1wb3J0IHsgbWF0Y2hlcywgVGV4dE1hdGNoLCBUZXh0TWF0Y2hPcHRpb25zIH0gZnJvbSAnLi4vLi4vbWF0Y2hlcyc7XG5pbXBvcnQgeyBnZXRBY2Nlc3NpYmlsaXR5TGFiZWwsIGdldEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5IH0gZnJvbSAnLi4vYWNjZXNzaWJsaXR5JztcbmltcG9ydCB7IGZpbmRBbGwgfSBmcm9tICcuLi9maW5kLWFsbCc7XG5pbXBvcnQgeyBtYXRjaFRleHRDb250ZW50IH0gZnJvbSAnLi9tYXRjaC10ZXh0LWNvbnRlbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hMYWJlbFRleHQoXG4gIHJvb3Q6IFJlYWN0VGVzdEluc3RhbmNlLFxuICBlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgZXhwZWN0ZWRUZXh0OiBUZXh0TWF0Y2gsXG4gIG9wdGlvbnM6IFRleHRNYXRjaE9wdGlvbnMgPSB7fSxcbikge1xuICByZXR1cm4gKFxuICAgIG1hdGNoQWNjZXNzaWJpbGl0eUxhYmVsKGVsZW1lbnQsIGV4cGVjdGVkVGV4dCwgb3B0aW9ucykgfHxcbiAgICBtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5KHJvb3QsIGdldEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5KGVsZW1lbnQpLCBleHBlY3RlZFRleHQsIG9wdGlvbnMpXG4gICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoQWNjZXNzaWJpbGl0eUxhYmVsKFxuICBlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgZXh0cGVjdGVkTGFiZWw6IFRleHRNYXRjaCxcbiAgb3B0aW9uczogVGV4dE1hdGNoT3B0aW9ucyxcbikge1xuICByZXR1cm4gbWF0Y2hlcyhleHRwZWN0ZWRMYWJlbCwgZ2V0QWNjZXNzaWJpbGl0eUxhYmVsKGVsZW1lbnQpLCBvcHRpb25zLm5vcm1hbGl6ZXIsIG9wdGlvbnMuZXhhY3QpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5KFxuICByb290OiBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgbmF0aXZlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgdGV4dDogVGV4dE1hdGNoLFxuICBvcHRpb25zOiBUZXh0TWF0Y2hPcHRpb25zLFxuKSB7XG4gIGlmICghbmF0aXZlSWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIGZpbmRBbGwoXG4gICAgICByb290LFxuICAgICAgKG5vZGUpID0+IG5vZGUucHJvcHMubmF0aXZlSUQgPT09IG5hdGl2ZUlkICYmIG1hdGNoVGV4dENvbnRlbnQobm9kZSwgdGV4dCwgb3B0aW9ucyksXG4gICAgKS5sZW5ndGggPiAwXG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFILE9BQUE7QUFFTyxTQUFTSSxjQUFjQSxDQUM1QkMsSUFBdUIsRUFDdkJDLE9BQTBCLEVBQzFCQyxZQUF1QixFQUV2QjtFQUFBLElBREFDLE9BQXlCLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQztFQUU5QixPQUNFRyx1QkFBdUIsQ0FBQ04sT0FBTyxFQUFFQyxZQUFZLEVBQUVDLE9BQU8sQ0FBQyxJQUN2REssNEJBQTRCLENBQUNSLElBQUksRUFBRSxJQUFBSixhQUFBLENBQUFhLDBCQUEwQixFQUFDUixPQUFPLENBQUMsRUFBRUMsWUFBWSxFQUFFQyxPQUFPLENBQUM7QUFFbEc7QUFFQSxTQUFTSSx1QkFBdUJBLENBQzlCTixPQUEwQixFQUMxQlMsY0FBeUIsRUFDekJQLE9BQXlCLEVBQ3pCO0VBQ0EsT0FBTyxJQUFBVCxRQUFBLENBQUFpQixPQUFPLEVBQUNELGNBQWMsRUFBRSxJQUFBZCxhQUFBLENBQUFnQixxQkFBcUIsRUFBQ1gsT0FBTyxDQUFDLEVBQUVFLE9BQU8sQ0FBQ1UsVUFBVSxFQUFFVixPQUFPLENBQUNXLEtBQUssQ0FBQztBQUNuRztBQUVBLFNBQVNOLDRCQUE0QkEsQ0FDbkNSLElBQXVCLEVBQ3ZCZSxRQUE0QixFQUM1QkMsSUFBZSxFQUNmYixPQUF5QixFQUN6QjtFQUNBLElBQUksQ0FBQ1ksUUFBUSxFQUFFO0lBQ2IsT0FBTyxLQUFLO0VBQ2Q7RUFFQSxPQUNFLElBQUFsQixRQUFBLENBQUFvQixPQUFPLEVBQ0xqQixJQUFJLEVBQ0gsVUFBQWtCLElBQUk7SUFBQSxPQUFLQSxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsUUFBUSxLQUFLTCxRQUFRLElBQUksSUFBQWpCLGlCQUFBLENBQUF1QixnQkFBZ0IsRUFBQ0gsSUFBSSxFQUFFRixJQUFJLEVBQUViLE9BQU8sQ0FDcEY7RUFBQSxFQUFDLENBQUNFLE1BQU0sR0FBRyxDQUFDO0FBRWhCIiwiaWdub3JlTGlzdCI6W119