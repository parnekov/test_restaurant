a460dae1469dfa1eda2717f7b5069c1e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toHaveAccessibilityState = void 0;
var jest_matcher_utils_1 = require("jest-matcher-utils");
var utils_1 = require("./utils");
function toHaveAccessibilityState(element, expectedState) {
  var _this = this;
  (0, utils_1.checkReactElement)(element, toHaveAccessibilityState, this);
  var impliedState = getAccessibilityState(element);
  return {
    pass: matchAccessibilityState(element, expectedState),
    message: function message() {
      var matcher = (0, jest_matcher_utils_1.matcherHint)(`${_this.isNot ? '.not' : ''}.toHaveAccessibilityState`, 'element', (0, jest_matcher_utils_1.stringify)(expectedState));
      return (0, utils_1.getMessage)(matcher, `Expected the element ${_this.isNot ? 'not to' : 'to'} have accessibility state`, (0, jest_matcher_utils_1.stringify)(expectedState), 'Received element with implied accessibility state', (0, jest_matcher_utils_1.stringify)(impliedState));
    }
  };
}
exports.toHaveAccessibilityState = toHaveAccessibilityState;
var defaultState = {
  disabled: false,
  selected: false,
  busy: false
};
var getAccessibilityState = function getAccessibilityState(element) {
  return Object.assign({}, defaultState, element.props.accessibilityState);
};
var accessibilityStateKeys = ['disabled', 'selected', 'checked', 'busy', 'expanded'];
function matchAccessibilityState(element, matcher) {
  var state = getAccessibilityState(element);
  return accessibilityStateKeys.every(function (key) {
    return matchStateEntry(state, matcher, key);
  });
}
function matchStateEntry(state, matcher, key) {
  return matcher[key] === undefined || matcher[key] === state[key];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInRvSGF2ZUFjY2Vzc2liaWxpdHlTdGF0ZSIsImplc3RfbWF0Y2hlcl91dGlsc18xIiwicmVxdWlyZSIsInV0aWxzXzEiLCJlbGVtZW50IiwiZXhwZWN0ZWRTdGF0ZSIsIl90aGlzIiwiY2hlY2tSZWFjdEVsZW1lbnQiLCJpbXBsaWVkU3RhdGUiLCJnZXRBY2Nlc3NpYmlsaXR5U3RhdGUiLCJwYXNzIiwibWF0Y2hBY2Nlc3NpYmlsaXR5U3RhdGUiLCJtZXNzYWdlIiwibWF0Y2hlciIsIm1hdGNoZXJIaW50IiwiaXNOb3QiLCJzdHJpbmdpZnkiLCJnZXRNZXNzYWdlIiwiZGVmYXVsdFN0YXRlIiwiZGlzYWJsZWQiLCJzZWxlY3RlZCIsImJ1c3kiLCJhc3NpZ24iLCJwcm9wcyIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImFjY2Vzc2liaWxpdHlTdGF0ZUtleXMiLCJzdGF0ZSIsImV2ZXJ5Iiwia2V5IiwibWF0Y2hTdGF0ZUVudHJ5IiwidW5kZWZpbmVkIl0sInNvdXJjZXMiOlsidG8taGF2ZS1hY2Nlc3NpYmlsaXR5LXN0YXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUgPSB2b2lkIDA7XG5jb25zdCBqZXN0X21hdGNoZXJfdXRpbHNfMSA9IHJlcXVpcmUoXCJqZXN0LW1hdGNoZXItdXRpbHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5mdW5jdGlvbiB0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUoZWxlbWVudCwgZXhwZWN0ZWRTdGF0ZSkge1xuICAgICgwLCB1dGlsc18xLmNoZWNrUmVhY3RFbGVtZW50KShlbGVtZW50LCB0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUsIHRoaXMpO1xuICAgIGNvbnN0IGltcGxpZWRTdGF0ZSA9IGdldEFjY2Vzc2liaWxpdHlTdGF0ZShlbGVtZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXNzOiBtYXRjaEFjY2Vzc2liaWxpdHlTdGF0ZShlbGVtZW50LCBleHBlY3RlZFN0YXRlKSxcbiAgICAgICAgbWVzc2FnZTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9ICgwLCBqZXN0X21hdGNoZXJfdXRpbHNfMS5tYXRjaGVySGludCkoYCR7dGhpcy5pc05vdCA/ICcubm90JyA6ICcnfS50b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGVgLCAnZWxlbWVudCcsICgwLCBqZXN0X21hdGNoZXJfdXRpbHNfMS5zdHJpbmdpZnkpKGV4cGVjdGVkU3RhdGUpKTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS5nZXRNZXNzYWdlKShtYXRjaGVyLCBgRXhwZWN0ZWQgdGhlIGVsZW1lbnQgJHt0aGlzLmlzTm90ID8gJ25vdCB0bycgOiAndG8nfSBoYXZlIGFjY2Vzc2liaWxpdHkgc3RhdGVgLCAoMCwgamVzdF9tYXRjaGVyX3V0aWxzXzEuc3RyaW5naWZ5KShleHBlY3RlZFN0YXRlKSwgJ1JlY2VpdmVkIGVsZW1lbnQgd2l0aCBpbXBsaWVkIGFjY2Vzc2liaWxpdHkgc3RhdGUnLCAoMCwgamVzdF9tYXRjaGVyX3V0aWxzXzEuc3RyaW5naWZ5KShpbXBsaWVkU3RhdGUpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy50b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUgPSB0b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGU7XG4vKipcbiAqIERlZmF1bHQgYWNjZXNzaWJpbGl0eSBzdGF0ZSB2YWx1ZXMgYmFzZWQgb24gZXhwZXJpbWVudHMgdXNpbmcgYWNjZXNzaWJpbGl0eVxuICogaW5zcGVjdG9yL3NjcmVlbiByZWFkZXIgb24gaU9TIGFuZCBBbmRyb2lkLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2NhbGxzdGFjay9yZWFjdC1uYXRpdmUtdGVzdGluZy1saWJyYXJ5L3dpa2kvQWNjZXNzaWJpbGl0eTotU3RhdGVcbiAqL1xuY29uc3QgZGVmYXVsdFN0YXRlID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgYnVzeTogZmFsc2UsXG59O1xuY29uc3QgZ2V0QWNjZXNzaWJpbGl0eVN0YXRlID0gKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZWZhdWx0U3RhdGUsXG4gICAgICAgIC4uLmVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlLFxuICAgIH07XG59O1xuY29uc3QgYWNjZXNzaWJpbGl0eVN0YXRlS2V5cyA9IFtcbiAgICAnZGlzYWJsZWQnLFxuICAgICdzZWxlY3RlZCcsXG4gICAgJ2NoZWNrZWQnLFxuICAgICdidXN5JyxcbiAgICAnZXhwYW5kZWQnLFxuXTtcbmZ1bmN0aW9uIG1hdGNoQWNjZXNzaWJpbGl0eVN0YXRlKGVsZW1lbnQsIG1hdGNoZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldEFjY2Vzc2liaWxpdHlTdGF0ZShlbGVtZW50KTtcbiAgICByZXR1cm4gYWNjZXNzaWJpbGl0eVN0YXRlS2V5cy5ldmVyeSgoa2V5KSA9PiBtYXRjaFN0YXRlRW50cnkoc3RhdGUsIG1hdGNoZXIsIGtleSkpO1xufVxuZnVuY3Rpb24gbWF0Y2hTdGF0ZUVudHJ5KHN0YXRlLCBtYXRjaGVyLCBrZXkpIHtcbiAgICByZXR1cm4gbWF0Y2hlcltrZXldID09PSB1bmRlZmluZWQgfHwgbWF0Y2hlcltrZXldID09PSBzdGF0ZVtrZXldO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUFFQyxLQUFLLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFDN0RELE9BQU8sQ0FBQ0Usd0JBQXdCLEdBQUcsS0FBSyxDQUFDO0FB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