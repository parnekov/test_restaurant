{"version":3,"names":["knownKeys","Set","parseKeys","text","result","remainingText","_getNextToken","getNextToken","_getNextToken2","_slicedToArray2","default","token","rest","length","has","Error","push","slice","endIndex","indexOf"],"sources":["../../../src/user-event/type/parse-keys.ts"],"sourcesContent":["const knownKeys = new Set(['Enter', 'Backspace']);\n\nexport function parseKeys(text: string) {\n  const result = [];\n\n  let remainingText = text;\n  while (remainingText) {\n    const [token, rest] = getNextToken(remainingText);\n    if (token.length > 1 && !knownKeys.has(token)) {\n      throw new Error(`Unknown key \"${token}\" in \"${text}\"`);\n    }\n\n    result.push(token);\n    remainingText = rest;\n  }\n\n  return result;\n}\n\nfunction getNextToken(text: string): [string, string] {\n  // Detect `{{` => escaped `{`\n  if (text[0] === '{' && text[1] === '{') {\n    return ['{', text.slice(2)];\n  }\n\n  // Detect `{key}` => special key\n  if (text[0] === '{') {\n    const endIndex = text.indexOf('}');\n    if (endIndex === -1) {\n      throw new Error(`Invalid key sequence \"${text}\"`);\n    }\n\n    return [text.slice(1, endIndex), text.slice(endIndex + 1)];\n  }\n\n  if (text[0] === '\\n') {\n    return ['Enter', text.slice(1)];\n  }\n\n  return [text[0], text.slice(1)];\n}\n"],"mappings":";;;;;;;;AAAA,IAAMA,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;AAE1C,SAASC,SAASA,CAACC,IAAY,EAAE;EACtC,IAAMC,MAAM,GAAG,EAAE;EAEjB,IAAIC,aAAa,GAAGF,IAAI;EACxB,OAAOE,aAAa,EAAE;IACpB,IAAAC,aAAA,GAAsBC,YAAY,CAACF,aAAa,CAAC;MAAAG,cAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,aAAA;MAA1CK,KAAK,GAAAH,cAAA;MAAEI,IAAI,GAAAJ,cAAA;IAClB,IAAIG,KAAK,CAACE,MAAM,GAAG,CAAC,IAAI,CAACb,SAAS,CAACc,GAAG,CAACH,KAAK,CAAC,EAAE;MAC7C,MAAM,IAAII,KAAK,CAAE,gBAAeJ,KAAM,SAAQR,IAAK,GAAE,CAAC;IACxD;IAEAC,MAAM,CAACY,IAAI,CAACL,KAAK,CAAC;IAClBN,aAAa,GAAGO,IAAI;EACtB;EAEA,OAAOR,MAAM;AACf;AAEA,SAASG,YAAYA,CAACJ,IAAY,EAAoB;EAEpD,IAAIA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACtC,OAAO,CAAC,GAAG,EAAEA,IAAI,CAACc,KAAK,CAAC,CAAC,CAAC,CAAC;EAC7B;EAGA,IAAId,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACnB,IAAMe,QAAQ,GAAGf,IAAI,CAACgB,OAAO,CAAC,GAAG,CAAC;IAClC,IAAID,QAAQ,KAAK,CAAC,CAAC,EAAE;MACnB,MAAM,IAAIH,KAAK,CAAE,yBAAwBZ,IAAK,GAAE,CAAC;IACnD;IAEA,OAAO,CAACA,IAAI,CAACc,KAAK,CAAC,CAAC,EAAEC,QAAQ,CAAC,EAAEf,IAAI,CAACc,KAAK,CAACC,QAAQ,GAAG,CAAC,CAAC,CAAC;EAC5D;EAEA,IAAIf,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;IACpB,OAAO,CAAC,OAAO,EAAEA,IAAI,CAACc,KAAK,CAAC,CAAC,CAAC,CAAC;EACjC;EAEA,OAAO,CAACd,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAACc,KAAK,CAAC,CAAC,CAAC,CAAC;AACjC","ignoreList":[]}