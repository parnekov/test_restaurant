d5a18b30f6ca9ceb1eca85e38b4a33e9
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["onTimeout"],
  _excluded2 = ["onTimeout"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeQueries = makeQueries;
var _errors = require("../helpers/errors");
var _waitFor = _interopRequireDefault(require("../wait-for"));
var _format = _interopRequireDefault(require("../helpers/format"));
var _screen = require("../screen");
var _formatDefault = require("../helpers/format-default");
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var deprecatedKeys = ['timeout', 'interval', 'stackTraceError'];
function extractDeprecatedWaitForOptions(options) {
  if (!options) {
    return undefined;
  }
  var waitForOptions = {
    timeout: options.timeout,
    interval: options.interval,
    stackTraceError: options.stackTraceError
  };
  deprecatedKeys.forEach(function (key) {
    var option = options[key];
    if (option) {
      console.warn(`Use of option "${key}" in a findBy* query options (2nd parameter) is deprecated. Please pass this option in the waitForOptions (3rd parameter).
Example:

  findByText(text, {}, { ${key}: ${option.toString()} })`);
    }
  });
  return waitForOptions;
}
function formatErrorMessage(message, printElementTree) {
  if (!printElementTree) {
    return message;
  }
  if (_screen.screen.isDetached) {
    return `${message}\n\nScreen is no longer attached. Check your test for "findBy*" or "waitFor" calls that have not been awaited.\n\nWe recommend enabling "eslint-plugin-testing-library" to catch these issues at build time:\nhttps://callstack.github.io/react-native-testing-library/docs/getting-started#eslint-plugin`;
  }
  var json = _screen.screen.toJSON();
  if (!json) {
    return message;
  }
  return `${message}\n\n${(0, _format.default)(json, {
    mapProps: _formatDefault.defaultMapProps
  })}`;
}
function appendElementTreeToError(error) {
  var _error$stack;
  var oldMessage = error.message;
  error.message = formatErrorMessage(oldMessage, true);
  error.stack = (_error$stack = error.stack) == null ? void 0 : _error$stack.replace(oldMessage, error.message);
  return error;
}
function makeQueries(queryAllByQuery, getMissingError, getMultipleError) {
  function getAllByQuery(instance) {
    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$printElementTree = _ref.printElementTree,
      printElementTree = _ref$printElementTree === void 0 ? true : _ref$printElementTree;
    return function getAllFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length === 0) {
        var errorMessage = formatErrorMessage(getMissingError(predicate, options), printElementTree);
        throw new _errors.ErrorWithStack(errorMessage, getAllFn);
      }
      return results;
    };
  }
  function queryByQuery(instance) {
    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref2$printElementTre = _ref2.printElementTree,
      printElementTree = _ref2$printElementTre === void 0 ? true : _ref2$printElementTre;
    return function singleQueryFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length > 1) {
        throw new _errors.ErrorWithStack(formatErrorMessage(getMultipleError(predicate, options), printElementTree), singleQueryFn);
      }
      if (results.length === 0) {
        return null;
      }
      return results[0];
    };
  }
  function getByQuery(instance) {
    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref3$printElementTre = _ref3.printElementTree,
      printElementTree = _ref3$printElementTre === void 0 ? true : _ref3$printElementTre;
    return function getFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length > 1) {
        throw new _errors.ErrorWithStack(getMultipleError(predicate, options), getFn);
      }
      if (results.length === 0) {
        var errorMessage = formatErrorMessage(getMissingError(predicate, options), printElementTree);
        throw new _errors.ErrorWithStack(errorMessage, getFn);
      }
      return results[0];
    };
  }
  function findAllByQuery(instance) {
    return function findAllFn(predicate, queryOptions) {
      var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
        _ref4$onTimeout = _ref4.onTimeout,
        onTimeout = _ref4$onTimeout === void 0 ? function (error) {
          return appendElementTreeToError(error);
        } : _ref4$onTimeout,
        waitForOptions = (0, _objectWithoutProperties2.default)(_ref4, _excluded);
      var stackTraceError = new _errors.ErrorWithStack('STACK_TRACE_ERROR', findAllFn);
      var deprecatedWaitForOptions = extractDeprecatedWaitForOptions(queryOptions);
      return (0, _waitFor.default)(function () {
        return getAllByQuery(instance, {
          printElementTree: false
        })(predicate, queryOptions);
      }, Object.assign({}, deprecatedWaitForOptions, waitForOptions, {
        stackTraceError: stackTraceError,
        onTimeout: onTimeout
      }));
    };
  }
  function findByQuery(instance) {
    return function findFn(predicate, queryOptions) {
      var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
        _ref5$onTimeout = _ref5.onTimeout,
        onTimeout = _ref5$onTimeout === void 0 ? function (error) {
          return appendElementTreeToError(error);
        } : _ref5$onTimeout,
        waitForOptions = (0, _objectWithoutProperties2.default)(_ref5, _excluded2);
      var stackTraceError = new _errors.ErrorWithStack('STACK_TRACE_ERROR', findFn);
      var deprecatedWaitForOptions = extractDeprecatedWaitForOptions(queryOptions);
      return (0, _waitFor.default)(function () {
        return getByQuery(instance, {
          printElementTree: false
        })(predicate, queryOptions);
      }, Object.assign({}, deprecatedWaitForOptions, waitForOptions, {
        stackTraceError: stackTraceError,
        onTimeout: onTimeout
      }));
    };
  }
  return {
    getBy: getByQuery,
    getAllBy: getAllByQuery,
    queryBy: queryByQuery,
    queryAllBy: queryAllByQuery,
    findBy: findByQuery,
    findAllBy: findAllByQuery
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXJyb3JzIiwicmVxdWlyZSIsIl93YWl0Rm9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9mb3JtYXQiLCJfc2NyZWVuIiwiX2Zvcm1hdERlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRlcHJlY2F0ZWRLZXlzIiwiZXh0cmFjdERlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyIsIm9wdGlvbnMiLCJ1bmRlZmluZWQiLCJ3YWl0Rm9yT3B0aW9ucyIsInRpbWVvdXQiLCJpbnRlcnZhbCIsInN0YWNrVHJhY2VFcnJvciIsImZvckVhY2giLCJrZXkiLCJvcHRpb24iLCJjb25zb2xlIiwid2FybiIsInRvU3RyaW5nIiwiZm9ybWF0RXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInByaW50RWxlbWVudFRyZWUiLCJzY3JlZW4iLCJpc0RldGFjaGVkIiwianNvbiIsInRvSlNPTiIsIm1hcFByb3BzIiwiZGVmYXVsdE1hcFByb3BzIiwiYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yIiwiZXJyb3IiLCJfZXJyb3Ikc3RhY2siLCJvbGRNZXNzYWdlIiwic3RhY2siLCJyZXBsYWNlIiwibWFrZVF1ZXJpZXMiLCJxdWVyeUFsbEJ5UXVlcnkiLCJnZXRNaXNzaW5nRXJyb3IiLCJnZXRNdWx0aXBsZUVycm9yIiwiZ2V0QWxsQnlRdWVyeSIsImluc3RhbmNlIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9yZWYkcHJpbnRFbGVtZW50VHJlZSIsImdldEFsbEZuIiwicHJlZGljYXRlIiwicmVzdWx0cyIsImVycm9yTWVzc2FnZSIsIkVycm9yV2l0aFN0YWNrIiwicXVlcnlCeVF1ZXJ5IiwiX3JlZjIiLCJfcmVmMiRwcmludEVsZW1lbnRUcmUiLCJzaW5nbGVRdWVyeUZuIiwiZ2V0QnlRdWVyeSIsIl9yZWYzIiwiX3JlZjMkcHJpbnRFbGVtZW50VHJlIiwiZ2V0Rm4iLCJmaW5kQWxsQnlRdWVyeSIsImZpbmRBbGxGbiIsInF1ZXJ5T3B0aW9ucyIsIl9yZWY0IiwiX3JlZjQkb25UaW1lb3V0Iiwib25UaW1lb3V0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9leGNsdWRlZCIsImRlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsImZpbmRCeVF1ZXJ5IiwiZmluZEZuIiwiX3JlZjUiLCJfcmVmNSRvblRpbWVvdXQiLCJfZXhjbHVkZWQyIiwiZ2V0QnkiLCJnZXRBbGxCeSIsInF1ZXJ5QnkiLCJxdWVyeUFsbEJ5IiwiZmluZEJ5IiwiZmluZEFsbEJ5Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3F1ZXJpZXMvbWFrZS1xdWVyaWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUmVhY3RUZXN0SW5zdGFuY2UgfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcbmltcG9ydCB7IEVycm9yV2l0aFN0YWNrIH0gZnJvbSAnLi4vaGVscGVycy9lcnJvcnMnO1xuaW1wb3J0IHdhaXRGb3IgZnJvbSAnLi4vd2FpdC1mb3InO1xuaW1wb3J0IHR5cGUgeyBXYWl0Rm9yT3B0aW9ucyB9IGZyb20gJy4uL3dhaXQtZm9yJztcbmltcG9ydCBmb3JtYXQgZnJvbSAnLi4vaGVscGVycy9mb3JtYXQnO1xuaW1wb3J0IHsgc2NyZWVuIH0gZnJvbSAnLi4vc2NyZWVuJztcbmltcG9ydCB7IGRlZmF1bHRNYXBQcm9wcyB9IGZyb20gJy4uL2hlbHBlcnMvZm9ybWF0LWRlZmF1bHQnO1xuXG5leHBvcnQgdHlwZSBHZXRCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucyA9IHZvaWQ+ID0gKFxuICBwcmVkaWNhdGU6IFByZWRpY2F0ZSxcbiAgb3B0aW9ucz86IE9wdGlvbnMsXG4pID0+IFJlYWN0VGVzdEluc3RhbmNlO1xuXG5leHBvcnQgdHlwZSBHZXRBbGxCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucyA9IHZvaWQ+ID0gKFxuICBwcmVkaWNhdGU6IFByZWRpY2F0ZSxcbiAgb3B0aW9ucz86IE9wdGlvbnMsXG4pID0+IFJlYWN0VGVzdEluc3RhbmNlW107XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5QnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIG9wdGlvbnM/OiBPcHRpb25zLFxuKSA9PiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGw7XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIG9wdGlvbnM/OiBPcHRpb25zLFxuKSA9PiBSZWFjdFRlc3RJbnN0YW5jZVtdO1xuXG5leHBvcnQgdHlwZSBGaW5kQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIC8vIFJlbW92ZSBgJiBXYWl0Rm9yT3B0aW9uc2Agd2hlbiBhbGwgcXVlcmllcyBoYXZlIGJlZW4gbWlncmF0ZWQgdG8gc3VwcG9ydCAybmQgYXJnIHF1ZXJ5IG9wdGlvbnMuXG4gIG9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gIHdhaXRGb3JPcHRpb25zPzogV2FpdEZvck9wdGlvbnMsXG4pID0+IFByb21pc2U8UmVhY3RUZXN0SW5zdGFuY2U+O1xuXG5leHBvcnQgdHlwZSBGaW5kQWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIC8vIFJlbW92ZSBgJiBXYWl0Rm9yT3B0aW9uc2Agd2hlbiBhbGwgcXVlcmllcyBoYXZlIGJlZW4gbWlncmF0ZWQgdG8gc3VwcG9ydCAybmQgYXJnIHF1ZXJ5IG9wdGlvbnMuXG4gIG9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gIHdhaXRGb3JPcHRpb25zPzogV2FpdEZvck9wdGlvbnMsXG4pID0+IFByb21pc2U8UmVhY3RUZXN0SW5zdGFuY2VbXT47XG5cbnR5cGUgVW5ib3VuZFF1ZXJ5PFF1ZXJ5PiA9IChpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpID0+IFF1ZXJ5O1xuXG5leHBvcnQgdHlwZSBVbmJvdW5kUXVlcmllczxQcmVkaWNhdGUsIE9wdGlvbnM+ID0ge1xuICBnZXRCeTogVW5ib3VuZFF1ZXJ5PEdldEJ5UXVlcnk8UHJlZGljYXRlLCBPcHRpb25zPj47XG4gIGdldEFsbEJ5OiBVbmJvdW5kUXVlcnk8R2V0QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgcXVlcnlCeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgcXVlcnlBbGxCeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgZmluZEJ5OiBVbmJvdW5kUXVlcnk8RmluZEJ5UXVlcnk8UHJlZGljYXRlLCBPcHRpb25zPj47XG4gIGZpbmRBbGxCeTogVW5ib3VuZFF1ZXJ5PEZpbmRBbGxCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucz4+O1xufTtcblxuY29uc3QgZGVwcmVjYXRlZEtleXM6IChrZXlvZiBXYWl0Rm9yT3B0aW9ucylbXSA9IFsndGltZW91dCcsICdpbnRlcnZhbCcsICdzdGFja1RyYWNlRXJyb3InXTtcblxuLy8gVGhlIFdhaXRGb3JPcHRpb25zIGhhcyBiZWVuIG1vdmVkIHRvIHRoZSBzZWNvbmQgb3B0aW9uIHBhcmFtIG9mIGZpbmRCeSogbWV0aG9kcyB3aXRoIHRoZSBhZGRpbmcgb2YgVGV4dE1hdGNoT3B0aW9uc1xuLy8gVG8gbWFrZSB0aGUgbWlncmF0aW9uIGVhc2llciBhbmQgYXZvaWQgYSBicmVha2luZyBjaGFuZ2UsIGtlZXAgcmVhZGluZyB0aGlzIG9wdGlvbnMgZnJvbSB0aGUgZmlyc3QgcGFyYW0gYnV0IHdhcm5cbmZ1bmN0aW9uIGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMob3B0aW9ucz86IFdhaXRGb3JPcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCB3YWl0Rm9yT3B0aW9uczogV2FpdEZvck9wdGlvbnMgPSB7XG4gICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuICAgIGludGVydmFsOiBvcHRpb25zLmludGVydmFsLFxuICAgIHN0YWNrVHJhY2VFcnJvcjogb3B0aW9ucy5zdGFja1RyYWNlRXJyb3IsXG4gIH07XG5cbiAgZGVwcmVjYXRlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBVc2Ugb2Ygb3B0aW9uIFwiJHtrZXl9XCIgaW4gYSBmaW5kQnkqIHF1ZXJ5IG9wdGlvbnMgKDJuZCBwYXJhbWV0ZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSBwYXNzIHRoaXMgb3B0aW9uIGluIHRoZSB3YWl0Rm9yT3B0aW9ucyAoM3JkIHBhcmFtZXRlcikuXG5FeGFtcGxlOlxuXG4gIGZpbmRCeVRleHQodGV4dCwge30sIHsgJHtrZXl9OiAke29wdGlvbi50b1N0cmluZygpfSB9KWAsXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHdhaXRGb3JPcHRpb25zO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvck1lc3NhZ2UobWVzc2FnZTogc3RyaW5nLCBwcmludEVsZW1lbnRUcmVlOiBib29sZWFuKSB7XG4gIGlmICghcHJpbnRFbGVtZW50VHJlZSkge1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG5cbiAgaWYgKHNjcmVlbi5pc0RldGFjaGVkKSB7XG4gICAgcmV0dXJuIGAke21lc3NhZ2V9XFxuXFxuU2NyZWVuIGlzIG5vIGxvbmdlciBhdHRhY2hlZC4gQ2hlY2sgeW91ciB0ZXN0IGZvciBcImZpbmRCeSpcIiBvciBcIndhaXRGb3JcIiBjYWxscyB0aGF0IGhhdmUgbm90IGJlZW4gYXdhaXRlZC5cXG5cXG5XZSByZWNvbW1lbmQgZW5hYmxpbmcgXCJlc2xpbnQtcGx1Z2luLXRlc3RpbmctbGlicmFyeVwiIHRvIGNhdGNoIHRoZXNlIGlzc3VlcyBhdCBidWlsZCB0aW1lOlxcbmh0dHBzOi8vY2FsbHN0YWNrLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUtdGVzdGluZy1saWJyYXJ5L2RvY3MvZ2V0dGluZy1zdGFydGVkI2VzbGludC1wbHVnaW5gO1xuICB9XG5cbiAgY29uc3QganNvbiA9IHNjcmVlbi50b0pTT04oKTtcbiAgaWYgKCFqc29uKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gYCR7bWVzc2FnZX1cXG5cXG4ke2Zvcm1hdChqc29uLCB7XG4gICAgbWFwUHJvcHM6IGRlZmF1bHRNYXBQcm9wcyxcbiAgfSl9YDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yOiBFcnJvcikge1xuICBjb25zdCBvbGRNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgZXJyb3IubWVzc2FnZSA9IGZvcm1hdEVycm9yTWVzc2FnZShvbGRNZXNzYWdlLCB0cnVlKTtcblxuICAvLyBSZXF1aXJlZCB0byBtYWtlIEplc3QgcHJpbnQgdGhlIGVsZW1lbnQgdHJlZSBvbiBlcnJvclxuICBlcnJvci5zdGFjayA9IGVycm9yLnN0YWNrPy5yZXBsYWNlKG9sZE1lc3NhZ2UsIGVycm9yLm1lc3NhZ2UpO1xuXG4gIHJldHVybiBlcnJvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWVyaWVzPFByZWRpY2F0ZSwgT3B0aW9ucz4oXG4gIHF1ZXJ5QWxsQnlRdWVyeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PixcbiAgZ2V0TWlzc2luZ0Vycm9yOiAocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSA9PiBzdHJpbmcsXG4gIGdldE11bHRpcGxlRXJyb3I6IChwcmVkaWNhdGU6IFByZWRpY2F0ZSwgb3B0aW9ucz86IE9wdGlvbnMpID0+IHN0cmluZyxcbik6IFVuYm91bmRRdWVyaWVzPFByZWRpY2F0ZSwgT3B0aW9ucz4ge1xuICBmdW5jdGlvbiBnZXRBbGxCeVF1ZXJ5KGluc3RhbmNlOiBSZWFjdFRlc3RJbnN0YW5jZSwgeyBwcmludEVsZW1lbnRUcmVlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QWxsRm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZm9ybWF0RXJyb3JNZXNzYWdlKFxuICAgICAgICAgIGdldE1pc3NpbmdFcnJvcihwcmVkaWNhdGUsIG9wdGlvbnMpLFxuICAgICAgICAgIHByaW50RWxlbWVudFRyZWUsXG4gICAgICAgICk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhlcnJvck1lc3NhZ2UsIGdldEFsbEZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5QnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZSA9IHRydWUgfSA9IHt9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNpbmdsZVF1ZXJ5Rm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhcbiAgICAgICAgICBmb3JtYXRFcnJvck1lc3NhZ2UoZ2V0TXVsdGlwbGVFcnJvcihwcmVkaWNhdGUsIG9wdGlvbnMpLCBwcmludEVsZW1lbnRUcmVlKSxcbiAgICAgICAgICBzaW5nbGVRdWVyeUZuLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCeVF1ZXJ5KGluc3RhbmNlOiBSZWFjdFRlc3RJbnN0YW5jZSwgeyBwcmludEVsZW1lbnRUcmVlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Rm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhnZXRNdWx0aXBsZUVycm9yKHByZWRpY2F0ZSwgb3B0aW9ucyksIGdldEZuKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGZvcm1hdEVycm9yTWVzc2FnZShcbiAgICAgICAgICBnZXRNaXNzaW5nRXJyb3IocHJlZGljYXRlLCBvcHRpb25zKSxcbiAgICAgICAgICBwcmludEVsZW1lbnRUcmVlLFxuICAgICAgICApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JXaXRoU3RhY2soZXJyb3JNZXNzYWdlLCBnZXRGbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQWxsQnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmluZEFsbEZuKFxuICAgICAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gICAgICBxdWVyeU9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gICAgICB7XG4gICAgICAgIG9uVGltZW91dCA9IChlcnJvcikgPT4gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yKSxcbiAgICAgICAgLi4ud2FpdEZvck9wdGlvbnNcbiAgICAgIH06IFdhaXRGb3JPcHRpb25zID0ge30sXG4gICAgKSB7XG4gICAgICBjb25zdCBzdGFja1RyYWNlRXJyb3IgPSBuZXcgRXJyb3JXaXRoU3RhY2soJ1NUQUNLX1RSQUNFX0VSUk9SJywgZmluZEFsbEZuKTtcbiAgICAgIGNvbnN0IGRlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyA9IGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMocXVlcnlPcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHdhaXRGb3IoXG4gICAgICAgICgpID0+IGdldEFsbEJ5UXVlcnkoaW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZTogZmFsc2UgfSkocHJlZGljYXRlLCBxdWVyeU9wdGlvbnMpLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uZGVwcmVjYXRlZFdhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIC4uLndhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIHN0YWNrVHJhY2VFcnJvcixcbiAgICAgICAgICBvblRpbWVvdXQsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmluZEZuKFxuICAgICAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gICAgICBxdWVyeU9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gICAgICB7XG4gICAgICAgIG9uVGltZW91dCA9IChlcnJvcikgPT4gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yKSxcbiAgICAgICAgLi4ud2FpdEZvck9wdGlvbnNcbiAgICAgIH06IFdhaXRGb3JPcHRpb25zID0ge30sXG4gICAgKSB7XG4gICAgICBjb25zdCBzdGFja1RyYWNlRXJyb3IgPSBuZXcgRXJyb3JXaXRoU3RhY2soJ1NUQUNLX1RSQUNFX0VSUk9SJywgZmluZEZuKTtcbiAgICAgIGNvbnN0IGRlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyA9IGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMocXVlcnlPcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHdhaXRGb3IoXG4gICAgICAgICgpID0+IGdldEJ5UXVlcnkoaW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZTogZmFsc2UgfSkocHJlZGljYXRlLCBxdWVyeU9wdGlvbnMpLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uZGVwcmVjYXRlZFdhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIC4uLndhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIHN0YWNrVHJhY2VFcnJvcixcbiAgICAgICAgICBvblRpbWVvdXQsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEJ5OiBnZXRCeVF1ZXJ5LFxuICAgIGdldEFsbEJ5OiBnZXRBbGxCeVF1ZXJ5LFxuICAgIHF1ZXJ5Qnk6IHF1ZXJ5QnlRdWVyeSxcbiAgICBxdWVyeUFsbEJ5OiBxdWVyeUFsbEJ5UXVlcnksXG4gICAgZmluZEJ5OiBmaW5kQnlRdWVyeSxcbiAgICBmaW5kQWxsQnk6IGZpbmRBbGxCeVF1ZXJ5LFxuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFB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