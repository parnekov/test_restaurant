4bc1ba730b642c786f68d9c8b6a7209d
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useAnimatedProps;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var ReactNativeFeatureFlags = _interopRequireWildcard(require("../../src/private/featureflags/ReactNativeFeatureFlags"));
var _ReactFabricPublicInstanceUtils = require("../ReactNative/ReactFabricPublicInstance/ReactFabricPublicInstanceUtils");
var _useRefEffect = _interopRequireDefault(require("../Utilities/useRefEffect"));
var _AnimatedEvent = require("./AnimatedEvent");
var _NativeAnimatedHelper = _interopRequireDefault(require("./NativeAnimatedHelper"));
var _AnimatedProps = _interopRequireDefault(require("./nodes/AnimatedProps"));
var _react = require("react");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function useAnimatedProps(props) {
  var _useReducer = (0, _react.useReducer)(function (count) {
      return count + 1;
    }, 0),
    _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),
    scheduleUpdate = _useReducer2[1];
  var onUpdateRef = (0, _react.useRef)(null);
  var timerRef = (0, _react.useRef)(null);
  var node = (0, _react.useMemo)(function () {
    return new _AnimatedProps.default(props, function () {
      return onUpdateRef.current == null ? void 0 : onUpdateRef.current();
    });
  }, [props]);
  var useNativePropsInFabric = ReactNativeFeatureFlags.shouldUseSetNativePropsInFabric();
  useAnimatedPropsLifecycle(node);
  var refEffect = (0, _react.useCallback)(function (instance) {
    node.setNativeView(instance);
    onUpdateRef.current = function () {
      if (process.env.NODE_ENV === 'test' || typeof instance !== 'object' || typeof (instance == null ? void 0 : instance.setNativeProps) !== 'function' || isFabricInstance(instance) && !useNativePropsInFabric) {
        scheduleUpdate();
      } else if (!node.__isNative) {
        instance.setNativeProps(node.__getAnimatedValue());
        if (isFabricInstance(instance)) {
          if (timerRef.current != null) {
            clearTimeout(timerRef.current);
          }
          timerRef.current = setTimeout(function () {
            timerRef.current = null;
            scheduleUpdate();
          }, 48);
        }
      }
    };
    var target = getEventTarget(instance);
    var events = [];
    for (var propName in props) {
      var propValue = props[propName];
      if (propValue instanceof _AnimatedEvent.AnimatedEvent && propValue.__isNative) {
        propValue.__attach(target, propName);
        events.push([propName, propValue]);
      }
    }
    return function () {
      onUpdateRef.current = null;
      for (var _ref of events) {
        var _ref2 = (0, _slicedToArray2.default)(_ref, 2);
        var _propName = _ref2[0];
        var _propValue = _ref2[1];
        _propValue.__detach(target, _propName);
      }
    };
  }, [props, node, useNativePropsInFabric]);
  var callbackRef = (0, _useRefEffect.default)(refEffect);
  return [reduceAnimatedProps(node), callbackRef];
}
function reduceAnimatedProps(node) {
  return Object.assign({}, node.__getValue(), {
    collapsable: false
  });
}
function useAnimatedPropsLifecycle(node) {
  var prevNodeRef = (0, _react.useRef)(null);
  var isUnmountingRef = (0, _react.useRef)(false);
  (0, _react.useEffect)(function () {
    _NativeAnimatedHelper.default.API.flushQueue();
  });
  (0, _react.useLayoutEffect)(function () {
    isUnmountingRef.current = false;
    return function () {
      isUnmountingRef.current = true;
    };
  }, []);
  (0, _react.useLayoutEffect)(function () {
    node.__attach();
    if (prevNodeRef.current != null) {
      var prevNode = prevNodeRef.current;
      prevNode.__restoreDefaultValues();
      prevNode.__detach();
      prevNodeRef.current = null;
    }
    return function () {
      if (isUnmountingRef.current) {
        node.__detach();
      } else {
        prevNodeRef.current = node;
      }
    };
  }, [node]);
}
function getEventTarget(instance) {
  return typeof instance === 'object' && typeof (instance == null ? void 0 : instance.getScrollableNode) === 'function' ? instance.getScrollableNode() : instance;
}
function isFabricInstance(instance) {
  var _instance$getScrollRe;
  return (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance) || (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance == null ? void 0 : instance.getNativeScrollRef == null ? void 0 : instance.getNativeScrollRef()) || (0, _ReactFabricPublicInstanceUtils.isPublicInstance)(instance == null ? void 0 : instance.getScrollResponder == null ? void 0 : (_instance$getScrollRe = instance.getScrollResponder()) == null ? void 0 : _instance$getScrollRe.getNativeScrollRef == null ? void 0 : _instance$getScrollRe.getNativeScrollRef());
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsInVzZUFuaW1hdGVkUHJvcHMiLCJfc2xpY2VkVG9BcnJheTIiLCJSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1JlYWN0RmFicmljUHVibGljSW5zdGFuY2VVdGlscyIsIl91c2VSZWZFZmZlY3QiLCJfQW5pbWF0ZWRFdmVudCIsIl9OYXRpdmVBbmltYXRlZEhlbHBlciIsIl9BbmltYXRlZFByb3BzIiwiX3JlYWN0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwicHJvcHMiLCJfdXNlUmVkdWNlciIsInVzZVJlZHVjZXIiLCJjb3VudCIsIl91c2VSZWR1Y2VyMiIsInNjaGVkdWxlVXBkYXRlIiwib25VcGRhdGVSZWYiLCJ1c2VSZWYiLCJ0aW1lclJlZiIsIm5vZGUiLCJ1c2VNZW1vIiwiQW5pbWF0ZWRQcm9wcyIsImN1cnJlbnQiLCJ1c2VOYXRpdmVQcm9wc0luRmFicmljIiwic2hvdWxkVXNlU2V0TmF0aXZlUHJvcHNJbkZhYnJpYyIsInVzZUFuaW1hdGVkUHJvcHNMaWZlY3ljbGUiLCJyZWZFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImluc3RhbmNlIiwic2V0TmF0aXZlVmlldyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInNldE5hdGl2ZVByb3BzIiwiaXNGYWJyaWNJbnN0YW5jZSIsIl9faXNOYXRpdmUiLCJfX2dldEFuaW1hdGVkVmFsdWUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiZ2V0RXZlbnRUYXJnZXQiLCJldmVudHMiLCJwcm9wTmFtZSIsInByb3BWYWx1ZSIsIkFuaW1hdGVkRXZlbnQiLCJfX2F0dGFjaCIsInB1c2giLCJfcmVmIiwiX3JlZjIiLCJfX2RldGFjaCIsImNhbGxiYWNrUmVmIiwidXNlUmVmRWZmZWN0IiwicmVkdWNlQW5pbWF0ZWRQcm9wcyIsImFzc2lnbiIsIl9fZ2V0VmFsdWUiLCJjb2xsYXBzYWJsZSIsInByZXZOb2RlUmVmIiwiaXNVbm1vdW50aW5nUmVmIiwidXNlRWZmZWN0IiwiTmF0aXZlQW5pbWF0ZWRIZWxwZXIiLCJBUEkiLCJmbHVzaFF1ZXVlIiwidXNlTGF5b3V0RWZmZWN0IiwicHJldk5vZGUiLCJfX3Jlc3RvcmVEZWZhdWx0VmFsdWVzIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJfaW5zdGFuY2UkZ2V0U2Nyb2xsUmUiLCJpc0ZhYnJpY1B1YmxpY0luc3RhbmNlIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIl0sInNvdXJjZXMiOlsidXNlQW5pbWF0ZWRQcm9wcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyBmcm9tICcuLi8uLi9zcmMvcHJpdmF0ZS9mZWF0dXJlZmxhZ3MvUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MnO1xuaW1wb3J0IHtpc1B1YmxpY0luc3RhbmNlIGFzIGlzRmFicmljUHVibGljSW5zdGFuY2V9IGZyb20gJy4uL1JlYWN0TmF0aXZlL1JlYWN0RmFicmljUHVibGljSW5zdGFuY2UvUmVhY3RGYWJyaWNQdWJsaWNJbnN0YW5jZVV0aWxzJztcbmltcG9ydCB1c2VSZWZFZmZlY3QgZnJvbSAnLi4vVXRpbGl0aWVzL3VzZVJlZkVmZmVjdCc7XG5pbXBvcnQge0FuaW1hdGVkRXZlbnR9IGZyb20gJy4vQW5pbWF0ZWRFdmVudCc7XG5pbXBvcnQgTmF0aXZlQW5pbWF0ZWRIZWxwZXIgZnJvbSAnLi9OYXRpdmVBbmltYXRlZEhlbHBlcic7XG5pbXBvcnQgQW5pbWF0ZWRQcm9wcyBmcm9tICcuL25vZGVzL0FuaW1hdGVkUHJvcHMnO1xuaW1wb3J0IHtcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUVmZmVjdCxcbiAgdXNlTGF5b3V0RWZmZWN0LFxuICB1c2VNZW1vLFxuICB1c2VSZWR1Y2VyLFxuICB1c2VSZWYsXG59IGZyb20gJ3JlYWN0JztcblxudHlwZSBSZWR1Y2VkUHJvcHM8VFByb3BzPiA9IHtcbiAgLi4uVFByb3BzLFxuICBjb2xsYXBzYWJsZTogYm9vbGVhbixcbiAgLi4uXG59O1xudHlwZSBDYWxsYmFja1JlZjxUPiA9IFQgPT4gbWl4ZWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUFuaW1hdGVkUHJvcHM8VFByb3BzOiB7Li4ufSwgVEluc3RhbmNlPihcbiAgcHJvcHM6IFRQcm9wcyxcbik6IFtSZWR1Y2VkUHJvcHM8VFByb3BzPiwgQ2FsbGJhY2tSZWY8VEluc3RhbmNlIHwgbnVsbD5dIHtcbiAgY29uc3QgWywgc2NoZWR1bGVVcGRhdGVdID0gdXNlUmVkdWNlcjxudW1iZXIsIHZvaWQ+KGNvdW50ID0+IGNvdW50ICsgMSwgMCk7XG4gIGNvbnN0IG9uVXBkYXRlUmVmID0gdXNlUmVmPD8oKSA9PiB2b2lkPihudWxsKTtcbiAgY29uc3QgdGltZXJSZWYgPSB1c2VSZWY8VGltZW91dElEIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gVE9ETzogT25seSBpbnZhbGlkYXRlIGBub2RlYCBpZiBhbmltYXRlZCBwcm9wcyBvciBgc3R5bGVgIGNoYW5nZS4gSW4gdGhlXG4gIC8vIHByZXZpb3VzIGltcGxlbWVudGF0aW9uLCB3ZSBwZXJtaXR0ZWQgYHN0eWxlYCB0byBvdmVycmlkZSBwcm9wcyB3aXRoIHRoZVxuICAvLyBzYW1lIG5hbWUgcHJvcGVydHkgbmFtZSBhcyBzdHlsZXMsIHNvIHdlIGNhbiBwcm9iYWJseSBjb250aW51ZSBkb2luZyB0aGF0LlxuICAvLyBUaGUgb3JkZXJpbmcgb2Ygb3RoZXIgcHJvcHMgKnNob3VsZCogbm90IG1hdHRlci5cbiAgY29uc3Qgbm9kZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gbmV3IEFuaW1hdGVkUHJvcHMocHJvcHMsICgpID0+IG9uVXBkYXRlUmVmLmN1cnJlbnQ/LigpKSxcbiAgICBbcHJvcHNdLFxuICApO1xuICBjb25zdCB1c2VOYXRpdmVQcm9wc0luRmFicmljID1cbiAgICBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncy5zaG91bGRVc2VTZXROYXRpdmVQcm9wc0luRmFicmljKCk7XG4gIHVzZUFuaW1hdGVkUHJvcHNMaWZlY3ljbGUobm9kZSk7XG5cbiAgLy8gVE9ETzogVGhpcyBcImVmZmVjdFwiIGRvZXMgdGhyZWUgdGhpbmdzOlxuICAvL1xuICAvLyAgIDEpIENhbGwgYHNldE5hdGl2ZVZpZXdgLlxuICAvLyAgIDIpIFVwZGF0ZSBgb25VcGRhdGVSZWZgLlxuICAvLyAgIDMpIFVwZGF0ZSBsaXN0ZW5lcnMgZm9yIGBBbmltYXRlZEV2ZW50YCBwcm9wcy5cbiAgLy9cbiAgLy8gSWRlYWxseSwgZWFjaCBvZiB0aGVzZSB3b3VsZCBiZSBzZXBhcmF0ZSBcImVmZmVjdHNcIiBzbyB0aGF0IHRoZXkgYXJlIG5vdFxuICAvLyB1bm5lY2Vzc2FyaWx5IHJlLXJ1biB3aGVuIGlycmVsZXZhbnQgZGVwZW5kZW5jaWVzIGNoYW5nZS4gRm9yIGV4YW1wbGUsIHdlXG4gIC8vIHNob3VsZCBiZSBhYmxlIHRvIGhvaXN0IGFsbCBgQW5pbWF0ZWRFdmVudGAgcHJvcHMgYW5kIG9ubHkgZG8gIzMgaWYgZWl0aGVyXG4gIC8vIHRoZSBgQW5pbWF0ZWRFdmVudGAgcHJvcHMgY2hhbmdlIG9yIGBpbnN0YW5jZWAgY2hhbmdlcy5cbiAgLy9cbiAgLy8gQnV0IHRoZXJlIGlzIG5vIHdheSB0byB0cmFuc3BhcmVudGx5IGNvbXBvc2UgdGhyZWUgc2VwYXJhdGUgY2FsbGJhY2sgcmVmcyxcbiAgLy8gc28gd2UganVzdCBjb21iaW5lIHRoZW0gYWxsIGludG8gb25lIGZvciBub3cuXG4gIGNvbnN0IHJlZkVmZmVjdCA9IHVzZUNhbGxiYWNrKFxuICAgIChpbnN0YW5jZTogVEluc3RhbmNlKSA9PiB7XG4gICAgICAvLyBOT1RFOiBUaGlzIG1heSBiZSBjYWxsZWQgbW9yZSBvZnRlbiB0aGFuIG5lY2Vzc2FyeSAoZS5nLiB3aGVuIGBwcm9wc2BcbiAgICAgIC8vIGNoYW5nZXMpLCBidXQgYHNldE5hdGl2ZVZpZXdgIGFscmVhZHkgb3B0aW1pemVzIGZvciB0aGF0LlxuICAgICAgbm9kZS5zZXROYXRpdmVWaWV3KGluc3RhbmNlKTtcblxuICAgICAgLy8gTk9URTogV2hlbiB1c2luZyB0aGUgSlMgYW5pbWF0aW9uIGRyaXZlciwgdGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgb25cbiAgICAgIC8vIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZS4gV2hlbiB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciwgdGhpcyBjYWxsYmFjayBpc1xuICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBjb21wbGV0ZXMuXG4gICAgICBvblVwZGF0ZVJlZi5jdXJyZW50ID0gKCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JyB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICB0eXBlb2YgaW5zdGFuY2U/LnNldE5hdGl2ZVByb3BzICE9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgKGlzRmFicmljSW5zdGFuY2UoaW5zdGFuY2UpICYmICF1c2VOYXRpdmVQcm9wc0luRmFicmljKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTY2hlZHVsZSBhbiB1cGRhdGUgZm9yIHRoaXMgY29tcG9uZW50IHRvIHVwZGF0ZSBgcmVkdWNlZFByb3BzYCxcbiAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbXB1dGUgaXQgaW1tZWRpYXRlbHkuIElmIGEgcGFyZW50IGFsc28gdXBkYXRlZCwgd2VcbiAgICAgICAgICAvLyBuZWVkIHRvIG1lcmdlIHRob3NlIG5ldyBwcm9wcyBpbiBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgICAgc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmICghbm9kZS5fX2lzTmF0aXZlKSB7XG4gICAgICAgICAgLy8gJEZsb3dJZ25vcmVbbm90LWEtZnVuY3Rpb25dIC0gQXNzdW1lIGl0J3Mgc3RpbGwgYSBmdW5jdGlvbi5cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgICAgaW5zdGFuY2Uuc2V0TmF0aXZlUHJvcHMobm9kZS5fX2dldEFuaW1hdGVkVmFsdWUoKSk7XG4gICAgICAgICAgaWYgKGlzRmFicmljSW5zdGFuY2UoaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAvLyBLZWVwaW5nIHN0YXRlIG9mIEZpYmVyIHRyZWUgYW5kIFNoYWRvdyB0cmVlIGluIHN5bmMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcgYHNjaGVkdWxlVXBkYXRlYCB3aGljaCB3aWxsIHRyaWdnZXIgYSBjb21taXQuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCBSZWFjdCBjb21taXQgaXMgbm90IGZhc3QgZW5vdWdoIHRvIGRyaXZlIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHdoZXJlIHNldE5hdGl2ZVByb3BzIGNvbWVzIGluIGhhbmR5IGJ1dCB0aGUgc3RhdGUgYmV0d2VlblxuICAgICAgICAgICAgLy8gRmliZXIgdHJlZSBhbmQgU2hhZG93IHRyZWUgbmVlZHMgdG8gYmUga2VwdCBpbiBzeW5jLlxuICAgICAgICAgICAgLy8gVGhlIGdvYWwgaXMgdG8gY2FsbCBgc2NoZWR1bGVVcGRhdGVgIGFzIGxpdHRsZSBhcyBwb3NzaWJsZSB0byBtYWludGFpblxuICAgICAgICAgICAgLy8gcGVyZm9ybWFuY2UgYnV0IGZyZXF1ZW50bHkgZW5vdWdoIHRvIGtlZXAgc3RhdGUgaW4gc3luYy5cbiAgICAgICAgICAgIC8vIERlYm91bmNlIGlzIHNldCB0byA0OG1zLCB3aGljaCBpcyAzICogdGhlIGR1cmF0aW9uIG9mIGEgZnJhbWUuXG4gICAgICAgICAgICAvLyAzIGZyYW1lcyB3YXMgdGhlIGhpZ2hlc3QgdmFsdWUgd2hlcmUgZmxpY2tlcmluZyBzdGF0ZSB3YXMgbm90IG9ic2VydmVkLlxuICAgICAgICAgICAgaWYgKHRpbWVyUmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRpbWVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfSwgNDgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoaW5zdGFuY2UpO1xuICAgICAgY29uc3QgZXZlbnRzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gcHJvcHMpIHtcbiAgICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRFdmVudCAmJiBwcm9wVmFsdWUuX19pc05hdGl2ZSkge1xuICAgICAgICAgIHByb3BWYWx1ZS5fX2F0dGFjaCh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICAgICAgICBldmVudHMucHVzaChbcHJvcE5hbWUsIHByb3BWYWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG9uVXBkYXRlUmVmLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3Byb3BOYW1lLCBwcm9wVmFsdWVdIG9mIGV2ZW50cykge1xuICAgICAgICAgIHByb3BWYWx1ZS5fX2RldGFjaCh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIFtwcm9wcywgbm9kZSwgdXNlTmF0aXZlUHJvcHNJbkZhYnJpY10sXG4gICk7XG4gIGNvbnN0IGNhbGxiYWNrUmVmID0gdXNlUmVmRWZmZWN0PFRJbnN0YW5jZT4ocmVmRWZmZWN0KTtcblxuICByZXR1cm4gW3JlZHVjZUFuaW1hdGVkUHJvcHM8VFByb3BzPihub2RlKSwgY2FsbGJhY2tSZWZdO1xufVxuXG5mdW5jdGlvbiByZWR1Y2VBbmltYXRlZFByb3BzPFRQcm9wcz4oXG4gIG5vZGU6IEFuaW1hdGVkUHJvcHMsXG4pOiBSZWR1Y2VkUHJvcHM8VFByb3BzPiB7XG4gIC8vIEZvcmNlIGBjb2xsYXBzYWJsZWAgdG8gYmUgZmFsc2Ugc28gdGhhdCB0aGUgbmF0aXZlIHZpZXcgaXMgbm90IGZsYXR0ZW5lZC5cbiAgLy8gRmxhdHRlbmVkIHZpZXdzIGNhbm5vdCBiZSBhY2N1cmF0ZWx5IHJlZmVyZW5jZWQgYnkgdGhlIG5hdGl2ZSBkcml2ZXIuXG4gIHJldHVybiB7XG4gICAgLi4ubm9kZS5fX2dldFZhbHVlKCksXG4gICAgY29sbGFwc2FibGU6IGZhbHNlLFxuICB9O1xufVxuXG4vKipcbiAqIE1hbmFnZXMgdGhlIGxpZmVjeWNsZSBvZiB0aGUgc3VwcGxpZWQgYEFuaW1hdGVkUHJvcHNgIGJ5IGludm9raW5nIGBfX2F0dGFjaGBcbiAqIGFuZCBgX19kZXRhY2hgLiBIb3dldmVyLCB0aGlzIGlzIG1vcmUgY29tcGxpY2F0ZWQgYmVjYXVzZSBgQW5pbWF0ZWRQcm9wc2BcbiAqIHVzZXMgcmVmZXJlbmNlIGNvdW50aW5nIHRvIGRldGVybWluZSB3aGVuIHRvIHJlY3Vyc2l2ZWx5IGRldGFjaCBpdHMgY2hpbGRyZW5cbiAqIG5vZGVzLiBTbyBpbiBvcmRlciB0byBvcHRpbWl6ZSB0aGlzLCB3ZSBhdm9pZCBkZXRhY2hpbmcgdW50aWwgdGhlIG5leHQgYXR0YWNoXG4gKiB1bmxlc3Mgd2UgYXJlIHVubW91bnRpbmcuXG4gKi9cbmZ1bmN0aW9uIHVzZUFuaW1hdGVkUHJvcHNMaWZlY3ljbGUobm9kZTogQW5pbWF0ZWRQcm9wcyk6IHZvaWQge1xuICBjb25zdCBwcmV2Tm9kZVJlZiA9IHVzZVJlZjw/QW5pbWF0ZWRQcm9wcz4obnVsbCk7XG4gIGNvbnN0IGlzVW5tb3VudGluZ1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJdCBpcyBvayBmb3IgbXVsdGlwbGUgY29tcG9uZW50cyB0byBjYWxsIGBmbHVzaFF1ZXVlYCBiZWNhdXNlIGl0IG5vb3BzXG4gICAgLy8gaWYgdGhlIHF1ZXVlIGlzIGVtcHR5LiBXaGVuIG11bHRpcGxlIGFuaW1hdGVkIGNvbXBvbmVudHMgYXJlIG1vdW50ZWQgYXRcbiAgICAvLyB0aGUgc2FtZSB0aW1lLiBPbmx5IGZpcnN0IGNvbXBvbmVudCBmbHVzaGVzIHRoZSBxdWV1ZSBhbmQgdGhlIG90aGVycyB3aWxsIG5vb3AuXG4gICAgTmF0aXZlQW5pbWF0ZWRIZWxwZXIuQVBJLmZsdXNoUXVldWUoKTtcbiAgfSk7XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpc1VubW91bnRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc1VubW91bnRpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgbm9kZS5fX2F0dGFjaCgpO1xuICAgIGlmIChwcmV2Tm9kZVJlZi5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZOb2RlID0gcHJldk5vZGVSZWYuY3VycmVudDtcbiAgICAgIC8vIFRPRE86IFN0b3AgcmVzdG9yaW5nIGRlZmF1bHQgdmFsdWVzICh1bmxlc3MgYHJlc2V0YCBpcyBjYWxsZWQpLlxuICAgICAgcHJldk5vZGUuX19yZXN0b3JlRGVmYXVsdFZhbHVlcygpO1xuICAgICAgcHJldk5vZGUuX19kZXRhY2goKTtcbiAgICAgIHByZXZOb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGlzVW5tb3VudGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIE5PVEU6IERvIG5vdCByZXN0b3JlIGRlZmF1bHQgdmFsdWVzIG9uIHVubW91bnQsIHNlZSBEMTgxOTc3MzUuXG4gICAgICAgIG5vZGUuX19kZXRhY2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXZOb2RlUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtub2RlXSk7XG59XG5cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0PFRJbnN0YW5jZT4oaW5zdGFuY2U6IFRJbnN0YW5jZSk6IFRJbnN0YW5jZSB7XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIGluc3RhbmNlPy5nZXRTY3JvbGxhYmxlTm9kZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXSAtIExlZ2FjeSBpbnN0YW5jZSBhc3N1bXB0aW9ucy5cbiAgICAgIGluc3RhbmNlLmdldFNjcm9sbGFibGVOb2RlKClcbiAgICA6IGluc3RhbmNlO1xufVxuXG4vLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV0gLSBMZWdhY3kgaW5zdGFuY2UgYXNzdW1wdGlvbnMuXG5mdW5jdGlvbiBpc0ZhYnJpY0luc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBpc0ZhYnJpY1B1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB8fFxuICAgIC8vIFNvbWUgY29tcG9uZW50cyBoYXZlIGEgc2V0TmF0aXZlUHJvcHMgZnVuY3Rpb24gYnV0IGFyZW4ndCBhIGhvc3QgY29tcG9uZW50XG4gICAgLy8gc3VjaCBhcyBsaXN0cyBsaWtlIEZsYXRMaXN0IGFuZCBTZWN0aW9uTGlzdC4gVGhlc2Ugc2hvdWxkIGFsc28gdXNlXG4gICAgLy8gZm9yY2VVcGRhdGUgaW4gRmFicmljIHNpbmNlIHNldE5hdGl2ZVByb3BzIGRvZXNuJ3QgZXhpc3Qgb24gdGhlIHVuZGVybHlpbmdcbiAgICAvLyBob3N0IGNvbXBvbmVudC4gVGhpcyBjcmF6eSBoYWNrIGlzIGVzc2VudGlhbGx5IHNwZWNpYWwgY2FzaW5nIHRob3NlIGxpc3RzIGFuZFxuICAgIC8vIFNjcm9sbFZpZXcgaXRzZWxmIHRvIHVzZSBmb3JjZVVwZGF0ZSBpbiBGYWJyaWMuXG4gICAgLy8gSWYgdGhlc2UgY29tcG9uZW50cyBlbmQgdXAgdXNpbmcgZm9yd2FyZFJlZiB0aGVuIHRoZXNlIGhhY2tzIGNhbiBnbyBhd2F5XG4gICAgLy8gYXMgaW5zdGFuY2Ugd291bGQgYWN0dWFsbHkgYmUgdGhlIHVuZGVybHlpbmcgaG9zdCBjb21wb25lbnQgYW5kIHRoZSBhYm92ZSBjaGVja1xuICAgIC8vIHdvdWxkIGJlIHN1ZmZpY2llbnQuXG4gICAgaXNGYWJyaWNQdWJsaWNJbnN0YW5jZShpbnN0YW5jZT8uZ2V0TmF0aXZlU2Nyb2xsUmVmPy4oKSkgfHxcbiAgICBpc0ZhYnJpY1B1YmxpY0luc3RhbmNlKFxuICAgICAgaW5zdGFuY2U/LmdldFNjcm9sbFJlc3BvbmRlcj8uKCk/LmdldE5hdGl2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