af01d1ad43b8eb3baead1fa25233432c
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var InteractionManager = require('./InteractionManager');
var TouchHistoryMath = require('./TouchHistoryMath');
var currentCentroidXOfTouchesChangedAfter = TouchHistoryMath.currentCentroidXOfTouchesChangedAfter;
var currentCentroidYOfTouchesChangedAfter = TouchHistoryMath.currentCentroidYOfTouchesChangedAfter;
var previousCentroidXOfTouchesChangedAfter = TouchHistoryMath.previousCentroidXOfTouchesChangedAfter;
var previousCentroidYOfTouchesChangedAfter = TouchHistoryMath.previousCentroidYOfTouchesChangedAfter;
var currentCentroidX = TouchHistoryMath.currentCentroidX;
var currentCentroidY = TouchHistoryMath.currentCentroidY;
var PanResponder = {
  _initializeGestureState: function _initializeGestureState(gestureState) {
    gestureState.moveX = 0;
    gestureState.moveY = 0;
    gestureState.x0 = 0;
    gestureState.y0 = 0;
    gestureState.dx = 0;
    gestureState.dy = 0;
    gestureState.vx = 0;
    gestureState.vy = 0;
    gestureState.numberActiveTouches = 0;
    gestureState._accountsForMovesUpTo = 0;
  },
  _updateGestureStateOnMove: function _updateGestureStateOnMove(gestureState, touchHistory) {
    gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
    gestureState.moveX = currentCentroidXOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);
    gestureState.moveY = currentCentroidYOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);
    var movedAfter = gestureState._accountsForMovesUpTo;
    var prevX = previousCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);
    var x = currentCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);
    var prevY = previousCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);
    var y = currentCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);
    var nextDX = gestureState.dx + (x - prevX);
    var nextDY = gestureState.dy + (y - prevY);
    var dt = touchHistory.mostRecentTimeStamp - gestureState._accountsForMovesUpTo;
    gestureState.vx = (nextDX - gestureState.dx) / dt;
    gestureState.vy = (nextDY - gestureState.dy) / dt;
    gestureState.dx = nextDX;
    gestureState.dy = nextDY;
    gestureState._accountsForMovesUpTo = touchHistory.mostRecentTimeStamp;
  },
  create: function create(config) {
    var interactionState = {
      handle: null
    };
    var gestureState = {
      stateID: Math.random(),
      moveX: 0,
      moveY: 0,
      x0: 0,
      y0: 0,
      dx: 0,
      dy: 0,
      vx: 0,
      vy: 0,
      numberActiveTouches: 0,
      _accountsForMovesUpTo: 0
    };
    var panHandlers = {
      onStartShouldSetResponder: function onStartShouldSetResponder(event) {
        return config.onStartShouldSetPanResponder == null ? false : config.onStartShouldSetPanResponder(event, gestureState);
      },
      onMoveShouldSetResponder: function onMoveShouldSetResponder(event) {
        return config.onMoveShouldSetPanResponder == null ? false : config.onMoveShouldSetPanResponder(event, gestureState);
      },
      onStartShouldSetResponderCapture: function onStartShouldSetResponderCapture(event) {
        if (event.nativeEvent.touches.length === 1) {
          PanResponder._initializeGestureState(gestureState);
        }
        gestureState.numberActiveTouches = event.touchHistory.numberActiveTouches;
        return config.onStartShouldSetPanResponderCapture != null ? config.onStartShouldSetPanResponderCapture(event, gestureState) : false;
      },
      onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture(event) {
        var touchHistory = event.touchHistory;
        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {
          return false;
        }
        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);
        return config.onMoveShouldSetPanResponderCapture ? config.onMoveShouldSetPanResponderCapture(event, gestureState) : false;
      },
      onResponderGrant: function onResponderGrant(event) {
        if (!interactionState.handle) {
          interactionState.handle = InteractionManager.createInteractionHandle();
        }
        gestureState.x0 = currentCentroidX(event.touchHistory);
        gestureState.y0 = currentCentroidY(event.touchHistory);
        gestureState.dx = 0;
        gestureState.dy = 0;
        if (config.onPanResponderGrant) {
          config.onPanResponderGrant(event, gestureState);
        }
        return config.onShouldBlockNativeResponder == null ? true : config.onShouldBlockNativeResponder(event, gestureState);
      },
      onResponderReject: function onResponderReject(event) {
        clearInteractionHandle(interactionState, config.onPanResponderReject, event, gestureState);
      },
      onResponderRelease: function onResponderRelease(event) {
        clearInteractionHandle(interactionState, config.onPanResponderRelease, event, gestureState);
        PanResponder._initializeGestureState(gestureState);
      },
      onResponderStart: function onResponderStart(event) {
        var touchHistory = event.touchHistory;
        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
        if (config.onPanResponderStart) {
          config.onPanResponderStart(event, gestureState);
        }
      },
      onResponderMove: function onResponderMove(event) {
        var touchHistory = event.touchHistory;
        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {
          return;
        }
        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);
        if (config.onPanResponderMove) {
          config.onPanResponderMove(event, gestureState);
        }
      },
      onResponderEnd: function onResponderEnd(event) {
        var touchHistory = event.touchHistory;
        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
        clearInteractionHandle(interactionState, config.onPanResponderEnd, event, gestureState);
      },
      onResponderTerminate: function onResponderTerminate(event) {
        clearInteractionHandle(interactionState, config.onPanResponderTerminate, event, gestureState);
        PanResponder._initializeGestureState(gestureState);
      },
      onResponderTerminationRequest: function onResponderTerminationRequest(event) {
        return config.onPanResponderTerminationRequest == null ? true : config.onPanResponderTerminationRequest(event, gestureState);
      }
    };
    return {
      panHandlers: panHandlers,
      getInteractionHandle: function getInteractionHandle() {
        return interactionState.handle;
      }
    };
  }
};
function clearInteractionHandle(interactionState, callback, event, gestureState) {
  if (interactionState.handle) {
    InteractionManager.clearInteractionHandle(interactionState.handle);
    interactionState.handle = null;
  }
  if (callback) {
    callback(event, gestureState);
  }
}
var _default = exports.default = PanResponder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJyZXF1aXJlIiwiVG91Y2hIaXN0b3J5TWF0aCIsImN1cnJlbnRDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyIiwicHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJwcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlciIsImN1cnJlbnRDZW50cm9pZFgiLCJjdXJyZW50Q2VudHJvaWRZIiwiUGFuUmVzcG9uZGVyIiwiX2luaXRpYWxpemVHZXN0dXJlU3RhdGUiLCJnZXN0dXJlU3RhdGUiLCJtb3ZlWCIsIm1vdmVZIiwieDAiLCJ5MCIsImR4IiwiZHkiLCJ2eCIsInZ5IiwibnVtYmVyQWN0aXZlVG91Y2hlcyIsIl9hY2NvdW50c0Zvck1vdmVzVXBUbyIsIl91cGRhdGVHZXN0dXJlU3RhdGVPbk1vdmUiLCJ0b3VjaEhpc3RvcnkiLCJtb3ZlZEFmdGVyIiwicHJldlgiLCJ4IiwicHJldlkiLCJ5IiwibmV4dERYIiwibmV4dERZIiwiZHQiLCJtb3N0UmVjZW50VGltZVN0YW1wIiwiY3JlYXRlIiwiY29uZmlnIiwiaW50ZXJhY3Rpb25TdGF0ZSIsImhhbmRsZSIsInN0YXRlSUQiLCJNYXRoIiwicmFuZG9tIiwicGFuSGFuZGxlcnMiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiZXZlbnQiLCJvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwib25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyIiwib25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJsZW5ndGgiLCJvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZSIsIm9uTW92ZVNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlIiwib25SZXNwb25kZXJHcmFudCIsImNyZWF0ZUludGVyYWN0aW9uSGFuZGxlIiwib25QYW5SZXNwb25kZXJHcmFudCIsIm9uU2hvdWxkQmxvY2tOYXRpdmVSZXNwb25kZXIiLCJvblJlc3BvbmRlclJlamVjdCIsImNsZWFySW50ZXJhY3Rpb25IYW5kbGUiLCJvblBhblJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsIm9uUGFuUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyU3RhcnQiLCJvblBhblJlc3BvbmRlclN0YXJ0Iiwib25SZXNwb25kZXJNb3ZlIiwib25QYW5SZXNwb25kZXJNb3ZlIiwib25SZXNwb25kZXJFbmQiLCJvblBhblJlc3BvbmRlckVuZCIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwib25QYW5SZXNwb25kZXJUZXJtaW5hdGUiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uUGFuUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwiZ2V0SW50ZXJhY3Rpb25IYW5kbGUiLCJjYWxsYmFjayIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiUGFuUmVzcG9uZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUge1ByZXNzRXZlbnR9IGZyb20gJy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcblxuY29uc3QgSW50ZXJhY3Rpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbk1hbmFnZXInKTtcbmNvbnN0IFRvdWNoSGlzdG9yeU1hdGggPSByZXF1aXJlKCcuL1RvdWNoSGlzdG9yeU1hdGgnKTtcblxuY29uc3QgY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciA9XG4gIFRvdWNoSGlzdG9yeU1hdGguY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcjtcbmNvbnN0IGN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIgPVxuICBUb3VjaEhpc3RvcnlNYXRoLmN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI7XG5jb25zdCBwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciA9XG4gIFRvdWNoSGlzdG9yeU1hdGgucHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI7XG5jb25zdCBwcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlciA9XG4gIFRvdWNoSGlzdG9yeU1hdGgucHJldmlvdXNDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI7XG5jb25zdCBjdXJyZW50Q2VudHJvaWRYID0gVG91Y2hIaXN0b3J5TWF0aC5jdXJyZW50Q2VudHJvaWRYO1xuY29uc3QgY3VycmVudENlbnRyb2lkWSA9IFRvdWNoSGlzdG9yeU1hdGguY3VycmVudENlbnRyb2lkWTtcblxuLyoqXG4gKiBgUGFuUmVzcG9uZGVyYCByZWNvbmNpbGVzIHNldmVyYWwgdG91Y2hlcyBpbnRvIGEgc2luZ2xlIGdlc3R1cmUuIEl0IG1ha2VzXG4gKiBzaW5nbGUtdG91Y2ggZ2VzdHVyZXMgcmVzaWxpZW50IHRvIGV4dHJhIHRvdWNoZXMsIGFuZCBjYW4gYmUgdXNlZCB0b1xuICogcmVjb2duaXplIHNpbXBsZSBtdWx0aS10b3VjaCBnZXN0dXJlcy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBgUGFuUmVzcG9uZGVyYCBob2xkcyBhbiBgSW50ZXJhY3Rpb25NYW5hZ2VyYCBoYW5kbGUgdG8gYmxvY2tcbiAqIGxvbmctcnVubmluZyBKUyBldmVudHMgZnJvbSBpbnRlcnJ1cHRpbmcgYWN0aXZlIGdlc3R1cmVzLlxuICpcbiAqIEl0IHByb3ZpZGVzIGEgcHJlZGljdGFibGUgd3JhcHBlciBvZiB0aGUgcmVzcG9uZGVyIGhhbmRsZXJzIHByb3ZpZGVkIGJ5IHRoZVxuICogW2dlc3R1cmUgcmVzcG9uZGVyIHN5c3RlbV0oZG9jcy9nZXN0dXJlLXJlc3BvbmRlci1zeXN0ZW0uaHRtbCkuXG4gKiBGb3IgZWFjaCBoYW5kbGVyLCBpdCBwcm92aWRlcyBhIG5ldyBgZ2VzdHVyZVN0YXRlYCBvYmplY3QgYWxvbmdzaWRlIHRoZVxuICogbmF0aXZlIGV2ZW50IG9iamVjdDpcbiAqXG4gKiBgYGBcbiAqIG9uUGFuUmVzcG9uZGVyTW92ZTogKGV2ZW50LCBnZXN0dXJlU3RhdGUpID0+IHt9XG4gKiBgYGBcbiAqXG4gKiBBIG5hdGl2ZSBldmVudCBpcyBhIHN5bnRoZXRpYyB0b3VjaCBldmVudCB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqXG4gKiAgLSBgbmF0aXZlRXZlbnRgXG4gKiAgICAgICsgYGNoYW5nZWRUb3VjaGVzYCAtIEFycmF5IG9mIGFsbCB0b3VjaCBldmVudHMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgZXZlbnRcbiAqICAgICAgKyBgaWRlbnRpZmllcmAgLSBUaGUgSUQgb2YgdGhlIHRvdWNoXG4gKiAgICAgICsgYGxvY2F0aW9uWGAgLSBUaGUgWCBwb3NpdGlvbiBvZiB0aGUgdG91Y2gsIHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50XG4gKiAgICAgICsgYGxvY2F0aW9uWWAgLSBUaGUgWSBwb3NpdGlvbiBvZiB0aGUgdG91Y2gsIHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50XG4gKiAgICAgICsgYHBhZ2VYYCAtIFRoZSBYIHBvc2l0aW9uIG9mIHRoZSB0b3VjaCwgcmVsYXRpdmUgdG8gdGhlIHJvb3QgZWxlbWVudFxuICogICAgICArIGBwYWdlWWAgLSBUaGUgWSBwb3NpdGlvbiBvZiB0aGUgdG91Y2gsIHJlbGF0aXZlIHRvIHRoZSByb290IGVsZW1lbnRcbiAqICAgICAgKyBgdGFyZ2V0YCAtIFRoZSBub2RlIGlkIG9mIHRoZSBlbGVtZW50IHJlY2VpdmluZyB0aGUgdG91Y2ggZXZlbnRcbiAqICAgICAgKyBgdGltZXN0YW1wYCAtIEEgdGltZSBpZGVudGlmaWVyIGZvciB0aGUgdG91Y2gsIHVzZWZ1bCBmb3IgdmVsb2NpdHkgY2FsY3VsYXRpb25cbiAqICAgICAgKyBgdG91Y2hlc2AgLSBBcnJheSBvZiBhbGwgY3VycmVudCB0b3VjaGVzIG9uIHRoZSBzY3JlZW5cbiAqXG4gKiBBIGBnZXN0dXJlU3RhdGVgIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgLSBgc3RhdGVJRGAgLSBJRCBvZiB0aGUgZ2VzdHVyZVN0YXRlLSBwZXJzaXN0ZWQgYXMgbG9uZyBhcyB0aGVyZSBhdCBsZWFzdFxuICogICAgIG9uZSB0b3VjaCBvbiBzY3JlZW5cbiAqICAtIGBtb3ZlWGAgLSB0aGUgbGF0ZXN0IHNjcmVlbiBjb29yZGluYXRlcyBvZiB0aGUgcmVjZW50bHktbW92ZWQgdG91Y2hcbiAqICAtIGBtb3ZlWWAgLSB0aGUgbGF0ZXN0IHNjcmVlbiBjb29yZGluYXRlcyBvZiB0aGUgcmVjZW50bHktbW92ZWQgdG91Y2hcbiAqICAtIGB4MGAgLSB0aGUgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZXNwb25kZXIgZ3JhbnRcbiAqICAtIGB5MGAgLSB0aGUgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZXNwb25kZXIgZ3JhbnRcbiAqICAtIGBkeGAgLSBhY2N1bXVsYXRlZCBkaXN0YW5jZSBvZiB0aGUgZ2VzdHVyZSBzaW5jZSB0aGUgdG91Y2ggc3RhcnRlZFxuICogIC0gYGR5YCAtIGFjY3VtdWxhdGVkIGRpc3RhbmNlIG9mIHRoZSBnZXN0dXJlIHNpbmNlIHRoZSB0b3VjaCBzdGFydGVkXG4gKiAgLSBgdnhgIC0gY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgZ2VzdHVyZVxuICogIC0gYHZ5YCAtIGN1cnJlbnQgdmVsb2NpdHkgb2YgdGhlIGdlc3R1cmVcbiAqICAtIGBudW1iZXJBY3RpdmVUb3VjaGVzYCAtIE51bWJlciBvZiB0b3VjaGVzIGN1cnJlbnRseSBvbiBzY3JlZW5cbiAqXG4gKiAjIyMgQmFzaWMgVXNhZ2VcbiAqXG4gKiBgYGBcbiAqICAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcbiAqICAgICB0aGlzLl9wYW5SZXNwb25kZXIgPSBQYW5SZXNwb25kZXIuY3JlYXRlKHtcbiAqICAgICAgIC8vIEFzayB0byBiZSB0aGUgcmVzcG9uZGVyOlxuICogICAgICAgb25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlcjogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB0cnVlLFxuICogICAgICAgb25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmU6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4gdHJ1ZSxcbiAqICAgICAgIG9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlcjogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB0cnVlLFxuICogICAgICAgb25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZTogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB0cnVlLFxuICpcbiAqICAgICAgIG9uUGFuUmVzcG9uZGVyR3JhbnQ6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICogICAgICAgICAvLyBUaGUgZ2VzdHVyZSBoYXMgc3RhcnRlZC4gU2hvdyB2aXN1YWwgZmVlZGJhY2sgc28gdGhlIHVzZXIga25vd3NcbiAqICAgICAgICAgLy8gd2hhdCBpcyBoYXBwZW5pbmchXG4gKlxuICogICAgICAgICAvLyBnZXN0dXJlU3RhdGUuZHt4LHl9IHdpbGwgYmUgc2V0IHRvIHplcm8gbm93XG4gKiAgICAgICB9LFxuICogICAgICAgb25QYW5SZXNwb25kZXJNb3ZlOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHtcbiAqICAgICAgICAgLy8gVGhlIG1vc3QgcmVjZW50IG1vdmUgZGlzdGFuY2UgaXMgZ2VzdHVyZVN0YXRlLm1vdmV7WCxZfVxuICpcbiAqICAgICAgICAgLy8gVGhlIGFjY3VtdWxhdGVkIGdlc3R1cmUgZGlzdGFuY2Ugc2luY2UgYmVjb21pbmcgcmVzcG9uZGVyIGlzXG4gKiAgICAgICAgIC8vIGdlc3R1cmVTdGF0ZS5ke3gseX1cbiAqICAgICAgIH0sXG4gKiAgICAgICBvblBhblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKGV2dCwgZ2VzdHVyZVN0YXRlKSA9PiB0cnVlLFxuICogICAgICAgb25QYW5SZXNwb25kZXJSZWxlYXNlOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHtcbiAqICAgICAgICAgLy8gVGhlIHVzZXIgaGFzIHJlbGVhc2VkIGFsbCB0b3VjaGVzIHdoaWxlIHRoaXMgdmlldyBpcyB0aGVcbiAqICAgICAgICAgLy8gcmVzcG9uZGVyLiBUaGlzIHR5cGljYWxseSBtZWFucyBhIGdlc3R1cmUgaGFzIHN1Y2NlZWRlZFxuICogICAgICAgfSxcbiAqICAgICAgIG9uUGFuUmVzcG9uZGVyVGVybWluYXRlOiAoZXZ0LCBnZXN0dXJlU3RhdGUpID0+IHtcbiAqICAgICAgICAgLy8gQW5vdGhlciBjb21wb25lbnQgaGFzIGJlY29tZSB0aGUgcmVzcG9uZGVyLCBzbyB0aGlzIGdlc3R1cmVcbiAqICAgICAgICAgLy8gc2hvdWxkIGJlIGNhbmNlbGxlZFxuICogICAgICAgfSxcbiAqICAgICAgIG9uU2hvdWxkQmxvY2tOYXRpdmVSZXNwb25kZXI6IChldnQsIGdlc3R1cmVTdGF0ZSkgPT4ge1xuICogICAgICAgICAvLyBSZXR1cm5zIHdoZXRoZXIgdGhpcyBjb21wb25lbnQgc2hvdWxkIGJsb2NrIG5hdGl2ZSBjb21wb25lbnRzIGZyb20gYmVjb21pbmcgdGhlIEpTXG4gKiAgICAgICAgIC8vIHJlc3BvbmRlci4gUmV0dXJucyB0cnVlIGJ5IGRlZmF1bHQuIElzIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBvbiBhbmRyb2lkLlxuICogICAgICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgICAgIH0sXG4gKiAgICAgfSk7XG4gKiAgIH0sXG4gKlxuICogICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VmlldyB7Li4udGhpcy5fcGFuUmVzcG9uZGVyLnBhbkhhbmRsZXJzfSAvPlxuICogICAgICk7XG4gKiAgIH0sXG4gKlxuICogYGBgXG4gKlxuICogIyMjIFdvcmtpbmcgRXhhbXBsZVxuICpcbiAqIFRvIHNlZSBpdCBpbiBhY3Rpb24sIHRyeSB0aGVcbiAqIFtQYW5SZXNwb25kZXIgZXhhbXBsZSBpbiBSTlRlc3Rlcl0oaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9ibG9iL0hFQUQvcGFja2FnZXMvcm4tdGVzdGVyL2pzL2V4YW1wbGVzL1BhblJlc3BvbmRlci9QYW5SZXNwb25kZXJFeGFtcGxlLmpzKVxuICovXG5cbmV4cG9ydCB0eXBlIEdlc3R1cmVTdGF0ZSA9IHt8XG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgZ2VzdHVyZVN0YXRlIC0gcGVyc2lzdGVkIGFzIGxvbmcgYXMgdGhlcmUgYXQgbGVhc3Qgb25lIHRvdWNoIG9uIHNjcmVlblxuICAgKi9cbiAgc3RhdGVJRDogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBUaGUgbGF0ZXN0IHNjcmVlbiBjb29yZGluYXRlcyBvZiB0aGUgcmVjZW50bHktbW92ZWQgdG91Y2hcbiAgICovXG4gIG1vdmVYOiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIFRoZSBsYXRlc3Qgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZWNlbnRseS1tb3ZlZCB0b3VjaFxuICAgKi9cbiAgbW92ZVk6IG51bWJlcixcblxuICAvKipcbiAgICogVGhlIHNjcmVlbiBjb29yZGluYXRlcyBvZiB0aGUgcmVzcG9uZGVyIGdyYW50XG4gICAqL1xuICB4MDogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBUaGUgc2NyZWVuIGNvb3JkaW5hdGVzIG9mIHRoZSByZXNwb25kZXIgZ3JhbnRcbiAgICovXG4gIHkwOiBudW1iZXIsXG5cbiAgLyoqXG4gICAqIEFjY3VtdWxhdGVkIGRpc3RhbmNlIG9mIHRoZSBnZXN0dXJlIHNpbmNlIHRoZSB0b3VjaCBzdGFydGVkXG4gICAqL1xuICBkeDogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBBY2N1bXVsYXRlZCBkaXN0YW5jZSBvZiB0aGUgZ2VzdHVyZSBzaW5jZSB0aGUgdG91Y2ggc3RhcnRlZFxuICAgKi9cbiAgZHk6IG51bWJlcixcblxuICAvKipcbiAgICogQ3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgZ2VzdHVyZVxuICAgKi9cbiAgdng6IG51bWJlcixcblxuICAvKipcbiAgICogQ3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgZ2VzdHVyZVxuICAgKi9cbiAgdnk6IG51bWJlcixcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHRvdWNoZXMgY3VycmVudGx5IG9uIHNjcmVlblxuICAgKi9cbiAgbnVtYmVyQWN0aXZlVG91Y2hlczogbnVtYmVyLFxuXG4gIC8qKlxuICAgKiBBbGwgYGdlc3R1cmVTdGF0ZWAgYWNjb3VudHMgZm9yIHRpbWVTdGFtcHMgdXAgdW50aWwgdGhpcyB2YWx1ZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FjY291bnRzRm9yTW92ZXNVcFRvOiBudW1iZXIsXG58fTtcblxudHlwZSBBY3RpdmVDYWxsYmFjayA9IChcbiAgZXZlbnQ6IFByZXNzRXZlbnQsXG4gIGdlc3R1cmVTdGF0ZTogR2VzdHVyZVN0YXRlLFxuKSA9PiBib29sZWFuO1xuXG50eXBlIFBhc3NpdmVDYWxsYmFjayA9IChldmVudDogUHJlc3NFdmVudCwgZ2VzdHVyZVN0YXRlOiBHZXN0dXJlU3RhdGUpID0+IG1peGVkO1xuXG5leHBvcnQgdHlwZSBQYW5IYW5kbGVycyA9IHt8XG4gIG9uTW92ZVNob3VsZFNldFJlc3BvbmRlcjogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBib29sZWFuLFxuICBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4sXG4gIG9uUmVzcG9uZGVyRW5kOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyR3JhbnQ6IChldmVudDogUHJlc3NFdmVudCkgPT4gYm9vbGVhbixcbiAgb25SZXNwb25kZXJNb3ZlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyUmVqZWN0OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyUmVsZWFzZTogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlclN0YXJ0OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyVGVybWluYXRlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4sXG4gIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChldmVudDogUHJlc3NFdmVudCkgPT4gYm9vbGVhbixcbiAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6IChldmVudDogUHJlc3NFdmVudCkgPT4gYm9vbGVhbixcbnx9O1xuXG50eXBlIFBhblJlc3BvbmRlckNvbmZpZyA9ICRSZWFkT25seTx7fFxuICBvbk1vdmVTaG91bGRTZXRQYW5SZXNwb25kZXI/OiA/QWN0aXZlQ2FsbGJhY2ssXG4gIG9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmU/OiA/QWN0aXZlQ2FsbGJhY2ssXG4gIG9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXI/OiA/QWN0aXZlQ2FsbGJhY2ssXG4gIG9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlPzogP0FjdGl2ZUNhbGxiYWNrLFxuICAvKipcbiAgICogVGhlIGJvZHkgb2YgYG9uUmVzcG9uZGVyR3JhbnRgIHJldHVybnMgYSBib29sLCBidXQgdGhlIHZhc3QgbWFqb3JpdHkgb2ZcbiAgICogY2FsbHNpdGVzIHJldHVybiB2b2lkIGFuZCB0aGlzIFRPRE8gbm90aWNlIGlzIGZvdW5kIGluIGl0OlxuICAgKiAgIFRPRE86IHQ3NDY3MTI0IGludmVzdGlnYXRlIGlmIHRoaXMgY2FuIGJlIHJlbW92ZWRcbiAgICovXG4gIG9uUGFuUmVzcG9uZGVyR3JhbnQ/OiA/KFBhc3NpdmVDYWxsYmFjayB8IEFjdGl2ZUNhbGxiYWNrKSxcbiAgb25QYW5SZXNwb25kZXJSZWplY3Q/OiA/UGFzc2l2ZUNhbGxiYWNrLFxuICBvblBhblJlc3BvbmRlclN0YXJ0PzogP1Bhc3NpdmVDYWxsYmFjayxcbiAgb25QYW5SZXNwb25kZXJFbmQ/OiA/UGFzc2l2ZUNhbGxiYWNrLFxuICBvblBhblJlc3BvbmRlclJlbGVhc2U/OiA/UGFzc2l2ZUNhbGxiYWNrLFxuICBvblBhblJlc3BvbmRlck1vdmU/OiA/UGFzc2l2ZUNhbGxiYWNrLFxuICBvblBhblJlc3BvbmRlclRlcm1pbmF0ZT86ID9QYXNzaXZlQ2FsbGJhY2ssXG4gIG9uUGFuUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0PzogP0FjdGl2ZUNhbGxiYWNrLFxuICBvblNob3VsZEJsb2NrTmF0aXZlUmVzcG9uZGVyPzogP0FjdGl2ZUNhbGxiYWNrLFxufH0+O1xuXG5jb25zdCBQYW5SZXNwb25kZXIgPSB7XG4gIC8qKlxuICAgKlxuICAgKiBBIGdyYXBoaWNhbCBleHBsYW5hdGlvbiBvZiB0aGUgdG91Y2ggZGF0YSBmbG93OlxuICAgKlxuICAgKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiB8IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlIHwgICAgICAgICAgICAgfFRvdWNoSGlzdG9yeU1hdGggICAgICAgICAgICAgICAgfFxuICAgKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgKy0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiB8R2xvYmFsIHN0b3JlIG9mIHRvdWNoSGlzdG9yeXwgICAgICAgICAgICAgfEFsbG9jYXRpb24tbGVzcyBtYXRoIHV0aWwgICAgICAgfFxuICAgKiB8aW5jbHVkaW5nIGFjdGl2ZW5lc3MsIHN0YXJ0IHwgICAgICAgICAgICAgfG9uIHRvdWNoIGhpc3RvcnkgKGNlbnRyb2lkcyAgICAgfFxuICAgKiB8cG9zaXRpb24sIHByZXYvY3VyIHBvc2l0aW9uLnwgICAgICAgICAgICAgfGFuZCBtdWx0aXRvdWNoIG1vdmVtZW50IGV0YykgICAgfFxuICAgKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiArLS0tLV4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgKy0tLS1eLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgfCAocmVjb3JkcyByZWxldmFudCBoaXN0b3J5ICAgICAgICAgICAgICAgIHxcbiAgICogICAgICB8ICBvZiB0b3VjaGVzIHJlbGV2YW50IGZvciAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgIHwgIGltcGxlbWVudGluZyBoaWdoZXIgbGV2ZWwgICAgICAgICAgICAgICB8XG4gICAqICAgICAgfCAgZ2VzdHVyZXMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiArLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgKy0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiB8IFJlc3BvbmRlckV2ZW50UGx1Z2luICAgICAgIHwgICAgICAgICAgICAgfCAgICB8ICAgWW91ciBBcHAvQ29tcG9uZW50ICAgICAgfFxuICAgKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgKy0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiB8TmVnb3RpYXRlcyB3aGljaCB2aWV3IGdldHMgIHwgTG93IGxldmVsICAgfCAgICB8ICAgICAgICAgICAgIEhpZ2ggbGV2ZWwgICAgfFxuICAgKiB8b25SZXNwb25kZXJNb3ZlIGV2ZW50cy4gICAgIHwgZXZlbnRzIHcvICAgfCAgKy0rLS0tLS0tLSsgICAgIGV2ZW50cyB3LyAgICAgfFxuICAgKiB8QWxzbyByZWNvcmRzIGhpc3RvcnkgaW50byAgIHwgdG91Y2hIaXN0b3J5fCAgfCAgIFBhbiAgIHwgICAgIG11bHRpdG91Y2ggKyAgfFxuICAgKiB8UmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUuICstLS0tLS0tLS0tLS0tLS0tPlJlc3BvbmRlcistLS0tLT4gYWNjdW11bGF0aXZlfFxuICAgKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgYXR0YWNoZWQgdG8gfCAgfCAgICAgICAgIHwgICAgIGRpc3RhbmNlIGFuZCAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2ggZXZlbnQgfCAgKy0tLS0tLS0tLSsgICAgIHZlbG9jaXR5LiAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKlxuICAgKlxuICAgKlxuICAgKiBHZXN0dXJlIHRoYXQgY2FsY3VsYXRlcyBjdW11bGF0aXZlIG1vdmVtZW50IG92ZXIgdGltZSBpbiBhIHdheSB0aGF0IGp1c3RcbiAgICogXCJkb2VzIHRoZSByaWdodCB0aGluZ1wiIGZvciBtdWx0aXBsZSB0b3VjaGVzLiBUaGUgXCJyaWdodCB0aGluZ1wiIGlzIHZlcnlcbiAgICogbnVhbmNlZC4gV2hlbiBtb3ZpbmcgdHdvIHRvdWNoZXMgaW4gb3Bwb3NpdGUgZGlyZWN0aW9ucywgdGhlIGN1bXVsYXRpdmVcbiAgICogZGlzdGFuY2UgaXMgemVybyBpbiBlYWNoIGRpbWVuc2lvbi4gV2hlbiB0d28gdG91Y2hlcyBtb3ZlIGluIHBhcmFsbGVsIGZpdmVcbiAgICogcGl4ZWxzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiwgdGhlIGN1bXVsYXRpdmUgZGlzdGFuY2UgaXMgZml2ZSwgbm90IHRlbi4gSWZcbiAgICogdHdvIHRvdWNoZXMgc3RhcnQsIG9uZSBtb3ZlcyBmaXZlIGluIGEgZGlyZWN0aW9uLCB0aGVuIHN0b3BzIGFuZCB0aGUgb3RoZXJcbiAgICogdG91Y2ggbW92ZXMgZml2ZXMgaW4gdGhlIHNhbWUgZGlyZWN0aW9uLCB0aGUgY3VtdWxhdGl2ZSBkaXN0YW5jZSBpcyB0ZW4uXG4gICAqXG4gICAqIFRoaXMgbG9naWMgcmVxdWlyZXMgYSBraW5kIG9mIHByb2Nlc3Npbmcgb2YgdGltZSBcImNsdXN0ZXJzXCIgb2YgdG91Y2ggZXZlbnRzXG4gICAqIHNvIHRoYXQgdHdvIHRvdWNoIG1vdmVzIHRoYXQgZXNzZW50aWFsbHkgb2NjdXIgaW4gcGFyYWxsZWwgYnV0IG1vdmUgZXZlcnlcbiAgICogb3RoZXIgZnJhbWUgcmVzcGVjdGl2ZWx5LCBhcmUgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBzYW1lIG1vdmVtZW50LlxuICAgKlxuICAgKiBFeHBsYW5hdGlvbiBvZiBzb21lIG9mIHRoZSBub24tb2J2aW91cyBmaWVsZHM6XG4gICAqXG4gICAqIC0gbW92ZVgvbW92ZVk6IElmIG5vIG1vdmUgZXZlbnQgaGFzIGJlZW4gb2JzZXJ2ZWQsIHRoZW4gYChtb3ZlWCwgbW92ZVkpYCBpc1xuICAgKiAgIGludmFsaWQuIElmIGEgbW92ZSBldmVudCBoYXMgYmVlbiBvYnNlcnZlZCwgYChtb3ZlWCwgbW92ZVkpYCBpcyB0aGVcbiAgICogICBjZW50cm9pZCBvZiB0aGUgbW9zdCByZWNlbnRseSBtb3ZlZCBcImNsdXN0ZXJcIiBvZiBhY3RpdmUgdG91Y2hlcy5cbiAgICogICAoQ3VycmVudGx5IGFsbCBtb3ZlIGhhdmUgdGhlIHNhbWUgdGltZVN0YW1wLCBidXQgbGF0ZXIgd2Ugc2hvdWxkIGFkZCBzb21lXG4gICAqICAgdGhyZXNob2xkIGZvciB3aGF0IGlzIGNvbnNpZGVyZWQgdG8gYmUgXCJtb3ZpbmdcIikuIElmIGEgcGFsbSBpc1xuICAgKiAgIGFjY2lkZW50YWxseSBjb3VudGVkIGFzIGEgdG91Y2gsIGJ1dCBhIGZpbmdlciBpcyBtb3ZpbmcgZ3JlYXRseSwgdGhlIHBhbG1cbiAgICogICB3aWxsIG1vdmUgc2xpZ2h0bHksIGJ1dCB3ZSBvbmx5IHdhbnQgdG8gY291bnQgdGhlIHNpbmdsZSBtb3ZpbmcgdG91Y2guXG4gICAqIC0geDAveTA6IENlbnRyb2lkIGxvY2F0aW9uIChub24tY3VtdWxhdGl2ZSkgYXQgdGhlIHRpbWUgb2YgYmVjb21pbmdcbiAgICogICByZXNwb25kZXIuXG4gICAqIC0gZHgvZHk6IEN1bXVsYXRpdmUgdG91Y2ggZGlzdGFuY2UgLSBub3QgdGhlIHNhbWUgdGhpbmcgYXMgc3VtIG9mIGVhY2ggdG91Y2hcbiAgICogICBkaXN0YW5jZS4gQWNjb3VudHMgZm9yIHRvdWNoIG1vdmVzIHRoYXQgYXJlIGNsdXN0ZXJlZCB0b2dldGhlciBpbiB0aW1lLFxuICAgKiAgIG1vdmluZyB0aGUgc2FtZSBkaXJlY3Rpb24uIE9ubHkgdmFsaWQgd2hlbiBjdXJyZW50bHkgcmVzcG9uZGVyIChvdGhlcndpc2UsXG4gICAqICAgaXQgb25seSByZXByZXNlbnRzIHRoZSBkcmFnIGRpc3RhbmNlIGJlbG93IHRoZSB0aHJlc2hvbGQpLlxuICAgKiAtIHZ4L3Z5OiBWZWxvY2l0eS5cbiAgICovXG5cbiAgX2luaXRpYWxpemVHZXN0dXJlU3RhdGUoZ2VzdHVyZVN0YXRlOiBHZXN0dXJlU3RhdGUpIHtcbiAgICBnZXN0dXJlU3RhdGUubW92ZVggPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS5tb3ZlWSA9IDA7XG4gICAgZ2VzdHVyZVN0YXRlLngwID0gMDtcbiAgICBnZXN0dXJlU3RhdGUueTAgPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS5keCA9IDA7XG4gICAgZ2VzdHVyZVN0YXRlLmR5ID0gMDtcbiAgICBnZXN0dXJlU3RhdGUudnggPSAwO1xuICAgIGdlc3R1cmVTdGF0ZS52eSA9IDA7XG4gICAgZ2VzdHVyZVN0YXRlLm51bWJlckFjdGl2ZVRvdWNoZXMgPSAwO1xuICAgIC8vIEFsbCBgZ2VzdHVyZVN0YXRlYCBhY2NvdW50cyBmb3IgdGltZVN0YW1wcyB1cCB1bnRpbDpcbiAgICBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvID0gMDtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBpcyBudWFuY2VkIGFuZCBpcyBuZWNlc3NhcnkuIEl0IGlzIGluY29ycmVjdCB0byBjb250aW51b3VzbHkgdGFrZSBhbGxcbiAgICogYWN0aXZlICphbmQqIHJlY2VudGx5IG1vdmVkIHRvdWNoZXMsIGZpbmQgdGhlIGNlbnRyb2lkLCBhbmQgdHJhY2sgaG93IHRoYXRcbiAgICogcmVzdWx0IGNoYW5nZXMgb3ZlciB0aW1lLiBJbnN0ZWFkLCB3ZSBtdXN0IHRha2UgYWxsIHJlY2VudGx5IG1vdmVkXG4gICAqIHRvdWNoZXMsIGFuZCBjYWxjdWxhdGUgaG93IHRoZSBjZW50cm9pZCBoYXMgY2hhbmdlZCBqdXN0IGZvciB0aG9zZVxuICAgKiByZWNlbnRseSBtb3ZlZCB0b3VjaGVzLCBhbmQgYXBwZW5kIHRoYXQgY2hhbmdlIHRvIGFuIGFjY3VtdWxhdG9yLiBUaGlzIGlzXG4gICAqIHRvIChhdCBsZWFzdCkgaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGlzIG1vdmluZyB0aHJlZSBmaW5nZXJzLCBhbmRcbiAgICogdGhlbiBvbmUgb2YgdGhlIGZpbmdlcnMgc3RvcHMgYnV0IHRoZSBvdGhlciB0d28gY29udGludWUuXG4gICAqXG4gICAqIFRoaXMgaXMgdmVyeSBkaWZmZXJlbnQgdGhhbiB0YWtpbmcgYWxsIG9mIHRoZSByZWNlbnRseSBtb3ZlZCB0b3VjaGVzIGFuZFxuICAgKiBzdG9yaW5nIHRoZWlyIGNlbnRyb2lkIGFzIGBkeC9keWAuIEZvciBjb3JyZWN0bmVzcywgd2UgbXVzdCAqYWNjdW11bGF0ZVxuICAgKiBjaGFuZ2VzKiBpbiB0aGUgY2VudHJvaWQgb2YgcmVjZW50bHkgbW92ZWQgdG91Y2hlcy5cbiAgICpcbiAgICogVGhlcmUgaXMgYWxzbyBzb21lIG51YW5jZSB3aXRoIGhvdyB3ZSBoYW5kbGUgbXVsdGlwbGUgbW92ZWQgdG91Y2hlcyBpbiBhXG4gICAqIHNpbmdsZSBldmVudC4gV2l0aCB0aGUgd2F5IGBSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlcmAgZGlzcGF0Y2hlcyB0b3VjaGVzIGFzXG4gICAqIGluZGl2aWR1YWwgZXZlbnRzLCBtdWx0aXBsZSB0b3VjaGVzIGdlbmVyYXRlIHR3byAnbW92ZScgZXZlbnRzLCBlYWNoIG9mXG4gICAqIHRoZW0gdHJpZ2dlcmluZyBgb25SZXNwb25kZXJNb3ZlYC4gQnV0IHdpdGggdGhlIHdheSBgUGFuUmVzcG9uZGVyYCB3b3JrcyxcbiAgICogYWxsIG9mIHRoZSBnZXN0dXJlIGluZmVyZW5jZSBpcyBwZXJmb3JtZWQgb24gdGhlIGZpcnN0IGRpc3BhdGNoLCBzaW5jZSBpdFxuICAgKiBsb29rcyBhdCBhbGwgb2YgdGhlIHRvdWNoZXMgKGV2ZW4gdGhlIG9uZXMgZm9yIHdoaWNoIHRoZXJlIGhhc24ndCBiZWVuIGFcbiAgICogbmF0aXZlIGRpc3BhdGNoIHlldCkuIFRoZXJlZm9yZSwgYFBhblJlc3BvbmRlcmAgZG9lcyBub3QgY2FsbFxuICAgKiBgb25SZXNwb25kZXJNb3ZlYCBwYXNzZWQgdGhlIGZpcnN0IGRpc3BhdGNoLiBUaGlzIGRpdmVyZ2VzIGZyb20gdGhlXG4gICAqIHR5cGljYWwgcmVzcG9uZGVyIGNhbGxiYWNrIHBhdHRlcm4gKHdpdGhvdXQgdXNpbmcgYFBhblJlc3BvbmRlcmApLCBidXRcbiAgICogYXZvaWRzIG1vcmUgZGlzcGF0Y2hlcyB0aGFuIG5lY2Vzc2FyeS5cbiAgICovXG4gIF91cGRhdGVHZXN0dXJlU3RhdGVPbk1vdmUoXG4gICAgZ2VzdHVyZVN0YXRlOiBHZXN0dXJlU3RhdGUsXG4gICAgdG91Y2hIaXN0b3J5OiAkUHJvcGVydHlUeXBlPFByZXNzRXZlbnQsICd0b3VjaEhpc3RvcnknPixcbiAgKSB7XG4gICAgZ2VzdHVyZVN0YXRlLm51bWJlckFjdGl2ZVRvdWNoZXMgPSB0b3VjaEhpc3RvcnkubnVtYmVyQWN0aXZlVG91Y2hlcztcbiAgICBnZXN0dXJlU3RhdGUubW92ZVggPSBjdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbyxcbiAgICApO1xuICAgIGdlc3R1cmVTdGF0ZS5tb3ZlWSA9IGN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIoXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvLFxuICAgICk7XG4gICAgY29uc3QgbW92ZWRBZnRlciA9IGdlc3R1cmVTdGF0ZS5fYWNjb3VudHNGb3JNb3Zlc1VwVG87XG4gICAgY29uc3QgcHJldlggPSBwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIG1vdmVkQWZ0ZXIsXG4gICAgKTtcbiAgICBjb25zdCB4ID0gY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcih0b3VjaEhpc3RvcnksIG1vdmVkQWZ0ZXIpO1xuICAgIGNvbnN0IHByZXZZID0gcHJldmlvdXNDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIoXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICBtb3ZlZEFmdGVyLFxuICAgICk7XG4gICAgY29uc3QgeSA9IGN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIodG91Y2hIaXN0b3J5LCBtb3ZlZEFmdGVyKTtcbiAgICBjb25zdCBuZXh0RFggPSBnZXN0dXJlU3RhdGUuZHggKyAoeCAtIHByZXZYKTtcbiAgICBjb25zdCBuZXh0RFkgPSBnZXN0dXJlU3RhdGUuZHkgKyAoeSAtIHByZXZZKTtcblxuICAgIC8vIFRPRE86IFRoaXMgbXVzdCBiZSBmaWx0ZXJlZCBpbnRlbGxpZ2VudGx5LlxuICAgIGNvbnN0IGR0ID1cbiAgICAgIHRvdWNoSGlzdG9yeS5tb3N0UmVjZW50VGltZVN0YW1wIC0gZ2VzdHVyZVN0YXRlLl9hY2NvdW50c0Zvck1vdmVzVXBUbztcbiAgICBnZXN0dXJlU3RhdGUudnggPSAobmV4dERYIC0gZ2VzdHVyZVN0YXRlLmR4KSAvIGR0O1xuICAgIGdlc3R1cmVTdGF0ZS52eSA9IChuZXh0RFkgLSBnZXN0dXJlU3RhdGUuZHkpIC8gZHQ7XG5cbiAgICBnZXN0dXJlU3RhdGUuZHggPSBuZXh0RFg7XG4gICAgZ2VzdHVyZVN0YXRlLmR5ID0gbmV4dERZO1xuICAgIGdlc3R1cmVTdGF0ZS5fYWNjb3VudHNGb3JNb3Zlc1VwVG8gPSB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcDtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBFbmhhbmNlZCB2ZXJzaW9ucyBvZiBhbGwgb2YgdGhlIHJlc3BvbmRlciBjYWxsYmFja3NcbiAgICogdGhhdCBwcm92aWRlIG5vdCBvbmx5IHRoZSB0eXBpY2FsIGBSZXNwb25kZXJTeW50aGV0aWNFdmVudGAsIGJ1dCBhbHNvIHRoZVxuICAgKiBgUGFuUmVzcG9uZGVyYCBnZXN0dXJlIHN0YXRlLiAgU2ltcGx5IHJlcGxhY2UgdGhlIHdvcmQgYFJlc3BvbmRlcmAgd2l0aFxuICAgKiBgUGFuUmVzcG9uZGVyYCBpbiBlYWNoIG9mIHRoZSB0eXBpY2FsIGBvblJlc3BvbmRlcipgIGNhbGxiYWNrcy4gRm9yXG4gICAqIGV4YW1wbGUsIHRoZSBgY29uZmlnYCBvYmplY3Qgd291bGQgbG9vayBsaWtlOlxuICAgKlxuICAgKiAgLSBgb25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyOiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmU6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlcjogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZTogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlclJlamVjdDogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlckdyYW50OiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uUGFuUmVzcG9uZGVyU3RhcnQ6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJFbmQ6IChlLCBnZXN0dXJlU3RhdGUpID0+IHsuLi59YFxuICAgKiAgLSBgb25QYW5SZXNwb25kZXJSZWxlYXNlOiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICogIC0gYG9uUGFuUmVzcG9uZGVyTW92ZTogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlclRlcm1pbmF0ZTogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblBhblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKGUsIGdlc3R1cmVTdGF0ZSkgPT4gey4uLn1gXG4gICAqICAtIGBvblNob3VsZEJsb2NrTmF0aXZlUmVzcG9uZGVyOiAoZSwgZ2VzdHVyZVN0YXRlKSA9PiB7Li4ufWBcbiAgICpcbiAgICogIEluIGdlbmVyYWwsIGZvciBldmVudHMgdGhhdCBoYXZlIGNhcHR1cmUgZXF1aXZhbGVudHMsIHdlIHVwZGF0ZSB0aGVcbiAgICogIGdlc3R1cmVTdGF0ZSBvbmNlIGluIHRoZSBjYXB0dXJlIHBoYXNlIGFuZCBjYW4gdXNlIGl0IGluIHRoZSBidWJibGUgcGhhc2VcbiAgICogIGFzIHdlbGwuXG4gICAqXG4gICAqICBCZSBjYXJlZnVsIHdpdGggb25TdGFydFNob3VsZCogY2FsbGJhY2tzLiBUaGV5IG9ubHkgcmVmbGVjdCB1cGRhdGVkXG4gICAqICBgZ2VzdHVyZVN0YXRlYCBmb3Igc3RhcnQvZW5kIGV2ZW50cyB0aGF0IGJ1YmJsZS9jYXB0dXJlIHRvIHRoZSBOb2RlLlxuICAgKiAgT25jZSB0aGUgbm9kZSBpcyB0aGUgcmVzcG9uZGVyLCB5b3UgY2FuIHJlbHkgb24gZXZlcnkgc3RhcnQvZW5kIGV2ZW50XG4gICAqICBiZWluZyBwcm9jZXNzZWQgYnkgdGhlIGdlc3R1cmUgYW5kIGBnZXN0dXJlU3RhdGVgIGJlaW5nIHVwZGF0ZWRcbiAgICogIGFjY29yZGluZ2x5LiAobnVtYmVyQWN0aXZlVG91Y2hlcykgbWF5IG5vdCBiZSB0b3RhbGx5IGFjY3VyYXRlIHVubGVzcyB5b3VcbiAgICogIGFyZSB0aGUgcmVzcG9uZGVyLlxuICAgKi9cbiAgY3JlYXRlKGNvbmZpZzogUGFuUmVzcG9uZGVyQ29uZmlnKToge1xuICAgIGdldEludGVyYWN0aW9uSGFuZGxlOiAoKSA9PiA/bnVtYmVyLFxuICAgIHBhbkhhbmRsZXJzOiBQYW5IYW5kbGVycyxcbiAgfSB7XG4gICAgY29uc3QgaW50ZXJhY3Rpb25TdGF0ZSA9IHtcbiAgICAgIGhhbmRsZTogKG51bGw6ID9udW1iZXIpLFxuICAgIH07XG4gICAgY29uc3QgZ2VzdHVyZVN0YXRlOiBHZXN0dXJlU3RhdGUgPSB7XG4gICAgICAvLyBVc2VmdWwgZm9yIGRlYnVnZ2luZ1xuICAgICAgc3RhdGVJRDogTWF0aC5yYW5kb20oKSxcbiAgICAgIG1vdmVYOiAwLFxuICAgICAgbW92ZVk6IDAsXG4gICAgICB4MDogMCxcbiAgICAgIHkwOiAwLFxuICAgICAgZHg6IDAsXG4gICAgICBkeTogMCxcbiAgICAgIHZ4OiAwLFxuICAgICAgdnk6IDAsXG4gICAgICBudW1iZXJBY3RpdmVUb3VjaGVzOiAwLFxuICAgICAgX2FjY291bnRzRm9yTW92ZXNVcFRvOiAwLFxuICAgIH07XG4gICAgY29uc3QgcGFuSGFuZGxlcnMgPSB7XG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyKGV2ZW50OiBQcmVzc0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcub25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlciA9PSBudWxsXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogY29uZmlnLm9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXIoZXZlbnQsIGdlc3R1cmVTdGF0ZSk7XG4gICAgICB9LFxuICAgICAgb25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyKGV2ZW50OiBQcmVzc0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcub25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyID09IG51bGxcbiAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgOiBjb25maWcub25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyKGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgfSxcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlKGV2ZW50OiBQcmVzc0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFRPRE86IEFjdHVhbGx5LCB3ZSBzaG91bGQgcmVpbml0aWFsaXplIHRoZSBzdGF0ZSBhbnkgdGltZVxuICAgICAgICAvLyB0b3VjaGVzLmxlbmd0aCBpbmNyZWFzZXMgZnJvbSAwIGFjdGl2ZSB0byA+IDAgYWN0aXZlLlxuICAgICAgICBpZiAoZXZlbnQubmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBQYW5SZXNwb25kZXIuX2luaXRpYWxpemVHZXN0dXJlU3RhdGUoZ2VzdHVyZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBnZXN0dXJlU3RhdGUubnVtYmVyQWN0aXZlVG91Y2hlcyA9XG4gICAgICAgICAgZXZlbnQudG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXM7XG4gICAgICAgIHJldHVybiBjb25maWcub25TdGFydFNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmUgIT0gbnVsbFxuICAgICAgICAgID8gY29uZmlnLm9uU3RhcnRTaG91bGRTZXRQYW5SZXNwb25kZXJDYXB0dXJlKGV2ZW50LCBnZXN0dXJlU3RhdGUpXG4gICAgICAgICAgOiBmYWxzZTtcbiAgICAgIH0sXG5cbiAgICAgIG9uTW92ZVNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUoZXZlbnQ6IFByZXNzRXZlbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdG91Y2hIaXN0b3J5ID0gZXZlbnQudG91Y2hIaXN0b3J5O1xuICAgICAgICAvLyBSZXNwb25kZXIgc3lzdGVtIGluY29ycmVjdGx5IGRpc3BhdGNoZXMgc2hvdWxkKiB0byBjdXJyZW50IHJlc3BvbmRlclxuICAgICAgICAvLyBGaWx0ZXIgb3V0IGFueSB0b3VjaCBtb3ZlcyBwYXN0IHRoZSBmaXJzdCBvbmUgLSB3ZSB3b3VsZCBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgcHJvY2Vzc2VkIG11bHRpLXRvdWNoIGdlb21ldHJ5IGR1cmluZyB0aGUgZmlyc3QgZXZlbnQuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvID09PVxuICAgICAgICAgIHRvdWNoSGlzdG9yeS5tb3N0UmVjZW50VGltZVN0YW1wXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBQYW5SZXNwb25kZXIuX3VwZGF0ZUdlc3R1cmVTdGF0ZU9uTW92ZShnZXN0dXJlU3RhdGUsIHRvdWNoSGlzdG9yeSk7XG4gICAgICAgIHJldHVybiBjb25maWcub25Nb3ZlU2hvdWxkU2V0UGFuUmVzcG9uZGVyQ2FwdHVyZVxuICAgICAgICAgID8gY29uZmlnLm9uTW92ZVNob3VsZFNldFBhblJlc3BvbmRlckNhcHR1cmUoZXZlbnQsIGdlc3R1cmVTdGF0ZSlcbiAgICAgICAgICA6IGZhbHNlO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJHcmFudChldmVudDogUHJlc3NFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWludGVyYWN0aW9uU3RhdGUuaGFuZGxlKSB7XG4gICAgICAgICAgaW50ZXJhY3Rpb25TdGF0ZS5oYW5kbGUgPVxuICAgICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLmNyZWF0ZUludGVyYWN0aW9uSGFuZGxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2VzdHVyZVN0YXRlLngwID0gY3VycmVudENlbnRyb2lkWChldmVudC50b3VjaEhpc3RvcnkpO1xuICAgICAgICBnZXN0dXJlU3RhdGUueTAgPSBjdXJyZW50Q2VudHJvaWRZKGV2ZW50LnRvdWNoSGlzdG9yeSk7XG4gICAgICAgIGdlc3R1cmVTdGF0ZS5keCA9IDA7XG4gICAgICAgIGdlc3R1cmVTdGF0ZS5keSA9IDA7XG4gICAgICAgIGlmIChjb25maWcub25QYW5SZXNwb25kZXJHcmFudCkge1xuICAgICAgICAgIGNvbmZpZy5vblBhblJlc3BvbmRlckdyYW50KGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHQ3NDY3MTI0IGludmVzdGlnYXRlIGlmIHRoaXMgY2FuIGJlIHJlbW92ZWRcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5vblNob3VsZEJsb2NrTmF0aXZlUmVzcG9uZGVyID09IG51bGxcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGNvbmZpZy5vblNob3VsZEJsb2NrTmF0aXZlUmVzcG9uZGVyKGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJSZWplY3QoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJJbnRlcmFjdGlvbkhhbmRsZShcbiAgICAgICAgICBpbnRlcmFjdGlvblN0YXRlLFxuICAgICAgICAgIGNvbmZpZy5vblBhblJlc3BvbmRlclJlamVjdCxcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBnZXN0dXJlU3RhdGUsXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2UoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJJbnRlcmFjdGlvbkhhbmRsZShcbiAgICAgICAgICBpbnRlcmFjdGlvblN0YXRlLFxuICAgICAgICAgIGNvbmZpZy5vblBhblJlc3BvbmRlclJlbGVhc2UsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLFxuICAgICAgICApO1xuICAgICAgICBQYW5SZXNwb25kZXIuX2luaXRpYWxpemVHZXN0dXJlU3RhdGUoZ2VzdHVyZVN0YXRlKTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyU3RhcnQoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdG91Y2hIaXN0b3J5ID0gZXZlbnQudG91Y2hIaXN0b3J5O1xuICAgICAgICBnZXN0dXJlU3RhdGUubnVtYmVyQWN0aXZlVG91Y2hlcyA9IHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzO1xuICAgICAgICBpZiAoY29uZmlnLm9uUGFuUmVzcG9uZGVyU3RhcnQpIHtcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJTdGFydChldmVudCwgZ2VzdHVyZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJNb3ZlKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRvdWNoSGlzdG9yeSA9IGV2ZW50LnRvdWNoSGlzdG9yeTtcbiAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCB0aGUgZGlzcGF0Y2ggb2YgdHdvIHRvdWNoIG1vdmVzIHdoZW4gdGhlcmUgYXJlIHR3b1xuICAgICAgICAvLyBzaW11bHRhbmVvdXNseSBjaGFuZ2VkIHRvdWNoZXMuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBnZXN0dXJlU3RhdGUuX2FjY291bnRzRm9yTW92ZXNVcFRvID09PVxuICAgICAgICAgIHRvdWNoSGlzdG9yeS5tb3N0UmVjZW50VGltZVN0YW1wXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWx0ZXIgb3V0IGFueSB0b3VjaCBtb3ZlcyBwYXN0IHRoZSBmaXJzdCBvbmUgLSB3ZSB3b3VsZCBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgcHJvY2Vzc2VkIG11bHRpLXRvdWNoIGdlb21ldHJ5IGR1cmluZyB0aGUgZmlyc3QgZXZlbnQuXG4gICAgICAgIFBhblJlc3BvbmRlci5fdXBkYXRlR2VzdHVyZVN0YXRlT25Nb3ZlKGdlc3R1cmVTdGF0ZSwgdG91Y2hIaXN0b3J5KTtcbiAgICAgICAgaWYgKGNvbmZpZy5vblBhblJlc3BvbmRlck1vdmUpIHtcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJNb3ZlKGV2ZW50LCBnZXN0dXJlU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlckVuZChldmVudDogUHJlc3NFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCB0b3VjaEhpc3RvcnkgPSBldmVudC50b3VjaEhpc3Rvcnk7XG4gICAgICAgIGdlc3R1cmVTdGF0ZS5udW1iZXJBY3RpdmVUb3VjaGVzID0gdG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXM7XG4gICAgICAgIGNsZWFySW50ZXJhY3Rpb25IYW5kbGUoXG4gICAgICAgICAgaW50ZXJhY3Rpb25TdGF0ZSxcbiAgICAgICAgICBjb25maWcub25QYW5SZXNwb25kZXJFbmQsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgZ2VzdHVyZVN0YXRlLFxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGUoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJJbnRlcmFjdGlvbkhhbmRsZShcbiAgICAgICAgICBpbnRlcmFjdGlvblN0YXRlLFxuICAgICAgICAgIGNvbmZpZy5vblBhblJlc3BvbmRlclRlcm1pbmF0ZSxcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBnZXN0dXJlU3RhdGUsXG4gICAgICAgICk7XG4gICAgICAgIFBhblJlc3BvbmRlci5faW5pdGlhbGl6ZUdlc3R1cmVTdGF0ZShnZXN0dXJlU3RhdGUpO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QoZXZlbnQ6IFByZXNzRXZlbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5vblBhblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCA9PSBudWxsXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBjb25maWcub25QYW5SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QoZXZlbnQsIGdlc3R1cmVTdGF0ZSk7XG4gICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhbkhhbmRsZXJzLFxuICAgICAgZ2V0SW50ZXJhY3Rpb25IYW5kbGUoKTogP251bWJlciB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblN0YXRlLmhhbmRsZTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNsZWFySW50ZXJhY3Rpb25IYW5kbGUoXG4gIGludGVyYWN0aW9uU3RhdGU6IHtoYW5kbGU6ID9udW1iZXIsIC4uLn0sXG4gIGNhbGxiYWNrOiA/KEFjdGl2ZUNhbGxiYWNrIHwgUGFzc2l2ZUNhbGxiYWNrKSxcbiAgZXZlbnQ6IFByZXNzRXZlbnQsXG4gIGdlc3R1cmVTdGF0ZTogR2VzdHVyZVN0YXRlLFxuKSB7XG4gIGlmIChpbnRlcmFjdGlvblN0YXRlLmhhbmRsZSkge1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5jbGVhckludGVyYWN0aW9uSGFuZGxlKGludGVyYWN0aW9uU3RhdGUuaGFuZGxlKTtcbiAgICBpbnRlcmFjdGlvblN0YXRlLmhhbmRsZSA9IG51bGw7XG4gIH1cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soZXZlbnQsIGdlc3R1cmVTdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFuUmVzcG9uZGVySW5zdGFuY2UgPSBSZXR1cm5UeXBlPCh0eXBlb2YgUGFuUmVzcG9uZGVyKVsnY3JlYXRlJ10+O1xuXG5leHBvcnQgZGVmYXVsdCBQYW5SZXNwb25kZXI7XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUNBLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLE9BQUE7QUFJYixJQUFNQyxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQzFELElBQU1DLGdCQUFnQixHQUFHRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFFdEQsSUFBTUUscUNBQXFDLEdBQ3pDRCxnQkFBZ0IsQ0FBQ0MscUNBQXFD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