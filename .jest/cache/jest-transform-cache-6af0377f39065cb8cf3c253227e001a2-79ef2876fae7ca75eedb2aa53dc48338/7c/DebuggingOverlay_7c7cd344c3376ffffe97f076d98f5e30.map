{"version":3,"names":["_View","_interopRequireDefault","require","_UIManager","_StyleSheet","_DebuggingOverlayNativeComponent","_interopRequireWildcard","React","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","useRef","useImperativeHandle","isNativeComponentReady","UIManager","hasViewManagerConfig","DebuggingOverlay","_props","ref","highlightTraceUpdates","updates","nonEmptyRectangles","filter","_ref","rectangle","color","width","height","nativeComponentRef","current","Commands","highlightElements","elements","clearElementsHighlight","clearElementsHighlights","jsx","pointerEvents","style","styles","overlay","children","StyleSheet","create","position","top","bottom","left","right","DebuggingOverlayWithForwardedRef","forwardRef","_default","exports"],"sources":["DebuggingOverlay.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport type {\n  ElementRectangle,\n  TraceUpdate,\n} from './DebuggingOverlayNativeComponent';\n\nimport View from '../Components/View/View';\nimport UIManager from '../ReactNative/UIManager';\nimport StyleSheet from '../StyleSheet/StyleSheet';\nimport DebuggingOverlayNativeComponent, {\n  Commands,\n} from './DebuggingOverlayNativeComponent';\nimport * as React from 'react';\n\nconst {useRef, useImperativeHandle} = React;\nconst isNativeComponentReady =\n  UIManager.hasViewManagerConfig('DebuggingOverlay');\n\ntype DebuggingOverlayHandle = {\n  highlightTraceUpdates(updates: TraceUpdate[]): void,\n  highlightElements(elements: ElementRectangle[]): void,\n  clearElementsHighlight(): void,\n};\n\nfunction DebuggingOverlay(\n  _props: {},\n  ref: React.RefSetter<DebuggingOverlayHandle>,\n): React.Node {\n  useImperativeHandle(\n    ref,\n    () => ({\n      highlightTraceUpdates(updates) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        const nonEmptyRectangles = updates.filter(\n          ({rectangle, color}) => rectangle.width >= 0 && rectangle.height >= 0,\n        );\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightTraceUpdates(\n            nativeComponentRef.current,\n            nonEmptyRectangles,\n          );\n        }\n      },\n      highlightElements(elements) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightElements(nativeComponentRef.current, elements);\n        }\n      },\n      clearElementsHighlight() {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.clearElementsHighlights(nativeComponentRef.current);\n        }\n      },\n    }),\n    [],\n  );\n\n  const nativeComponentRef = useRef<React.ElementRef<\n    typeof DebuggingOverlayNativeComponent,\n  > | null>(null);\n\n  return (\n    isNativeComponentReady && (\n      <View pointerEvents=\"none\" style={styles.overlay}>\n        <DebuggingOverlayNativeComponent\n          ref={nativeComponentRef}\n          style={styles.overlay}\n        />\n      </View>\n    )\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nconst DebuggingOverlayWithForwardedRef: React.AbstractComponent<\n  {},\n  DebuggingOverlayHandle,\n  React.Node,\n> = React.forwardRef(DebuggingOverlay);\n\nexport default DebuggingOverlayWithForwardedRef;\n"],"mappings":";;;;;AAeA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,gCAAA,GAAAC,uBAAA,CAAAJ,OAAA;AAGA,IAAAK,KAAA,GAAAD,uBAAA,CAAAJ,OAAA;AAA+B,IAAAM,WAAA,GAAAN,OAAA;AAAA,SAAAO,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAJ,wBAAAI,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE/B,IAAOW,MAAM,GAAyBtB,KAAK,CAApCsB,MAAM;EAAEC,mBAAmB,GAAIvB,KAAK,CAA5BuB,mBAAmB;AAClC,IAAMC,sBAAsB,GAC1BC,kBAAS,CAACC,oBAAoB,CAAC,kBAAkB,CAAC;AAQpD,SAASC,gBAAgBA,CACvBC,MAAU,EACVC,GAA4C,EAChC;EACZN,mBAAmB,CACjBM,GAAG,EACH;IAAA,OAAO;MACLC,qBAAqB,WAAAA,sBAACC,OAAO,EAAE;QAC7B,IAAI,CAACP,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAMQ,kBAAkB,GAAGD,OAAO,CAACE,MAAM,CACvC,UAAAC,IAAA;UAAA,IAAEC,SAAS,GAAAD,IAAA,CAATC,SAAS;YAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;UAAA,OAAMD,SAAS,CAACE,KAAK,IAAI,CAAC,IAAIF,SAAS,CAACG,MAAM,IAAI,CAAC;QAAA,CACvE,CAAC;QAED,IAAIC,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACX,qBAAqB,CAC5BS,kBAAkB,CAACC,OAAO,EAC1BR,kBACF,CAAC;QACH;MACF,CAAC;MACDU,iBAAiB,WAAAA,kBAACC,QAAQ,EAAE;QAC1B,IAAI,CAACnB,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAIe,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACC,iBAAiB,CAACH,kBAAkB,CAACC,OAAO,EAAEG,QAAQ,CAAC;QAClE;MACF,CAAC;MACDC,sBAAsB,WAAAA,uBAAA,EAAG;QACvB,IAAI,CAACpB,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAIe,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACI,uBAAuB,CAACN,kBAAkB,CAACC,OAAO,CAAC;QAC9D;MACF;IACF,CAAC;EAAA,CAAC,EACF,EACF,CAAC;EAED,IAAMD,kBAAkB,GAAGjB,MAAM,CAEvB,IAAI,CAAC;EAEf,OACEE,sBAAsB,IACpB,IAAAvB,WAAA,CAAA6C,GAAA,EAACrD,KAAA,CAAAe,OAAI;IAACuC,aAAa,EAAC,MAAM;IAACC,KAAK,EAAEC,MAAM,CAACC,OAAQ;IAAAC,QAAA,EAC/C,IAAAlD,WAAA,CAAA6C,GAAA,EAAChD,gCAAA,CAAAU,OAA+B;MAC9BqB,GAAG,EAAEU,kBAAmB;MACxBS,KAAK,EAAEC,MAAM,CAACC;IAAQ,CACvB;EAAC,CACE,CACP;AAEL;AAEA,IAAMD,MAAM,GAAGG,mBAAU,CAACC,MAAM,CAAC;EAC/BH,OAAO,EAAE;IACPI,QAAQ,EAAE,UAAU;IACpBC,GAAG,EAAE,CAAC;IACNC,MAAM,EAAE,CAAC;IACTC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AAEF,IAAMC,gCAIL,GAAG3D,KAAK,CAAC4D,UAAU,CAACjC,gBAAgB,CAAC;AAAC,IAAAkC,QAAA,GAAAC,OAAA,CAAAtD,OAAA,GAExBmD,gCAAgC","ignoreList":[]}