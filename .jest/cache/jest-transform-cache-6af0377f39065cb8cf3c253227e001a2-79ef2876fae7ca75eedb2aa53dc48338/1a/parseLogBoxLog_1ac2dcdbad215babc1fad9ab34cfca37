7e0be5d17d9c7c5b7f7201c8a833b789
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseComponentStack = parseComponentStack;
exports.parseInterpolation = parseInterpolation;
exports.parseLogBoxException = parseLogBoxException;
exports.parseLogBoxLog = parseLogBoxLog;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _parseErrorStack = _interopRequireDefault(require("../../Core/Devtools/parseErrorStack"));
var _UTFSequence = _interopRequireDefault(require("../../UTFSequence"));
var _stringifySafe = _interopRequireDefault(require("../../Utilities/stringifySafe"));
var _ansiRegex = _interopRequireDefault(require("ansi-regex"));
var ANSI_REGEX = (0, _ansiRegex.default)().source;
var BABEL_TRANSFORM_ERROR_FORMAT = /^(?:TransformError )?(?:SyntaxError: |ReferenceError: )(.*): (.*) \((\d+):(\d+)\)\n\n([\s\S]+)/;
var BABEL_CODE_FRAME_MARKER_PATTERN = new RegExp(['^', `(?:${ANSI_REGEX})*`, '>', `(?:${ANSI_REGEX})*`, ' +', '[0-9]+', ' \\|'].join(''), 'm');
var BABEL_CODE_FRAME_ERROR_FORMAT = /^(?:TransformError )?(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*):? (?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)(\/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*): ((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?)\n([ >]{2}[\t-\r 0-9\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+ \|(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|\x1B(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)/;
var METRO_ERROR_FORMAT = /^(?:InternalError Metro has encountered an error:) ((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*): ((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*) \(([0-9]+):([0-9]+)\)\n\n((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)/;
var SUBSTITUTION = _UTFSequence.default.BOM + '%s';
function parseInterpolation(args) {
  var categoryParts = [];
  var contentParts = [];
  var substitutionOffsets = [];
  var remaining = (0, _toConsumableArray2.default)(args);
  if (typeof remaining[0] === 'string') {
    var formatString = String(remaining.shift());
    var formatStringParts = formatString.split('%s');
    var substitutionCount = formatStringParts.length - 1;
    var substitutions = remaining.splice(0, substitutionCount);
    var categoryString = '';
    var contentString = '';
    var substitutionIndex = 0;
    for (var formatStringPart of formatStringParts) {
      categoryString += formatStringPart;
      contentString += formatStringPart;
      if (substitutionIndex < substitutionCount) {
        if (substitutionIndex < substitutions.length) {
          var substitution = typeof substitutions[substitutionIndex] === 'string' ? substitutions[substitutionIndex] : (0, _stringifySafe.default)(substitutions[substitutionIndex]);
          substitutionOffsets.push({
            length: substitution.length,
            offset: contentString.length
          });
          categoryString += SUBSTITUTION;
          contentString += substitution;
        } else {
          substitutionOffsets.push({
            length: 2,
            offset: contentString.length
          });
          categoryString += '%s';
          contentString += '%s';
        }
        substitutionIndex++;
      }
    }
    categoryParts.push(categoryString);
    contentParts.push(contentString);
  }
  var remainingArgs = remaining.map(function (arg) {
    return typeof arg === 'string' ? arg : (0, _stringifySafe.default)(arg);
  });
  categoryParts.push.apply(categoryParts, (0, _toConsumableArray2.default)(remainingArgs));
  contentParts.push.apply(contentParts, (0, _toConsumableArray2.default)(remainingArgs));
  return {
    category: categoryParts.join(' '),
    message: {
      content: contentParts.join(' '),
      substitutions: substitutionOffsets
    }
  };
}
function isComponentStack(consoleArgument) {
  var isOldComponentStackFormat = / {4}in/.test(consoleArgument);
  var isNewComponentStackFormat = / {4}at/.test(consoleArgument);
  var isNewJSCComponentStackFormat = /@.*\n/.test(consoleArgument);
  return isOldComponentStackFormat || isNewComponentStackFormat || isNewJSCComponentStackFormat;
}
function parseComponentStack(message) {
  var stack = (0, _parseErrorStack.default)(message);
  if (stack && stack.length > 0) {
    return stack.map(function (frame) {
      return {
        content: frame.methodName,
        collapse: frame.collapse || false,
        fileName: frame.file == null ? 'unknown' : frame.file,
        location: {
          column: frame.column == null ? -1 : frame.column,
          row: frame.lineNumber == null ? -1 : frame.lineNumber
        }
      };
    });
  }
  return message.split(/\n {4}in /g).map(function (s) {
    if (!s) {
      return null;
    }
    var match = s.match(/(.*) \(at (.*\.(?:js|jsx|ts|tsx)):([\d]+)\)/);
    if (!match) {
      return null;
    }
    var _match$slice = match.slice(1),
      _match$slice2 = (0, _slicedToArray2.default)(_match$slice, 3),
      content = _match$slice2[0],
      fileName = _match$slice2[1],
      row = _match$slice2[2];
    return {
      content: content,
      fileName: fileName,
      location: {
        column: -1,
        row: parseInt(row, 10)
      }
    };
  }).filter(Boolean);
}
function parseLogBoxException(error) {
  var message = error.originalMessage != null ? error.originalMessage : 'Unknown';
  var metroInternalError = message.match(METRO_ERROR_FORMAT);
  if (metroInternalError) {
    var _metroInternalError$s = metroInternalError.slice(1),
      _metroInternalError$s2 = (0, _slicedToArray2.default)(_metroInternalError$s, 5),
      content = _metroInternalError$s2[0],
      fileName = _metroInternalError$s2[1],
      row = _metroInternalError$s2[2],
      column = _metroInternalError$s2[3],
      codeFrame = _metroInternalError$s2[4];
    return {
      level: 'fatal',
      type: 'Metro Error',
      stack: [],
      isComponentError: false,
      componentStack: [],
      codeFrame: {
        fileName: fileName,
        location: {
          row: parseInt(row, 10),
          column: parseInt(column, 10)
        },
        content: codeFrame
      },
      message: {
        content: content,
        substitutions: []
      },
      category: `${fileName}-${row}-${column}`,
      extraData: error.extraData
    };
  }
  var babelTransformError = message.match(BABEL_TRANSFORM_ERROR_FORMAT);
  if (babelTransformError) {
    var _babelTransformError$ = babelTransformError.slice(1),
      _babelTransformError$2 = (0, _slicedToArray2.default)(_babelTransformError$, 5),
      _fileName = _babelTransformError$2[0],
      _content = _babelTransformError$2[1],
      _row = _babelTransformError$2[2],
      _column = _babelTransformError$2[3],
      _codeFrame = _babelTransformError$2[4];
    return {
      level: 'syntax',
      stack: [],
      isComponentError: false,
      componentStack: [],
      codeFrame: {
        fileName: _fileName,
        location: {
          row: parseInt(_row, 10),
          column: parseInt(_column, 10)
        },
        content: _codeFrame
      },
      message: {
        content: _content,
        substitutions: []
      },
      category: `${_fileName}-${_row}-${_column}`,
      extraData: error.extraData
    };
  }
  if (BABEL_CODE_FRAME_MARKER_PATTERN.test(message)) {
    var babelCodeFrameError = message.match(BABEL_CODE_FRAME_ERROR_FORMAT);
    if (babelCodeFrameError) {
      var _babelCodeFrameError$ = babelCodeFrameError.slice(1),
        _babelCodeFrameError$2 = (0, _slicedToArray2.default)(_babelCodeFrameError$, 3),
        _fileName2 = _babelCodeFrameError$2[0],
        _content2 = _babelCodeFrameError$2[1],
        _codeFrame2 = _babelCodeFrameError$2[2];
      return {
        level: 'syntax',
        stack: [],
        isComponentError: false,
        componentStack: [],
        codeFrame: {
          fileName: _fileName2,
          location: null,
          content: _codeFrame2
        },
        message: {
          content: _content2,
          substitutions: []
        },
        category: `${_fileName2}-${1}-${1}`,
        extraData: error.extraData
      };
    }
  }
  if (message.match(/^TransformError /)) {
    return {
      level: 'syntax',
      stack: error.stack,
      isComponentError: error.isComponentError,
      componentStack: [],
      message: {
        content: message,
        substitutions: []
      },
      category: message,
      extraData: error.extraData
    };
  }
  var componentStack = error.componentStack;
  if (error.isFatal || error.isComponentError) {
    return Object.assign({
      level: 'fatal',
      stack: error.stack,
      isComponentError: error.isComponentError,
      componentStack: componentStack != null ? parseComponentStack(componentStack) : [],
      extraData: error.extraData
    }, parseInterpolation([message]));
  }
  if (componentStack != null) {
    return Object.assign({
      level: 'error',
      stack: error.stack,
      isComponentError: error.isComponentError,
      componentStack: parseComponentStack(componentStack),
      extraData: error.extraData
    }, parseInterpolation([message]));
  }
  return Object.assign({
    level: 'error',
    stack: error.stack,
    isComponentError: error.isComponentError,
    extraData: error.extraData
  }, parseLogBoxLog([message]));
}
function parseLogBoxLog(args) {
  var message = args[0];
  var argsWithoutComponentStack = [];
  var componentStack = [];
  if (typeof message === 'string' && message.slice(-2) === '%s' && args.length > 0) {
    var lastArg = args[args.length - 1];
    if (typeof lastArg === 'string' && isComponentStack(lastArg)) {
      argsWithoutComponentStack = args.slice(0, -1);
      argsWithoutComponentStack[0] = message.slice(0, -2);
      componentStack = parseComponentStack(lastArg);
    }
  }
  if (componentStack.length === 0) {
    for (var arg of args) {
      if (typeof arg === 'string' && isComponentStack(arg)) {
        var messageEndIndex = arg.search(/\n {4}(in|at) /);
        if (messageEndIndex < 0) {
          messageEndIndex = arg.search(/\n/);
        }
        if (messageEndIndex > 0) {
          argsWithoutComponentStack.push(arg.slice(0, messageEndIndex));
        }
        componentStack = parseComponentStack(arg);
      } else {
        argsWithoutComponentStack.push(arg);
      }
    }
  }
  return Object.assign({}, parseInterpolation(argsWithoutComponentStack), {
    componentStack: componentStack
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFyc2VFcnJvclN0YWNrIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVVRGU2VxdWVuY2UiLCJfc3RyaW5naWZ5U2FmZSIsIl9hbnNpUmVnZXgiLCJBTlNJX1JFR0VYIiwiYW5zaVJlZ2V4Iiwic291cmNlIiwiQkFCRUxfVFJBTlNGT1JNX0VSUk9SX0ZPUk1BVCIsIkJBQkVMX0NPREVfRlJBTUVfTUFSS0VSX1BBVFRFUk4iLCJSZWdFeHAiLCJqb2luIiwiQkFCRUxfQ09ERV9GUkFNRV9FUlJPUl9GT1JNQVQiLCJNRVRST19FUlJPUl9GT1JNQVQiLCJTVUJTVElUVVRJT04iLCJVVEZTZXF1ZW5jZSIsIkJPTSIsInBhcnNlSW50ZXJwb2xhdGlvbiIsImFyZ3MiLCJjYXRlZ29yeVBhcnRzIiwiY29udGVudFBhcnRzIiwic3Vic3RpdHV0aW9uT2Zmc2V0cyIsInJlbWFpbmluZyIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJkZWZhdWx0IiwiZm9ybWF0U3RyaW5nIiwiU3RyaW5nIiwic2hpZnQiLCJmb3JtYXRTdHJpbmdQYXJ0cyIsInNwbGl0Iiwic3Vic3RpdHV0aW9uQ291bnQiLCJsZW5ndGgiLCJzdWJzdGl0dXRpb25zIiwic3BsaWNlIiwiY2F0ZWdvcnlTdHJpbmciLCJjb250ZW50U3RyaW5nIiwic3Vic3RpdHV0aW9uSW5kZXgiLCJmb3JtYXRTdHJpbmdQYXJ0Iiwic3Vic3RpdHV0aW9uIiwic3RyaW5naWZ5U2FmZSIsInB1c2giLCJvZmZzZXQiLCJyZW1haW5pbmdBcmdzIiwibWFwIiwiYXJnIiwiYXBwbHkiLCJjYXRlZ29yeSIsIm1lc3NhZ2UiLCJjb250ZW50IiwiaXNDb21wb25lbnRTdGFjayIsImNvbnNvbGVBcmd1bWVudCIsImlzT2xkQ29tcG9uZW50U3RhY2tGb3JtYXQiLCJ0ZXN0IiwiaXNOZXdDb21wb25lbnRTdGFja0Zvcm1hdCIsImlzTmV3SlNDQ29tcG9uZW50U3RhY2tGb3JtYXQiLCJwYXJzZUNvbXBvbmVudFN0YWNrIiwic3RhY2siLCJwYXJzZUVycm9yU3RhY2siLCJmcmFtZSIsIm1ldGhvZE5hbWUiLCJjb2xsYXBzZSIsImZpbGVOYW1lIiwiZmlsZSIsImxvY2F0aW9uIiwiY29sdW1uIiwicm93IiwibGluZU51bWJlciIsInMiLCJtYXRjaCIsIl9tYXRjaCRzbGljZSIsInNsaWNlIiwiX21hdGNoJHNsaWNlMiIsIl9zbGljZWRUb0FycmF5MiIsInBhcnNlSW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsInBhcnNlTG9nQm94RXhjZXB0aW9uIiwiZXJyb3IiLCJvcmlnaW5hbE1lc3NhZ2UiLCJtZXRyb0ludGVybmFsRXJyb3IiLCJfbWV0cm9JbnRlcm5hbEVycm9yJHMiLCJfbWV0cm9JbnRlcm5hbEVycm9yJHMyIiwiY29kZUZyYW1lIiwibGV2ZWwiLCJ0eXBlIiwiaXNDb21wb25lbnRFcnJvciIsImNvbXBvbmVudFN0YWNrIiwiZXh0cmFEYXRhIiwiYmFiZWxUcmFuc2Zvcm1FcnJvciIsIl9iYWJlbFRyYW5zZm9ybUVycm9yJCIsIl9iYWJlbFRyYW5zZm9ybUVycm9yJDIiLCJiYWJlbENvZGVGcmFtZUVycm9yIiwiX2JhYmVsQ29kZUZyYW1lRXJyb3IkIiwiX2JhYmVsQ29kZUZyYW1lRXJyb3IkMiIsImlzRmF0YWwiLCJPYmplY3QiLCJhc3NpZ24iLCJwYXJzZUxvZ0JveExvZyIsImFyZ3NXaXRob3V0Q29tcG9uZW50U3RhY2siLCJsYXN0QXJnIiwibWVzc2FnZUVuZEluZGV4Iiwic2VhcmNoIl0sInNvdXJjZXMiOlsicGFyc2VMb2dCb3hMb2cuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtFeGNlcHRpb25EYXRhfSBmcm9tICcuLi8uLi9Db3JlL05hdGl2ZUV4Y2VwdGlvbnNNYW5hZ2VyJztcbmltcG9ydCB0eXBlIHtMb2dCb3hMb2dEYXRhfSBmcm9tICcuL0xvZ0JveExvZyc7XG5cbmltcG9ydCBwYXJzZUVycm9yU3RhY2sgZnJvbSAnLi4vLi4vQ29yZS9EZXZ0b29scy9wYXJzZUVycm9yU3RhY2snO1xuaW1wb3J0IFVURlNlcXVlbmNlIGZyb20gJy4uLy4uL1VURlNlcXVlbmNlJztcbmltcG9ydCBzdHJpbmdpZnlTYWZlIGZyb20gJy4uLy4uL1V0aWxpdGllcy9zdHJpbmdpZnlTYWZlJztcbmltcG9ydCBhbnNpUmVnZXggZnJvbSAnYW5zaS1yZWdleCc7XG5cbmNvbnN0IEFOU0lfUkVHRVggPSBhbnNpUmVnZXgoKS5zb3VyY2U7XG5cbmNvbnN0IEJBQkVMX1RSQU5TRk9STV9FUlJPUl9GT1JNQVQgPVxuICAvXig/OlRyYW5zZm9ybUVycm9yICk/KD86U3ludGF4RXJyb3I6IHxSZWZlcmVuY2VFcnJvcjogKSguKik6ICguKikgXFwoKFxcZCspOihcXGQrKVxcKVxcblxcbihbXFxzXFxTXSspLztcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2Jsb2IvMzNkYmI4NWU5ZTlmZTM2OTE1MjczMDgwZWNjNDJhZWU2MmVkMGFkZS9wYWNrYWdlcy9iYWJlbC1jb2RlLWZyYW1lL3NyYy9pbmRleC50cyNMMTgzLUwxODRcbmNvbnN0IEJBQkVMX0NPREVfRlJBTUVfTUFSS0VSX1BBVFRFUk4gPSBuZXcgUmVnRXhwKFxuICBbXG4gICAgLy8gQmVnaW5uaW5nIG9mIGEgbGluZSAocGVyICdtJyBmbGFnKVxuICAgICdeJyxcbiAgICAvLyBPcHRpb25hbCBBTlNJIGVzY2FwZXMgZm9yIGNvbG9yc1xuICAgIGAoPzoke0FOU0lfUkVHRVh9KSpgLFxuICAgIC8vIE1hcmtlclxuICAgICc+JyxcbiAgICAvLyBPcHRpb25hbCBBTlNJIGVzY2FwZXMgZm9yIGNvbG9yc1xuICAgIGAoPzoke0FOU0lfUkVHRVh9KSpgLFxuICAgIC8vIExlZnQgcGFkZGluZyBmb3IgbGluZSBudW1iZXJcbiAgICAnICsnLFxuICAgIC8vIExpbmUgbnVtYmVyXG4gICAgJ1swLTldKycsXG4gICAgLy8gR3V0dGVyXG4gICAgJyBcXFxcfCcsXG4gIF0uam9pbignJyksXG4gICdtJyxcbik7XG5cbmNvbnN0IEJBQkVMX0NPREVfRlJBTUVfRVJST1JfRk9STUFUID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgL14oPzpUcmFuc2Zvcm1FcnJvciApPyg/Oi4qKTo/ICg/Oi4qPykoXFwvLiopOiAoW1xcc1xcU10rPylcXG4oWyA+XXsyfVtcXGRcXHNdKyBcXHxbXFxzXFxTXSt8XFx1ezAwMWJ9W1xcc1xcU10rKS91O1xuXG5jb25zdCBNRVRST19FUlJPUl9GT1JNQVQgPVxuICAvXig/OkludGVybmFsRXJyb3IgTWV0cm8gaGFzIGVuY291bnRlcmVkIGFuIGVycm9yOikgKC4qKTogKC4qKSBcXCgoXFxkKyk6KFxcZCspXFwpXFxuXFxuKFtcXHNcXFNdKykvdTtcblxuZXhwb3J0IHR5cGUgRXh0ZW5kZWRFeGNlcHRpb25EYXRhID0gRXhjZXB0aW9uRGF0YSAmIHtcbiAgaXNDb21wb25lbnRFcnJvcjogYm9vbGVhbixcbiAgLi4uXG59O1xuZXhwb3J0IHR5cGUgQ2F0ZWdvcnkgPSBzdHJpbmc7XG5leHBvcnQgdHlwZSBDb2RlRnJhbWUgPSAkUmVhZE9ubHk8e3xcbiAgY29udGVudDogc3RyaW5nLFxuICBsb2NhdGlvbjogP3tcbiAgICByb3c6IG51bWJlcixcbiAgICBjb2x1bW46IG51bWJlcixcbiAgICAuLi5cbiAgfSxcbiAgZmlsZU5hbWU6IHN0cmluZyxcblxuICAvLyBUT0RPOiBXaGVuIFJlYWN0IHN3aXRjaGVkIHRvIHVzaW5nIGNhbGwgc3RhY2sgZnJhbWVzLFxuICAvLyB3ZSBnYWluZWQgdGhlIGFiaWxpdHkgdG8gdXNlIHRoZSBjb2xsYXBzZSBmbGFnLCBidXRcbiAgLy8gaXQgaXMgbm90IGludGVncmF0ZWQgaW50byB0aGUgTG9nQm94IFVJLlxuICBjb2xsYXBzZT86IGJvb2xlYW4sXG58fT47XG5leHBvcnQgdHlwZSBNZXNzYWdlID0gJFJlYWRPbmx5PHt8XG4gIGNvbnRlbnQ6IHN0cmluZyxcbiAgc3Vic3RpdHV0aW9uczogJFJlYWRPbmx5QXJyYXk8XG4gICAgJFJlYWRPbmx5PHt8XG4gICAgICBsZW5ndGg6IG51bWJlcixcbiAgICAgIG9mZnNldDogbnVtYmVyLFxuICAgIHx9PixcbiAgPixcbnx9PjtcblxuZXhwb3J0IHR5cGUgQ29tcG9uZW50U3RhY2sgPSAkUmVhZE9ubHlBcnJheTxDb2RlRnJhbWU+O1xuXG5jb25zdCBTVUJTVElUVVRJT04gPSBVVEZTZXF1ZW5jZS5CT00gKyAnJXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnBvbGF0aW9uKGFyZ3M6ICRSZWFkT25seUFycmF5PG1peGVkPik6ICRSZWFkT25seTx7fFxuICBjYXRlZ29yeTogQ2F0ZWdvcnksXG4gIG1lc3NhZ2U6IE1lc3NhZ2UsXG58fT4ge1xuICBjb25zdCBjYXRlZ29yeVBhcnRzID0gW107XG4gIGNvbnN0IGNvbnRlbnRQYXJ0cyA9IFtdO1xuICBjb25zdCBzdWJzdGl0dXRpb25PZmZzZXRzID0gW107XG5cbiAgY29uc3QgcmVtYWluaW5nID0gWy4uLmFyZ3NdO1xuICBpZiAodHlwZW9mIHJlbWFpbmluZ1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBmb3JtYXRTdHJpbmcgPSBTdHJpbmcocmVtYWluaW5nLnNoaWZ0KCkpO1xuICAgIGNvbnN0IGZvcm1hdFN0cmluZ1BhcnRzID0gZm9ybWF0U3RyaW5nLnNwbGl0KCclcycpO1xuICAgIGNvbnN0IHN1YnN0aXR1dGlvbkNvdW50ID0gZm9ybWF0U3RyaW5nUGFydHMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBzdWJzdGl0dXRpb25zID0gcmVtYWluaW5nLnNwbGljZSgwLCBzdWJzdGl0dXRpb25Db3VudCk7XG5cbiAgICBsZXQgY2F0ZWdvcnlTdHJpbmcgPSAnJztcbiAgICBsZXQgY29udGVudFN0cmluZyA9ICcnO1xuXG4gICAgbGV0IHN1YnN0aXR1dGlvbkluZGV4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGZvcm1hdFN0cmluZ1BhcnQgb2YgZm9ybWF0U3RyaW5nUGFydHMpIHtcbiAgICAgIGNhdGVnb3J5U3RyaW5nICs9IGZvcm1hdFN0cmluZ1BhcnQ7XG4gICAgICBjb250ZW50U3RyaW5nICs9IGZvcm1hdFN0cmluZ1BhcnQ7XG5cbiAgICAgIGlmIChzdWJzdGl0dXRpb25JbmRleCA8IHN1YnN0aXR1dGlvbkNvdW50KSB7XG4gICAgICAgIGlmIChzdWJzdGl0dXRpb25JbmRleCA8IHN1YnN0aXR1dGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRG9uJ3Qgc3RyaW5naWZ5IGEgc3RyaW5nIHR5cGUuXG4gICAgICAgICAgLy8gSXQgYWRkcyBxdW90YXRpb24gbWFyayB3cmFwcGVycyBhcm91bmQgdGhlIHN0cmluZyxcbiAgICAgICAgICAvLyB3aGljaCBjYXVzZXMgdGhlIExvZ0JveCB0byBsb29rIG9kZC5cbiAgICAgICAgICBjb25zdCBzdWJzdGl0dXRpb24gPVxuICAgICAgICAgICAgdHlwZW9mIHN1YnN0aXR1dGlvbnNbc3Vic3RpdHV0aW9uSW5kZXhdID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICA/IHN1YnN0aXR1dGlvbnNbc3Vic3RpdHV0aW9uSW5kZXhdXG4gICAgICAgICAgICAgIDogc3RyaW5naWZ5U2FmZShzdWJzdGl0dXRpb25zW3N1YnN0aXR1dGlvbkluZGV4XSk7XG4gICAgICAgICAgc3Vic3RpdHV0aW9uT2Zmc2V0cy5wdXNoKHtcbiAgICAgICAgICAgIGxlbmd0aDogc3Vic3RpdHV0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIG9mZnNldDogY29udGVudFN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXRlZ29yeVN0cmluZyArPSBTVUJTVElUVVRJT047XG4gICAgICAgICAgY29udGVudFN0cmluZyArPSBzdWJzdGl0dXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Vic3RpdHV0aW9uT2Zmc2V0cy5wdXNoKHtcbiAgICAgICAgICAgIGxlbmd0aDogMixcbiAgICAgICAgICAgIG9mZnNldDogY29udGVudFN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXRlZ29yeVN0cmluZyArPSAnJXMnO1xuICAgICAgICAgIGNvbnRlbnRTdHJpbmcgKz0gJyVzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YnN0aXR1dGlvbkluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlQYXJ0cy5wdXNoKGNhdGVnb3J5U3RyaW5nKTtcbiAgICBjb250ZW50UGFydHMucHVzaChjb250ZW50U3RyaW5nKTtcbiAgfVxuXG4gIGNvbnN0IHJlbWFpbmluZ0FyZ3MgPSByZW1haW5pbmcubWFwKGFyZyA9PiB7XG4gICAgLy8gRG9uJ3Qgc3RyaW5naWZ5IGEgc3RyaW5nIHR5cGUuXG4gICAgLy8gSXQgYWRkcyBxdW90YXRpb24gbWFyayB3cmFwcGVycyBhcm91bmQgdGhlIHN0cmluZyxcbiAgICAvLyB3aGljaCBjYXVzZXMgdGhlIExvZ0JveCB0byBsb29rIG9kZC5cbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgPyBhcmcgOiBzdHJpbmdpZnlTYWZlKGFyZyk7XG4gIH0pO1xuICBjYXRlZ29yeVBhcnRzLnB1c2goLi4ucmVtYWluaW5nQXJncyk7XG4gIGNvbnRlbnRQYXJ0cy5wdXNoKC4uLnJlbWFpbmluZ0FyZ3MpO1xuXG4gIHJldHVybiB7XG4gICAgY2F0ZWdvcnk6IGNhdGVnb3J5UGFydHMuam9pbignICcpLFxuICAgIG1lc3NhZ2U6IHtcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnRQYXJ0cy5qb2luKCcgJyksXG4gICAgICBzdWJzdGl0dXRpb25zOiBzdWJzdGl0dXRpb25PZmZzZXRzLFxuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzQ29tcG9uZW50U3RhY2soY29uc29sZUFyZ3VtZW50OiBzdHJpbmcpIHtcbiAgY29uc3QgaXNPbGRDb21wb25lbnRTdGFja0Zvcm1hdCA9IC8gezR9aW4vLnRlc3QoY29uc29sZUFyZ3VtZW50KTtcbiAgY29uc3QgaXNOZXdDb21wb25lbnRTdGFja0Zvcm1hdCA9IC8gezR9YXQvLnRlc3QoY29uc29sZUFyZ3VtZW50KTtcbiAgY29uc3QgaXNOZXdKU0NDb21wb25lbnRTdGFja0Zvcm1hdCA9IC9ALipcXG4vLnRlc3QoY29uc29sZUFyZ3VtZW50KTtcblxuICByZXR1cm4gKFxuICAgIGlzT2xkQ29tcG9uZW50U3RhY2tGb3JtYXQgfHxcbiAgICBpc05ld0NvbXBvbmVudFN0YWNrRm9ybWF0IHx8XG4gICAgaXNOZXdKU0NDb21wb25lbnRTdGFja0Zvcm1hdFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb21wb25lbnRTdGFjayhtZXNzYWdlOiBzdHJpbmcpOiBDb21wb25lbnRTdGFjayB7XG4gIC8vIEluIG5ld2VyIHZlcnNpb25zIG9mIFJlYWN0LCB0aGUgY29tcG9uZW50IHN0YWNrIGlzIGZvcm1hdHRlZCBhcyBhIGNhbGwgc3RhY2sgZnJhbWUuXG4gIC8vIEZpcnN0IHRyeSB0byBwYXJzZSB0aGUgY29tcG9uZW50IHN0YWNrIGFzIGEgY2FsbCBzdGFjayBmcmFtZSwgYW5kIGlmIHRoYXQgZG9lc24ndFxuICAvLyB3b3JrIHRoZW4gd2UnbGwgZmFsbGJhY2sgdG8gdGhlIG9sZCBjdXN0b20gY29tcG9uZW50IHN0YWNrIGZvcm1hdCBwYXJzaW5nLlxuICBjb25zdCBzdGFjayA9IHBhcnNlRXJyb3JTdGFjayhtZXNzYWdlKTtcbiAgaWYgKHN0YWNrICYmIHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gc3RhY2subWFwKGZyYW1lID0+ICh7XG4gICAgICBjb250ZW50OiBmcmFtZS5tZXRob2ROYW1lLFxuICAgICAgY29sbGFwc2U6IGZyYW1lLmNvbGxhcHNlIHx8IGZhbHNlLFxuICAgICAgZmlsZU5hbWU6IGZyYW1lLmZpbGUgPT0gbnVsbCA/ICd1bmtub3duJyA6IGZyYW1lLmZpbGUsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBjb2x1bW46IGZyYW1lLmNvbHVtbiA9PSBudWxsID8gLTEgOiBmcmFtZS5jb2x1bW4sXG4gICAgICAgIHJvdzogZnJhbWUubGluZU51bWJlciA9PSBudWxsID8gLTEgOiBmcmFtZS5saW5lTnVtYmVyLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZVxuICAgIC5zcGxpdCgvXFxuIHs0fWluIC9nKVxuICAgIC5tYXAocyA9PiB7XG4gICAgICBpZiAoIXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXRjaCA9IHMubWF0Y2goLyguKikgXFwoYXQgKC4qXFwuKD86anN8anN4fHRzfHRzeCkpOihbXFxkXSspXFwpLyk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBsZXQgW2NvbnRlbnQsIGZpbGVOYW1lLCByb3ddID0gbWF0Y2guc2xpY2UoMSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50LFxuICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgbG9jYXRpb246IHtjb2x1bW46IC0xLCByb3c6IHBhcnNlSW50KHJvdywgMTApfSxcbiAgICAgIH07XG4gICAgfSlcbiAgICAuZmlsdGVyKEJvb2xlYW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VMb2dCb3hFeGNlcHRpb24oXG4gIGVycm9yOiBFeHRlbmRlZEV4Y2VwdGlvbkRhdGEsXG4pOiBMb2dCb3hMb2dEYXRhIHtcbiAgY29uc3QgbWVzc2FnZSA9XG4gICAgZXJyb3Iub3JpZ2luYWxNZXNzYWdlICE9IG51bGwgPyBlcnJvci5vcmlnaW5hbE1lc3NhZ2UgOiAnVW5rbm93bic7XG5cbiAgY29uc3QgbWV0cm9JbnRlcm5hbEVycm9yID0gbWVzc2FnZS5tYXRjaChNRVRST19FUlJPUl9GT1JNQVQpO1xuICBpZiAobWV0cm9JbnRlcm5hbEVycm9yKSB7XG4gICAgY29uc3QgW2NvbnRlbnQsIGZpbGVOYW1lLCByb3csIGNvbHVtbiwgY29kZUZyYW1lXSA9XG4gICAgICBtZXRyb0ludGVybmFsRXJyb3Iuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICdmYXRhbCcsXG4gICAgICB0eXBlOiAnTWV0cm8gRXJyb3InLFxuICAgICAgc3RhY2s6IFtdLFxuICAgICAgaXNDb21wb25lbnRFcnJvcjogZmFsc2UsXG4gICAgICBjb21wb25lbnRTdGFjazogW10sXG4gICAgICBjb2RlRnJhbWU6IHtcbiAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgcm93OiBwYXJzZUludChyb3csIDEwKSxcbiAgICAgICAgICBjb2x1bW46IHBhcnNlSW50KGNvbHVtbiwgMTApLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBjb2RlRnJhbWUsXG4gICAgICB9LFxuICAgICAgbWVzc2FnZToge1xuICAgICAgICBjb250ZW50LFxuICAgICAgICBzdWJzdGl0dXRpb25zOiBbXSxcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yeTogYCR7ZmlsZU5hbWV9LSR7cm93fS0ke2NvbHVtbn1gLFxuICAgICAgZXh0cmFEYXRhOiBlcnJvci5leHRyYURhdGEsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGJhYmVsVHJhbnNmb3JtRXJyb3IgPSBtZXNzYWdlLm1hdGNoKEJBQkVMX1RSQU5TRk9STV9FUlJPUl9GT1JNQVQpO1xuICBpZiAoYmFiZWxUcmFuc2Zvcm1FcnJvcikge1xuICAgIC8vIFRyYW5zZm9ybSBlcnJvcnMgYXJlIHRocm93biBmcm9tIGluc2lkZSB0aGUgQmFiZWwgdHJhbnNmb3JtZXIuXG4gICAgY29uc3QgW2ZpbGVOYW1lLCBjb250ZW50LCByb3csIGNvbHVtbiwgY29kZUZyYW1lXSA9XG4gICAgICBiYWJlbFRyYW5zZm9ybUVycm9yLnNsaWNlKDEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAnc3ludGF4JyxcbiAgICAgIHN0YWNrOiBbXSxcbiAgICAgIGlzQ29tcG9uZW50RXJyb3I6IGZhbHNlLFxuICAgICAgY29tcG9uZW50U3RhY2s6IFtdLFxuICAgICAgY29kZUZyYW1lOiB7XG4gICAgICAgIGZpbGVOYW1lLFxuICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgIHJvdzogcGFyc2VJbnQocm93LCAxMCksXG4gICAgICAgICAgY29sdW1uOiBwYXJzZUludChjb2x1bW4sIDEwKSxcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogY29kZUZyYW1lLFxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgc3Vic3RpdHV0aW9uczogW10sXG4gICAgICB9LFxuICAgICAgY2F0ZWdvcnk6IGAke2ZpbGVOYW1lfS0ke3Jvd30tJHtjb2x1bW59YCxcbiAgICAgIGV4dHJhRGF0YTogZXJyb3IuZXh0cmFEYXRhLFxuICAgIH07XG4gIH1cblxuICAvLyBQZXJmb3JtIGEgY2hlYXAgbWF0Y2ggZmlyc3QgYmVmb3JlIHRyeWluZyB0byBwYXJzZSB0aGUgZnVsbCBtZXNzYWdlLCB3aGljaFxuICAvLyBjYW4gZ2V0IGV4cGVuc2l2ZSBmb3IgYXJiaXRyYXJ5IGlucHV0LlxuICBpZiAoQkFCRUxfQ09ERV9GUkFNRV9NQVJLRVJfUEFUVEVSTi50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgY29uc3QgYmFiZWxDb2RlRnJhbWVFcnJvciA9IG1lc3NhZ2UubWF0Y2goQkFCRUxfQ09ERV9GUkFNRV9FUlJPUl9GT1JNQVQpO1xuXG4gICAgaWYgKGJhYmVsQ29kZUZyYW1lRXJyb3IpIHtcbiAgICAgIC8vIENvZGVmcmFtZSBlcnJvcnMgYXJlIHRocm93biBmcm9tIGFueSB1c2Ugb2YgYnVpbGRDb2RlRnJhbWVFcnJvci5cbiAgICAgIGNvbnN0IFtmaWxlTmFtZSwgY29udGVudCwgY29kZUZyYW1lXSA9IGJhYmVsQ29kZUZyYW1lRXJyb3Iuc2xpY2UoMSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZXZlbDogJ3N5bnRheCcsXG4gICAgICAgIHN0YWNrOiBbXSxcbiAgICAgICAgaXNDb21wb25lbnRFcnJvcjogZmFsc2UsXG4gICAgICAgIGNvbXBvbmVudFN0YWNrOiBbXSxcbiAgICAgICAgY29kZUZyYW1lOiB7XG4gICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgbG9jYXRpb246IG51bGwsIC8vIFdlIGFyZSBub3QgZ2l2ZW4gdGhlIGxvY2F0aW9uLlxuICAgICAgICAgIGNvbnRlbnQ6IGNvZGVGcmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgc3Vic3RpdHV0aW9uczogW10sXG4gICAgICAgIH0sXG4gICAgICAgIGNhdGVnb3J5OiBgJHtmaWxlTmFtZX0tJHsxfS0kezF9YCxcbiAgICAgICAgZXh0cmFEYXRhOiBlcnJvci5leHRyYURhdGEsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChtZXNzYWdlLm1hdGNoKC9eVHJhbnNmb3JtRXJyb3IgLykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICdzeW50YXgnLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgaXNDb21wb25lbnRFcnJvcjogZXJyb3IuaXNDb21wb25lbnRFcnJvcixcbiAgICAgIGNvbXBvbmVudFN0YWNrOiBbXSxcbiAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgICAgc3Vic3RpdHV0aW9uczogW10sXG4gICAgICB9LFxuICAgICAgY2F0ZWdvcnk6IG1lc3NhZ2UsXG4gICAgICBleHRyYURhdGE6IGVycm9yLmV4dHJhRGF0YSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgY29tcG9uZW50U3RhY2sgPSBlcnJvci5jb21wb25lbnRTdGFjaztcbiAgaWYgKGVycm9yLmlzRmF0YWwgfHwgZXJyb3IuaXNDb21wb25lbnRFcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogJ2ZhdGFsJyxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgIGlzQ29tcG9uZW50RXJyb3I6IGVycm9yLmlzQ29tcG9uZW50RXJyb3IsXG4gICAgICBjb21wb25lbnRTdGFjazpcbiAgICAgICAgY29tcG9uZW50U3RhY2sgIT0gbnVsbCA/IHBhcnNlQ29tcG9uZW50U3RhY2soY29tcG9uZW50U3RhY2spIDogW10sXG4gICAgICBleHRyYURhdGE6IGVycm9yLmV4dHJhRGF0YSxcbiAgICAgIC4uLnBhcnNlSW50ZXJwb2xhdGlvbihbbWVzc2FnZV0pLFxuICAgIH07XG4gIH1cblxuICBpZiAoY29tcG9uZW50U3RhY2sgIT0gbnVsbCkge1xuICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRoYXQgY29uc29sZSBlcnJvcnMgaGF2ZSBhIGNvbXBvbmVudFN0YWNrLlxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgIGlzQ29tcG9uZW50RXJyb3I6IGVycm9yLmlzQ29tcG9uZW50RXJyb3IsXG4gICAgICBjb21wb25lbnRTdGFjazogcGFyc2VDb21wb25lbnRTdGFjayhjb21wb25lbnRTdGFjayksXG4gICAgICBleHRyYURhdGE6IGVycm9yLmV4dHJhRGF0YSxcbiAgICAgIC4uLnBhcnNlSW50ZXJwb2xhdGlvbihbbWVzc2FnZV0pLFxuICAgIH07XG4gIH1cblxuICAvLyBNb3N0IGBjb25zb2xlLmVycm9yYCBjYWxscyB3b24ndCBoYXZlIGEgY29tcG9uZW50U3RhY2suIFdlIHBhcnNlIHRoZW0gbGlrZVxuICAvLyByZWd1bGFyIGxvZ3Mgd2hpY2ggaGF2ZSB0aGUgY29tcG9uZW50IHN0YWNrIGJ1cmllZCBpbiB0aGUgbWVzc2FnZS5cbiAgcmV0dXJuIHtcbiAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgaXNDb21wb25lbnRFcnJvcjogZXJyb3IuaXNDb21wb25lbnRFcnJvcixcbiAgICBleHRyYURhdGE6IGVycm9yLmV4dHJhRGF0YSxcbiAgICAuLi5wYXJzZUxvZ0JveExvZyhbbWVzc2FnZV0pLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VMb2dCb3hMb2coYXJnczogJFJlYWRPbmx5QXJyYXk8bWl4ZWQ+KToge3xcbiAgY29tcG9uZW50U3RhY2s6IENvbXBvbmVudFN0YWNrLFxuICBjYXRlZ29yeTogQ2F0ZWdvcnksXG4gIG1lc3NhZ2U6IE1lc3NhZ2UsXG58fSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBhcmdzWzBdO1xuICBsZXQgYXJnc1dpdGhvdXRDb21wb25lbnRTdGFjazogQXJyYXk8bWl4ZWQ+ID0gW107XG4gIGxldCBjb21wb25lbnRTdGFjazogQ29tcG9uZW50U3RhY2sgPSBbXTtcblxuICAvLyBFeHRyYWN0IGNvbXBvbmVudCBzdGFjayBmcm9tIHdhcm5pbmdzIGxpa2UgXCJTb21lIHdhcm5pbmclc1wiLlxuICBpZiAoXG4gICAgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmXG4gICAgbWVzc2FnZS5zbGljZSgtMikgPT09ICclcycgJiZcbiAgICBhcmdzLmxlbmd0aCA+IDBcbiAgKSB7XG4gICAgY29uc3QgbGFzdEFyZyA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAodHlwZW9mIGxhc3RBcmcgPT09ICdzdHJpbmcnICYmIGlzQ29tcG9uZW50U3RhY2sobGFzdEFyZykpIHtcbiAgICAgIGFyZ3NXaXRob3V0Q29tcG9uZW50U3RhY2sgPSBhcmdzLnNsaWNlKDAsIC0xKTtcbiAgICAgIGFyZ3NXaXRob3V0Q29tcG9uZW50U3RhY2tbMF0gPSBtZXNzYWdlLnNsaWNlKDAsIC0yKTtcbiAgICAgIGNvbXBvbmVudFN0YWNrID0gcGFyc2VDb21wb25lbnRTdGFjayhsYXN0QXJnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29tcG9uZW50U3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgLy8gVHJ5IGZpbmRpbmcgdGhlIGNvbXBvbmVudCBzdGFjayBlbHNld2hlcmUuXG4gICAgZm9yIChjb25zdCBhcmcgb2YgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnICYmIGlzQ29tcG9uZW50U3RhY2soYXJnKSkge1xuICAgICAgICAvLyBTdHJpcCBvdXQgYW55IG1lc3NhZ2VzIGJlZm9yZSB0aGUgY29tcG9uZW50IHN0YWNrLlxuICAgICAgICBsZXQgbWVzc2FnZUVuZEluZGV4ID0gYXJnLnNlYXJjaCgvXFxuIHs0fShpbnxhdCkgLyk7XG4gICAgICAgIGlmIChtZXNzYWdlRW5kSW5kZXggPCAwKSB7XG4gICAgICAgICAgLy8gSGFuZGxlIEpTQyBjb21wb25lbnQgc3RhY2tzLlxuICAgICAgICAgIG1lc3NhZ2VFbmRJbmRleCA9IGFyZy5zZWFyY2goL1xcbi8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlRW5kSW5kZXggPiAwKSB7XG4gICAgICAgICAgYXJnc1dpdGhvdXRDb21wb25lbnRTdGFjay5wdXNoKGFyZy5zbGljZSgwLCBtZXNzYWdlRW5kSW5kZXgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID0gcGFyc2VDb21wb25lbnRTdGFjayhhcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJnc1dpdGhvdXRDb21wb25lbnRTdGFjay5wdXNoKGFyZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5wYXJzZUludGVycG9sYXRpb24oYXJnc1dpdGhvdXRDb21wb25lbnRTdGFjayksXG4gICAgY29tcG9uZW50U3RhY2ssXG4gIH07XG59XG4i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