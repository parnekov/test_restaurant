{"version":3,"names":["_interopRequireDefault","require","_toConsumableArray2","_classCallCheck2","_createClass2","Object","defineProperty","exports","value","default","_jestGetType","supportTypes","Replaceable","object","type","getType","includes","Error","key","forEach","cb","_this","descriptors","getOwnPropertyDescriptors","concat","keys","getOwnPropertySymbols","filter","enumerable","get","set","isReplaceable","obj1","obj2","obj1Type","obj2Type"],"sources":["Replaceable.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\nvar _jestGetType = require('jest-get-type');\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst supportTypes = ['map', 'array', 'object'];\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nclass Replaceable {\n  object;\n  type;\n  constructor(object) {\n    this.object = object;\n    this.type = (0, _jestGetType.getType)(object);\n    if (!supportTypes.includes(this.type)) {\n      throw new Error(`Type ${this.type} is not support in Replaceable!`);\n    }\n  }\n  static isReplaceable(obj1, obj2) {\n    const obj1Type = (0, _jestGetType.getType)(obj1);\n    const obj2Type = (0, _jestGetType.getType)(obj2);\n    return obj1Type === obj2Type && supportTypes.includes(obj1Type);\n  }\n  forEach(cb) {\n    if (this.type === 'object') {\n      const descriptors = Object.getOwnPropertyDescriptors(this.object);\n      [\n        ...Object.keys(descriptors),\n        ...Object.getOwnPropertySymbols(descriptors)\n      ]\n        //@ts-expect-error because typescript do not support symbol key in object\n        //https://github.com/microsoft/TypeScript/issues/1863\n        .filter(key => descriptors[key].enumerable)\n        .forEach(key => {\n          cb(this.object[key], key, this.object);\n        });\n    } else {\n      this.object.forEach(cb);\n    }\n  }\n  get(key) {\n    if (this.type === 'map') {\n      return this.object.get(key);\n    }\n    return this.object[key];\n  }\n  set(key, value) {\n    if (this.type === 'map') {\n      this.object.set(key, value);\n    } else {\n      this.object[key] = value;\n    }\n  }\n}\n/* eslint-enable */\nexports.default = Replaceable;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,sBAAA,GAAAC,OAAA;AAAA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAA,IAAAE,gBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAA,IAAAG,aAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEbI,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxB,IAAIC,YAAY,GAAGT,OAAO,CAAC,eAAe,CAAC;AAQ3C,IAAMU,YAAY,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC;AAAC,IAE1CC,WAAW;EAGf,SAAAA,YAAYC,MAAM,EAAE;IAAA,IAAAV,gBAAA,CAAAM,OAAA,QAAAG,WAAA;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,IAAI,GAAG,CAAC,CAAC,EAAEJ,YAAY,CAACK,OAAO,EAAEF,MAAM,CAAC;IAC7C,IAAI,CAACF,YAAY,CAACK,QAAQ,CAAC,IAAI,CAACF,IAAI,CAAC,EAAE;MACrC,MAAM,IAAIG,KAAK,CAAE,QAAO,IAAI,CAACH,IAAK,iCAAgC,CAAC;IACrE;EACF;EAAC,WAAAV,aAAA,CAAAK,OAAA,EAAAG,WAAA;IAAAM,GAAA;IAAAV,KAAA,EAMD,SAAAW,QAAQC,EAAE,EAAE;MAAA,IAAAC,KAAA;MACV,IAAI,IAAI,CAACP,IAAI,KAAK,QAAQ,EAAE;QAC1B,IAAMQ,WAAW,GAAGjB,MAAM,CAACkB,yBAAyB,CAAC,IAAI,CAACV,MAAM,CAAC;QACjE,GAAAW,MAAA,KAAAtB,mBAAA,CAAAO,OAAA,EACKJ,MAAM,CAACoB,IAAI,CAACH,WAAW,CAAC,OAAApB,mBAAA,CAAAO,OAAA,EACxBJ,MAAM,CAACqB,qBAAqB,CAACJ,WAAW,CAAC,GAI3CK,MAAM,CAAC,UAAAT,GAAG;UAAA,OAAII,WAAW,CAACJ,GAAG,CAAC,CAACU,UAAU;QAAA,EAAC,CAC1CT,OAAO,CAAC,UAAAD,GAAG,EAAI;UACdE,EAAE,CAACC,KAAI,CAACR,MAAM,CAACK,GAAG,CAAC,EAAEA,GAAG,EAAEG,KAAI,CAACR,MAAM,CAAC;QACxC,CAAC,CAAC;MACN,CAAC,MAAM;QACL,IAAI,CAACA,MAAM,CAACM,OAAO,CAACC,EAAE,CAAC;MACzB;IACF;EAAC;IAAAF,GAAA;IAAAV,KAAA,EACD,SAAAqB,IAAIX,GAAG,EAAE;MACP,IAAI,IAAI,CAACJ,IAAI,KAAK,KAAK,EAAE;QACvB,OAAO,IAAI,CAACD,MAAM,CAACgB,GAAG,CAACX,GAAG,CAAC;MAC7B;MACA,OAAO,IAAI,CAACL,MAAM,CAACK,GAAG,CAAC;IACzB;EAAC;IAAAA,GAAA;IAAAV,KAAA,EACD,SAAAsB,IAAIZ,GAAG,EAAEV,KAAK,EAAE;MACd,IAAI,IAAI,CAACM,IAAI,KAAK,KAAK,EAAE;QACvB,IAAI,CAACD,MAAM,CAACiB,GAAG,CAACZ,GAAG,EAAEV,KAAK,CAAC;MAC7B,CAAC,MAAM;QACL,IAAI,CAACK,MAAM,CAACK,GAAG,CAAC,GAAGV,KAAK;MAC1B;IACF;EAAC;IAAAU,GAAA;IAAAV,KAAA,EAlCD,SAAAuB,cAAqBC,IAAI,EAAEC,IAAI,EAAE;MAC/B,IAAMC,QAAQ,GAAG,CAAC,CAAC,EAAExB,YAAY,CAACK,OAAO,EAAEiB,IAAI,CAAC;MAChD,IAAMG,QAAQ,GAAG,CAAC,CAAC,EAAEzB,YAAY,CAACK,OAAO,EAAEkB,IAAI,CAAC;MAChD,OAAOC,QAAQ,KAAKC,QAAQ,IAAIxB,YAAY,CAACK,QAAQ,CAACkB,QAAQ,CAAC;IACjE;EAAC;AAAA;AAiCH3B,OAAO,CAACE,OAAO,GAAGG,WAAW","ignoreList":[]}