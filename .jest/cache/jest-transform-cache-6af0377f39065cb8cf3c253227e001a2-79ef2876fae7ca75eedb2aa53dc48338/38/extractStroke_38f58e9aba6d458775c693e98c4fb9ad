15b57c2dfe05df3d0eb2ee5317db3292
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = extractStroke;
var _extractBrush = _interopRequireDefault(require("./extractBrush"));
var _extractOpacity = _interopRequireDefault(require("./extractOpacity"));
var _extractLengthList = _interopRequireDefault(require("./extractLengthList"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var caps = {
  butt: 0,
  square: 2,
  round: 1
};
var joins = {
  miter: 0,
  bevel: 2,
  round: 1
};
var vectorEffects = {
  none: 0,
  default: 0,
  nonScalingStroke: 1,
  'non-scaling-stroke': 1,
  inherit: 2,
  uri: 3
};
function extractStroke(o, props, inherited) {
  var stroke = props.stroke,
    strokeOpacity = props.strokeOpacity,
    strokeLinecap = props.strokeLinecap,
    strokeLinejoin = props.strokeLinejoin,
    strokeDasharray = props.strokeDasharray,
    strokeWidth = props.strokeWidth,
    strokeDashoffset = props.strokeDashoffset,
    strokeMiterlimit = props.strokeMiterlimit,
    vectorEffect = props.vectorEffect;
  if (stroke != null) {
    inherited.push('stroke');
    o.stroke = (0, _extractBrush.default)(stroke);
  }
  if (strokeWidth != null) {
    inherited.push('strokeWidth');
    o.strokeWidth = strokeWidth;
  }
  if (strokeOpacity != null) {
    inherited.push('strokeOpacity');
    o.strokeOpacity = (0, _extractOpacity.default)(strokeOpacity);
  }
  if (strokeDasharray != null) {
    inherited.push('strokeDasharray');
    var strokeDash = !strokeDasharray || strokeDasharray === 'none' ? null : (0, _extractLengthList.default)(strokeDasharray);
    o.strokeDasharray = strokeDash && strokeDash.length % 2 === 1 ? strokeDash.concat(strokeDash) : strokeDash;
  }
  if (strokeDashoffset != null) {
    inherited.push('strokeDashoffset');
    o.strokeDashoffset = strokeDasharray && strokeDashoffset ? +strokeDashoffset || 0 : null;
  }
  if (strokeLinecap != null) {
    inherited.push('strokeLinecap');
    o.strokeLinecap = strokeLinecap && caps[strokeLinecap] || 0;
  }
  if (strokeLinejoin != null) {
    inherited.push('strokeLinejoin');
    o.strokeLinejoin = strokeLinejoin && joins[strokeLinejoin] || 0;
  }
  if (strokeMiterlimit != null) {
    inherited.push('strokeMiterlimit');
    o.strokeMiterlimit = (strokeMiterlimit && typeof strokeMiterlimit !== 'number' ? parseFloat(strokeMiterlimit) : strokeMiterlimit) || 4;
  }
  if (vectorEffect != null) {
    o.vectorEffect = vectorEffect && vectorEffects[vectorEffect] || 0;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXh0cmFjdEJydXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXh0cmFjdE9wYWNpdHkiLCJfZXh0cmFjdExlbmd0aExpc3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhcHMiLCJidXR0Iiwic3F1YXJlIiwicm91bmQiLCJqb2lucyIsIm1pdGVyIiwiYmV2ZWwiLCJ2ZWN0b3JFZmZlY3RzIiwibm9uZSIsIm5vblNjYWxpbmdTdHJva2UiLCJpbmhlcml0IiwidXJpIiwiZXh0cmFjdFN0cm9rZSIsIm8iLCJwcm9wcyIsImluaGVyaXRlZCIsInN0cm9rZSIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VXaWR0aCIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0IiwidmVjdG9yRWZmZWN0IiwicHVzaCIsInN0cm9rZURhc2giLCJsZW5ndGgiLCJjb25jYXQiLCJwYXJzZUZsb2F0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9leHRyYWN0L2V4dHJhY3RTdHJva2UudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBb0QsU0FBQUQsdUJBQUFJLEdBQUE7RUFBQSxPQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBO0lBQUFFLE9BQUEsRUFBQUY7RUFBQTtBQUFBO0FBR3BELElBQU1HLElBQUksR0FBRztFQUNYQyxJQUFJLEVBQUUsQ0FBQztFQUNQQyxNQUFNLEVBQUUsQ0FBQztFQUNUQyxLQUFLLEVBQUU7QUFDVCxDQUFDO0FB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