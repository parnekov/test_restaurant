{"version":3,"names":["_queryName","require","deprecateQueries","queriesObject","recommendation","result","Object","keys","forEach","queryName","queryFn","deprecateQuery","formattedRecommendation","replace","getQueryPrefix","wrapper","errorMessage","console","warn","apply","arguments","warned","printDeprecationWarning","functionName"],"sources":["../../src/helpers/deprecation.ts"],"sourcesContent":["import { getQueryPrefix } from './query-name';\n\nexport function deprecateQueries<Queries extends Record<string, any>>(\n  queriesObject: Queries,\n  recommendation: string,\n): Queries {\n  const result = {} as Queries;\n  Object.keys(queriesObject).forEach((queryName) => {\n    const queryFn = queriesObject[queryName];\n    // @ts-expect-error: generic typing is hard\n    result[queryName] = deprecateQuery(queryFn, queryName, recommendation);\n  });\n\n  return result;\n}\n\nfunction deprecateQuery<QueryFn extends (...args: any) => any>(\n  queryFn: QueryFn,\n  queryName: string,\n  recommendation: string,\n): QueryFn {\n  const formattedRecommendation = recommendation.replace(\n    /{queryPrefix}/g,\n    getQueryPrefix(queryName),\n  );\n\n  // @ts-expect-error: generic typing is hard\n  const wrapper: QueryFn = (...args: any) => {\n    const errorMessage = `${queryName}(...) is deprecated and will be removed in the future.\\n\\n${formattedRecommendation}`;\n    // eslint-disable-next-line no-console\n    console.warn(errorMessage);\n    return queryFn(...args);\n  };\n\n  return wrapper;\n}\n\nconst warned: { [functionName: string]: boolean } = {};\n\n/* istanbul ignore next: occasionally used */\nexport function printDeprecationWarning(functionName: string) {\n  if (warned[functionName]) {\n    return;\n  }\n\n  // eslint-disable-next-line no-console\n  console.warn(`\n  Deprecation Warning:\n  Use of ${functionName} is not recommended and will be deleted in future versions of @testing-library/react-native.\n  `);\n\n  warned[functionName] = true;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAEO,SAASC,gBAAgBA,CAC9BC,aAAsB,EACtBC,cAAsB,EACb;EACT,IAAMC,MAAM,GAAG,CAAC,CAAY;EAC5BC,MAAM,CAACC,IAAI,CAACJ,aAAa,CAAC,CAACK,OAAO,CAAE,UAAAC,SAAS,EAAK;IAChD,IAAMC,OAAO,GAAGP,aAAa,CAACM,SAAS,CAAC;IAExCJ,MAAM,CAACI,SAAS,CAAC,GAAGE,cAAc,CAACD,OAAO,EAAED,SAAS,EAAEL,cAAc,CAAC;EACxE,CAAC,CAAC;EAEF,OAAOC,MAAM;AACf;AAEA,SAASM,cAAcA,CACrBD,OAAgB,EAChBD,SAAiB,EACjBL,cAAsB,EACb;EACT,IAAMQ,uBAAuB,GAAGR,cAAc,CAACS,OAAO,CACpD,gBAAgB,EAChB,IAAAb,UAAA,CAAAc,cAAc,EAACL,SAAS,CAC1B,CAAC;EAGD,IAAMM,OAAgB,GAAG,SAAnBA,OAAgBA,CAAA,EAAqB;IACzC,IAAMC,YAAY,GAAI,GAAEP,SAAU,6DAA4DG,uBAAwB,EAAC;IAEvHK,OAAO,CAACC,IAAI,CAACF,YAAY,CAAC;IAC1B,OAAON,OAAO,CAAAS,KAAA,SAAAC,SAAQ,CAAC;EACzB,CAAC;EAED,OAAOL,OAAO;AAChB;AAEA,IAAMM,MAA2C,GAAG,CAAC,CAAC;AAG/C,SAASC,uBAAuBA,CAACC,YAAoB,EAAE;EAC5D,IAAIF,MAAM,CAACE,YAAY,CAAC,EAAE;IACxB;EACF;EAGAN,OAAO,CAACC,IAAI,CAAE;AAChB;AACA,WAAWK,YAAa;AACxB,GAAG,CAAC;EAEFF,MAAM,CAACE,YAAY,CAAC,GAAG,IAAI;AAC7B","ignoreList":[]}