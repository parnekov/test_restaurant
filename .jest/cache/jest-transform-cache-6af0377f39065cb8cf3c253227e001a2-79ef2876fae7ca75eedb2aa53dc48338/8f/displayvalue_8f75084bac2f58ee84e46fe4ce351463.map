{"version":3,"names":["_findAll","require","_hostComponentNames","_textInput","_matches","_makeQueries","matchDisplayValue","node","expectedValue","options","arguments","length","undefined","exact","normalizer","nodeValue","getTextInputValue","matches","queryAllByDisplayValue","instance","queryAllByDisplayValueFn","displayValue","queryOptions","findAll","isHostTextInput","getMultipleError","String","getMissingError","_ref","makeQueries","getBy","getAllBy","queryBy","queryAllBy","findBy","findAllBy","bindByDisplayValueQueries","getByDisplayValue","getAllByDisplayValue","queryByDisplayValue","findByDisplayValue","findAllByDisplayValue","exports"],"sources":["../../src/queries/display-value.ts"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport { findAll } from '../helpers/find-all';\nimport { isHostTextInput } from '../helpers/host-component-names';\nimport { getTextInputValue } from '../helpers/text-input';\nimport { matches, TextMatch, TextMatchOptions } from '../matches';\nimport { makeQueries } from './make-queries';\nimport type {\n  FindAllByQuery,\n  FindByQuery,\n  GetAllByQuery,\n  GetByQuery,\n  QueryAllByQuery,\n  QueryByQuery,\n} from './make-queries';\nimport type { CommonQueryOptions } from './options';\n\ntype ByDisplayValueOptions = CommonQueryOptions & TextMatchOptions;\n\nconst matchDisplayValue = (\n  node: ReactTestInstance,\n  expectedValue: TextMatch,\n  options: TextMatchOptions = {},\n) => {\n  const { exact, normalizer } = options;\n  const nodeValue = getTextInputValue(node);\n  return matches(expectedValue, nodeValue, normalizer, exact);\n};\n\nconst queryAllByDisplayValue = (\n  instance: ReactTestInstance,\n): QueryAllByQuery<TextMatch, ByDisplayValueOptions> =>\n  function queryAllByDisplayValueFn(displayValue, queryOptions) {\n    return findAll(\n      instance,\n      (node) => isHostTextInput(node) && matchDisplayValue(node, displayValue, queryOptions),\n      queryOptions,\n    );\n  };\n\nconst getMultipleError = (displayValue: TextMatch) =>\n  `Found multiple elements with display value: ${String(displayValue)} `;\nconst getMissingError = (displayValue: TextMatch) =>\n  `Unable to find an element with displayValue: ${String(displayValue)}`;\n\nconst { getBy, getAllBy, queryBy, queryAllBy, findBy, findAllBy } = makeQueries(\n  queryAllByDisplayValue,\n  getMissingError,\n  getMultipleError,\n);\n\nexport type ByDisplayValueQueries = {\n  getByDisplayValue: GetByQuery<TextMatch, ByDisplayValueOptions>;\n  getAllByDisplayValue: GetAllByQuery<TextMatch, ByDisplayValueOptions>;\n  queryByDisplayValue: QueryByQuery<TextMatch, ByDisplayValueOptions>;\n  queryAllByDisplayValue: QueryAllByQuery<TextMatch, ByDisplayValueOptions>;\n  findByDisplayValue: FindByQuery<TextMatch, ByDisplayValueOptions>;\n  findAllByDisplayValue: FindAllByQuery<TextMatch, ByDisplayValueOptions>;\n};\n\nexport const bindByDisplayValueQueries = (instance: ReactTestInstance): ByDisplayValueQueries => ({\n  getByDisplayValue: getBy(instance),\n  getAllByDisplayValue: getAllBy(instance),\n  queryByDisplayValue: queryBy(instance),\n  queryAllByDisplayValue: queryAllBy(instance),\n  findByDisplayValue: findBy(instance),\n  findAllByDisplayValue: findAllBy(instance),\n});\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AAaA,IAAMK,iBAAiB,GAAG,SAApBA,iBAAiBA,CACrBC,IAAuB,EACvBC,aAAwB,EAErB;EAAA,IADHC,OAAyB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAE9B,IAAQG,KAAK,GAAiBJ,OAAO,CAA7BI,KAAK;IAAEC,UAAA,GAAeL,OAAO,CAAtBK,UAAA;EACf,IAAMC,SAAS,GAAG,IAAAZ,UAAA,CAAAa,iBAAiB,EAACT,IAAI,CAAC;EACzC,OAAO,IAAAH,QAAA,CAAAa,OAAO,EAACT,aAAa,EAAEO,SAAS,EAAED,UAAU,EAAED,KAAK,CAAC;AAC7D,CAAC;AAED,IAAMK,sBAAsB,GAC1B,SADIA,sBAAsBA,CAC1BC,QAA2B;EAAA,OAE3B,SAASC,wBAAwBA,CAACC,YAAY,EAAEC,YAAY,EAAE;IAC5D,OAAO,IAAAtB,QAAA,CAAAuB,OAAO,EACZJ,QAAQ,EACP,UAAAZ,IAAI;MAAA,OAAK,IAAAL,mBAAA,CAAAsB,eAAe,EAACjB,IAAI,CAAC,IAAID,iBAAiB,CAACC,IAAI,EAAEc,YAAY,EAAEC,YAAY,CAAC;IAAA,GACtFA,YACF,CAAC;EACH,CAAC;AAAA;AAEH,IAAMG,gBAAgB,GAAI,SAApBA,gBAAgBA,CAAIJ,YAAuB;EAAA,OAC9C,+CAA8CK,MAAM,CAACL,YAAY,CAAE,GAAE;AAAA;AACxE,IAAMM,eAAe,GAAI,SAAnBA,eAAeA,CAAIN,YAAuB;EAAA,OAC7C,gDAA+CK,MAAM,CAACL,YAAY,CAAE,EAAC;AAAA;AAExE,IAAAO,IAAA,GAAoE,IAAAvB,YAAA,CAAAwB,WAAW,EAC7EX,sBAAsB,EACtBS,eAAe,EACfF,gBACF,CAAC;EAJOK,KAAK,GAAAF,IAAA,CAALE,KAAK;EAAEC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAAEC,OAAO,GAAAJ,IAAA,CAAPI,OAAO;EAAEC,UAAU,GAAAL,IAAA,CAAVK,UAAU;EAAEC,MAAM,GAAAN,IAAA,CAANM,MAAM;EAAEC,SAAA,GAAAP,IAAA,CAAAO,SAAA;AAe/C,IAAMC,yBAAyB,GAAI,SAA7BA,yBAAyBA,CAAIjB,QAA2B;EAAA,OAA6B;IAChGkB,iBAAiB,EAAEP,KAAK,CAACX,QAAQ,CAAC;IAClCmB,oBAAoB,EAAEP,QAAQ,CAACZ,QAAQ,CAAC;IACxCoB,mBAAmB,EAAEP,OAAO,CAACb,QAAQ,CAAC;IACtCD,sBAAsB,EAAEe,UAAU,CAACd,QAAQ,CAAC;IAC5CqB,kBAAkB,EAAEN,MAAM,CAACf,QAAQ,CAAC;IACpCsB,qBAAqB,EAAEN,SAAS,CAAChB,QAAQ;EAC3C,CAAC;AAAA,CAAC;AAACuB,OAAA,CAAAN,yBAAA,GAAAA,yBAAA","ignoreList":[]}